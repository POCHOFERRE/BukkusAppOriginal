/*! For license information please see main.0b98ad56.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},47:e=>{"use strict";var t={linear:function(e,t,n,r){return(n-t)*e/r+t},easeInQuad:function(e,t,n,r){return(n-t)*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-(n-t)*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return(n-t)*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-(n-t)*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var i=n-t;return-i*Math.cos(e/r*(Math.PI/2))+i+t},easeOutSine:function(e,t,n,r){return(n-t)*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-(n-t)/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0==e?t:(n-t)*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var i=n-t;return e==r?t+i:i*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var i=n-t;return 0===e?t:e===r?t+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-(n-t)*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return(n-t)*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var i,o,s,a=n-t;return s=1.70158,0===e?t:1===(e/=r)?t+a:((o=0)||(o=.3*r),(i=a)<Math.abs(a)?(i=a,s=o/4):s=o/(2*Math.PI)*Math.asin(a/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/o)+t)},easeOutElastic:function(e,t,n,r){var i,o,s,a=n-t;return s=1.70158,0===e?t:1===(e/=r)?t+a:((o=0)||(o=.3*r),(i=a)<Math.abs(a)?(i=a,s=o/4):s=o/(2*Math.PI)*Math.asin(a/i),i*Math.pow(2,-10*e)*Math.sin((e*r-s)*(2*Math.PI)/o)+a+t)},easeInOutElastic:function(e,t,n,r){var i,o,s,a=n-t;return s=1.70158,0===e?t:2===(e/=r/2)?t+a:((o=0)||(o=r*(.3*1.5)),(i=a)<Math.abs(a)?(i=a,s=o/4):s=o/(2*Math.PI)*Math.asin(a/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/o)*.5+a+t)},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){var o=n-t;return void 0===i&&(i=1.70158),(e/=r/2)<1?o/2*(e*e*((1+(i*=1.525))*e-i))+t:o/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:function(e,n,r,i){var o=r-n;return o-t.easeOutBounce(i-e,0,o,i)+n},easeOutBounce:function(e,t,n,r){var i=n-t;return(e/=r)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,n,r,i){var o=r-n;return e<i/2?.5*t.easeInBounce(2*e,0,o,i)+n:.5*t.easeOutBounce(2*e-i,0,o,i)+.5*o+n}};e.exports=t},112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(43))&&r.__esModule?r:{default:r};var o={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return i.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return i.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=o},115:function(e,t){var n,r,i;r=[],void 0===(i="function"===typeof(n=function(){function e(e){var t=getComputedStyle(e,null).getPropertyValue("overflow");return t.indexOf("scroll")>-1||t.indexOf("auto")>-1}function t(t){if(t instanceof HTMLElement||t instanceof SVGElement){for(var n=t.parentNode;n.parentNode;){if(e(n))return n;n=n.parentNode}return document.scrollingElement||document.documentElement}}return t})?n.apply(t,r):n)||(e.exports=i)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.extractObject=void 0,t.filterSettings=function(e){return R.reduce(function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t},{})},t.validSettings=t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=void 0;var r=o(n(43)),i=o(n(112));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var d=t.safePreventDefault=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},h=t.getOnDemandLazySlides=function(e){for(var t=[],n=f(e),r=p(e),i=n;i<r;i++)e.lazyLoadedList.indexOf(i)<0&&t.push(i);return t},f=(t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=p(e),i=n;i<r;i++)t.push(i);return t},t.lazyStartIndex=function(e){return e.currentSlide-m(e)}),p=t.lazyEndIndex=function(e){return e.currentSlide+g(e)},m=t.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},g=t.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},v=t.getWidth=function(e){return e&&e.offsetWidth||0},y=t.getHeight=function(e){return e&&e.offsetHeight||0},b=t.getSwipeDirection=function(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(i=Math.round(180*r/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":!0===o?i>=35&&i<=135?"up":"down":"vertical"},w=t.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},x=(t.extractObject=function(e,t){var n={};return t.forEach(function(t){return n[t]=e[t]}),n},t.initializedState=function(e){var t,n=r.default.Children.count(e.children),i=e.listRef,o=Math.ceil(v(i)),s=e.trackRef&&e.trackRef.node,a=Math.ceil(v(s));if(e.vertical)t=o;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=o/100),t=Math.ceil((o-c)/e.slidesToShow)}var u=i&&y(i.querySelector('[data-index="0"]')),d=u*e.slidesToShow,f=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(f=n-1-e.initialSlide);var p=e.lazyLoadedList||[],m=h(l(l({},e),{},{currentSlide:f,lazyLoadedList:p})),g={slideCount:n,slideWidth:t,listWidth:o,trackWidth:a,currentSlide:f,slideHeight:u,listHeight:d,lazyLoadedList:p=p.concat(m)};return null===e.autoplaying&&e.autoplay&&(g.autoplaying="playing"),g},t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,i=e.infinite,o=e.index,s=e.slideCount,a=e.lazyLoad,c=e.currentSlide,d=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(t&&n)return{};var v,y,b,x=o,S={},E={},k=i?o:u(o,0,s-1);if(r){if(!i&&(o<0||o>=s))return{};o<0?x=o+s:o>=s&&(x=o-s),a&&g.indexOf(x)<0&&(g=g.concat(x)),S={animating:!0,currentSlide:x,lazyLoadedList:g,targetSlide:x},E={animating:!1,targetSlide:x}}else v=x,x<0?(v=x+s,i?s%f!==0&&(v=s-s%f):v=0):!w(e)&&x>c?x=v=c:d&&x>=s?(x=i?s:s-1,v=i?0:s-1):x>=s&&(v=x-s,i?s%f!==0&&(v=0):v=s-p),!i&&x+p>=s&&(v=s-p),y=C(l(l({},e),{},{slideIndex:x})),b=C(l(l({},e),{},{slideIndex:v})),i||(y===b&&(x=v),y=b),a&&(g=g.concat(h(l(l({},e),{},{currentSlide:x})))),m?(S={animating:!0,currentSlide:v,trackStyle:T(l(l({},e),{},{left:y})),lazyLoadedList:g,targetSlide:k},E={animating:!1,currentSlide:v,trackStyle:_(l(l({},e),{},{left:b})),swipeLeft:null,targetSlide:k}):S={currentSlide:v,trackStyle:_(l(l({},e),{},{left:b})),lazyLoadedList:g,targetSlide:k};return{state:S,nextState:E}},t.changeSlide=function(e,t){var n,r,i,o,s=e.slidesToScroll,a=e.slidesToShow,c=e.slideCount,u=e.currentSlide,d=e.targetSlide,h=e.lazyLoad,f=e.infinite;if(n=c%s!==0?0:(c-u)%s,"previous"===t.message)o=u-(i=0===n?s:a-n),h&&!f&&(o=-1===(r=u-i)?c-1:r),f||(o=d-s);else if("next"===t.message)o=u+(i=0===n?s:n),h&&!f&&(o=(u+s)%c+n),f||(o=d+s);else if("dots"===t.message)o=t.index*t.slidesToScroll;else if("children"===t.message){if(o=t.index,f){var p=O(l(l({},e),{},{targetSlide:o}));o>t.currentSlide&&"left"===p?o-=c:o<t.currentSlide&&"right"===p&&(o+=c)}}else"index"===t.message&&(o=Number(t.index));return o},t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""},t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&d(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,i=t.vertical,o=t.swipeToSlide,s=t.verticalSwiping,a=t.rtl,c=t.currentSlide,u=t.edgeFriction,h=t.edgeDragged,f=t.onEdge,p=t.swiped,m=t.swiping,g=t.slideCount,v=t.slidesToScroll,y=t.infinite,x=t.touchObject,S=t.swipeEvent,E=t.listHeight,k=t.listWidth;if(!n){if(r)return d(e);i&&o&&s&&d(e);var T,N={},I=C(t);x.curX=e.touches?e.touches[0].pageX:e.clientX,x.curY=e.touches?e.touches[0].pageY:e.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var j=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!s&&!m&&j>10)return{scrolling:!0};s&&(x.swipeLength=j);var O=(a?-1:1)*(x.curX>x.startX?1:-1);s&&(O=x.curY>x.startY?1:-1);var P=Math.ceil(g/v),A=b(t.touchObject,s),R=x.swipeLength;return y||(0===c&&("right"===A||"down"===A)||c+1>=P&&("left"===A||"up"===A)||!w(t)&&("left"===A||"up"===A))&&(R=x.swipeLength*u,!1===h&&f&&(f(A),N.edgeDragged=!0)),!p&&S&&(S(A),N.swiped=!0),T=i?I+R*(E/k)*O:a?I-R*O:I+R*O,s&&(T=I+R*O),N=l(l({},N),{},{touchObject:x,swipeLeft:T,trackStyle:_(l(l({},t),{},{left:T}))}),Math.abs(x.curX-x.startX)<.8*Math.abs(x.curY-x.startY)?N:(x.swipeLength>10&&(N.swiping=!0,d(e)),N)}},t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,i=t.touchObject,o=t.listWidth,s=t.touchThreshold,a=t.verticalSwiping,c=t.listHeight,u=t.swipeToSlide,h=t.scrolling,f=t.onSwipe,p=t.targetSlide,m=t.currentSlide,g=t.infinite;if(!n)return r&&d(e),{};var v=a?c/s:o/s,y=b(i,a),w={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return w;if(!i.swipeLength)return w;if(i.swipeLength>v){var x,k;d(e),f&&f(y);var _=g?m:p;switch(y){case"left":case"up":k=_+E(t),x=u?S(t,k):k,w.currentDirection=0;break;case"right":case"down":k=_-E(t),x=u?S(t,k):k,w.currentDirection=1;break;default:x=_}w.triggerSlideHandler=x}else{var N=C(t);w.trackStyle=T(l(l({},t),{},{left:N}))}return w},t.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,i=[];n<t;)i.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return i}),S=t.checkNavigable=function(e,t){var n=x(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var i in n){if(t<n[i]){t=r;break}r=n[i]}return t},E=t.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,i=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(i).every(function(r){if(e.vertical){if(r.offsetTop+y(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0}),!n)return 0;var o=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-o)||1}return e.slidesToScroll},k=t.checkSpecKeys=function(e,t){return t.reduce(function(t,n){return t&&e.hasOwnProperty(n)},!0)?null:console.error("Keys Missing:",e)},_=t.getTrackCSS=function(e){var t,n;k(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=j(e)*e.slideWidth;var i={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";i=l(l({},i),{},{WebkitTransform:o,transform:s,msTransform:a})}else e.vertical?i.top=e.left:i.left=e.left;return e.fade&&(i={opacity:1}),t&&(i.width=t),n&&(i.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?i.marginTop=e.left+"px":i.marginLeft=e.left+"px"),i},T=t.getTrackAnimateCSS=function(e){k(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=_(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},C=t.getTrackLeft=function(e){if(e.unslick)return 0;k(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,i=e.trackRef,o=e.infinite,s=e.centerMode,a=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var g=0;if(o?(g=-N(e),a%c!==0&&r+c>a&&(g=-(r>a?l-(r-a):a%c)),s&&(g+=parseInt(l/2))):(a%c!==0&&r+c>a&&(g=l-a%c),s&&(g=parseInt(l/2))),t=m?r*f*-1+g*f:r*u*-1+g*u,!0===h){var v,y=i&&i.node;if(v=r+N(e),t=(n=y&&y.childNodes[v])?-1*n.offsetLeft:0,!0===s){v=o?r+N(e):r,n=y&&y.children[v],t=0;for(var b=0;b<v;b++)t-=y&&y.children[b]&&y.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(d-n.offsetWidth)/2}}return t},N=t.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},I=t.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},j=t.getTotalSlides=function(e){return 1===e.slideCount?1:N(e)+e.slideCount+I(e)},O=t.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+P(e)?"left":"right":e.targetSlide<e.currentSlide-A(e)?"right":"left"},P=t.slidesOnRight=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),r&&t%2===0&&(o+=1),o}return r?0:t-1},A=t.slidesOnLeft=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,i=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(i)>0&&(o+=1),r||t%2!==0||(o+=1),o}return r?t-1:0},R=(t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},t.validSettings=Object.keys(i.default))},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+N(l,0):o,x(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),I(s,t,i,"",function(e){return e})):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+N(a=e[c],c);l+=I(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,u=o+N(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},A={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:j,forEach:function(e,t,n){j(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},214:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var i=a(n(43)),o=a(n(139)),s=n(200);function a(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=b();return function(){var n,i=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}t.PrevArrow=function(e){g(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,o.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?i.default.cloneElement(this.props.prevArrow,u(u({},n),r)):i.default.createElement("button",l({key:"0",type:"button"},n)," ","Previous")}}]),n}(i.default.PureComponent),t.NextArrow=function(e){g(n,e);var t=y(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,s.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,o.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?i.default.cloneElement(this.props.nextArrow,u(u({},n),r)):i.default.createElement("button",l({key:"1",type:"button"},n)," ","Next")}}]),n}(i.default.PureComponent)},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,A(S);else{var t=r(u);null!==t&&R(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,_=null,T=-1,C=5,N=-1;function I(){return!(t.unstable_now()-N<C)}function j(){if(null!==_){var e=t.unstable_now();N=e;var n=!0;try{n=_(!0,e)}finally{n?E():(k=!1,_=null)}}else k=!1}if("function"===typeof b)E=function(){b(j)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=j,E=function(){P.postMessage(null)}}else E=function(){v(j,0)};function A(e){_=e,k||(k=!0,E())}function R(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,R(x,o-s))):(e.sortIndex=a,n(c,e),m||p||(m=!0,A(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},270:(e,t,n)=>{var r=n(475),i=function(e){var t="",n=Object.keys(e);return n.forEach(function(i,o){var s=e[i];(function(e){return/[height|width]$/.test(e)})(i=r(i))&&"number"===typeof s&&(s+="px"),t+=!0===s?i:!1===s?"not "+i:"("+i+": "+s+")",o<n.length-1&&(t+=" and ")}),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach(function(n,r){t+=i(n),r<e.length-1&&(t+=", ")}),t):i(e)}},303:e=>{e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},347:e=>{function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},382:(e,t,n)=>{"use strict";t.A=void 0;var r,i=(r=n(433))&&r.__esModule?r:{default:r};t.A=i.default},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},403:(e,t,n)=>{"use strict";var r;n.d(t,{E_:()=>l,F3:()=>a}),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(r||(r={}));class i extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const o=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},o=n.Plugins=n.Plugins||{},s=()=>null!==t?t.name:(e=>{var t,n;return(null===e||void 0===e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null===e||void 0===e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),a=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find(t=>t.name===e)},l=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=s,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==s(),n.isPluginAvailable=e=>{const t=l.get(e);return!!(null===t||void 0===t?void 0:t.platforms.has(s()))||!!a(e)},n.registerPlugin=function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=l.get(e);if(u)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),u.proxy;const d=s(),h=a(e);let f;const p=o=>{let s;const a=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];const p=(async()=>(!f&&d in c?f=f="function"===typeof c[d]?await c[d]():c[d]:null!==t&&!f&&"web"in c&&(f=f="function"===typeof c.web?await c.web():c.web),f))().then(t=>{const a=((t,o)=>{var s,a;if(!h){if(t)return null===(a=t[o])||void 0===a?void 0:a.bind(t);throw new i('"'.concat(e,'" plugin is not implemented on ').concat(d),r.Unimplemented)}{const r=null===h||void 0===h?void 0:h.methods.find(e=>o===e.name);if(r)return"promise"===r.rtype?t=>n.nativePromise(e,o.toString(),t):(t,r)=>n.nativeCallback(e,o.toString(),t,r);if(t)return null===(s=t[o])||void 0===s?void 0:s.bind(t)}})(t,o);if(a){const e=a(...l);return s=null===e||void 0===e?void 0:e.remove,e}throw new i('"'.concat(e,".").concat(o,'()" is not implemented on ').concat(d),r.Unimplemented)});return"addListener"===o&&(p.remove=async()=>s()),p};return a.toString=()=>"".concat(o.toString(),"() { [capacitor code] }"),Object.defineProperty(a,"name",{value:o,writable:!1,configurable:!1}),a},m=p("addListener"),g=p("removeListener"),v=(e,t)=>{const n=m({eventName:e},t),r=async()=>{const r=await n;g({eventName:e,callbackId:r},t)},i=new Promise(e=>n.then(()=>e({remove:r})));return i.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await r()},i},y=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return h?v:m;case"removeListener":return g;default:return p(t)}}});return o[e]=y,l.set(e,{name:e,proxy:y,platforms:new Set([...Object.keys(c),...h?[d]:[]])}),y},n.Exception=i,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},s=(e=>e.Capacitor=o(e))("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}),a=s.registerPlugin;class l{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const r=this.listeners[e];if(r)r.forEach(e=>e(t));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){var t;return!!(null===(t=this.listeners[e])||void 0===t?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new s.Exception(e,r.Unimplemented)}unavailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new s.Exception(e,r.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}const c=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),u=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class d extends l{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,r]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=u(n).trim(),r=u(r).trim(),t[n]=r}),t}async setCookie(e){try{const t=c(e.key),n=c(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),i=(e.path||"/").replace("path=",""),o=null!=e.url&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(n||"").concat(r,"; path=").concat(i,"; ").concat(o,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}a("CapacitorCookies",{web:()=>new d});const h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,r,i)=>(n[r]=e[t[i]],n),{})}(e.headers),i=r["content-type"]||"";if("string"===typeof e.data)n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,r]of Object.entries(e.data||{}))t.set(n,r);n.body=t.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const r=new Headers(n.headers);r.delete("content-type"),n.headers=r}else(i.includes("application/json")||"object"===typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class f extends l{async request(e){const t=h(e,e.webFetchExtra),n=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?Object.entries(e).reduce((e,n)=>{const[r,i]=n;let o,s;return Array.isArray(i)?(s="",i.forEach(e=>{o=t?encodeURIComponent(e):e,s+="".concat(r,"=").concat(o,"&")}),s.slice(0,-1)):(o=t?encodeURIComponent(i):i,s="".concat(r,"=").concat(o)),"".concat(e,"&").concat(s)},"").substr(1):null}(e.params,e.shouldEncodeUrlParams),r=n?"".concat(e.url,"?").concat(n):e.url,i=await fetch(r,t),o=i.headers.get("content-type")||"";let s,a,{responseType:l="text"}=i.ok?e:{};switch(o.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":a=await i.blob(),s=await(async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const e=r.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},r.onerror=e=>n(e),r.readAsDataURL(e)}))(a);break;case"json":s=await i.json();break;default:s=await i.text()}const c={};return i.headers.forEach((e,t)=>{c[t]=e}),{data:s,headers:c,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}a("CapacitorHttp",{web:()=>new f})},433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(43)),i=n(826),o=l(n(270)),s=l(n(112)),a=n(200);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function m(e){var t=v();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:String(t)}var x=(0,a.canUseDOM)()&&n(535);t.default=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(d,e);var t,n,l,c=m(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),b(g(t=c.call(this,e)),"innerSliderRefHandler",function(e){return t.innerSlider=e}),b(g(t),"slickPrev",function(){return t.innerSlider.slickPrev()}),b(g(t),"slickNext",function(){return t.innerSlider.slickNext()}),b(g(t),"slickGoTo",function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)}),b(g(t),"slickPause",function(){return t.innerSlider.pause("paused")}),b(g(t),"slickPlay",function(){return t.innerSlider.autoPlay("play")}),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=d,(n=[{key:"media",value:function(e,t){x.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map(function(e){return e.breakpoint});t.sort(function(e,t){return e-t}),t.forEach(function(n,r){var i;i=0===r?(0,o.default)({minWidth:0,maxWidth:n}):(0,o.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,a.canUseDOM)()&&e.media(i,function(){e.setState({breakpoint:n})})});var n=(0,o.default)({minWidth:t.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(n,function(){e.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(e){x.unregister(e.query,e.handler)})}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter(function(e){return e.breakpoint===n.state.breakpoint}))[0].settings?"unslick":h(h(h({},s.default),this.props),t[0].settings):h(h({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var o=r.default.Children.toArray(this.props.children);o=o.filter(function(e){return"string"===typeof e?!!e.trim():!!e}),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var l=[],c=null,d=0;d<o.length;d+=e.rows*e.slidesPerRow){for(var f=[],p=d;p<d+e.rows*e.slidesPerRow;p+=e.slidesPerRow){for(var m=[],g=p;g<p+e.slidesPerRow&&(e.variableWidth&&o[g].props.style&&(c=o[g].props.style.width),!(g>=o.length));g+=1)m.push(r.default.cloneElement(o[g],{key:100*d+10*p+g,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(r.default.createElement("div",{key:10*d+p},m))}e.variableWidth?l.push(r.default.createElement("div",{key:d,style:{width:c}},f)):l.push(r.default.createElement("div",{key:d},f))}if("unslick"===e){var v="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:v},o)}return l.length<=e.slidesToShow&&!e.infinite&&(e.unslick=!0),r.default.createElement(i.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(e)),l)}}])&&f(t.prototype,n),l&&f(t,l),Object.defineProperty(t,"prototype",{writable:!1}),d}(r.default.Component)},446:(e,t,n)=>{var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),d=Object.prototype.toString,h=Math.max,f=Math.min,p=function(){return u.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function w(){var e=p();if(b(e))return x(e);a=setTimeout(w,function(e){var n=t-(e-l);return d?f(n,o-(e-c)):n}(e))}function x(e){return a=void 0,v&&r?y(e):(r=i=void 0,s)}function S(){var e=p(),n=b(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(w,t),u?y(e):s}(l);if(d)return a=setTimeout(w,t),y(l)}return void 0===a&&(a=setTimeout(w,t)),s}return t=g(t)||0,m(n)&&(u=!!n.leading,o=(d="maxWait"in n)?h(g(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},S.flush=function(){return void 0===a?s:x(p())},S}},475:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()}},496:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var i=a(n(43)),o=a(n(139)),s=n(200);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){var t=p();return function(){var n,i=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}t.Dots=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(d,e);var t,n,r,a=f(d);function d(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),a.apply(this,arguments)}return t=d,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,a=t.onMouseLeave,u=t.infinite,d=t.slidesToScroll,h=t.slidesToShow,f=t.slideCount,p=t.currentSlide,m=(e={slideCount:f,slidesToScroll:d,slidesToShow:h,infinite:u}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,g={onMouseEnter:n,onMouseOver:r,onMouseLeave:a},v=[],y=0;y<m;y++){var b=(y+1)*d-1,w=u?b:(0,s.clamp)(b,0,f-1),x=w-(d-1),S=u?x:(0,s.clamp)(x,0,f-1),E=(0,o.default)({"slick-active":u?p>=S&&p<=w:p===S}),k={message:"dots",index:y,slidesToScroll:d,currentSlide:p},_=this.clickHandler.bind(this,k);v=v.concat(i.default.createElement("li",{key:y,className:E},i.default.cloneElement(this.props.customPaging(y),{onClick:_})))}return i.default.cloneElement(this.props.appendDots(v),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:this.props.dotsClass},g))}}],n&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.default.PureComponent)},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},535:(e,t,n)=>{var r=n(537);e.exports=new r},536:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,c=32,u=64,d=128,h=256,f=1/0,p=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",h]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",x="[object Date]",S="[object Error]",E="[object Function]",k="[object GeneratorFunction]",_="[object Map]",T="[object Number]",C="[object Object]",N="[object Promise]",I="[object RegExp]",j="[object Set]",O="[object String]",P="[object Symbol]",A="[object WeakMap]",R="[object ArrayBuffer]",L="[object DataView]",D="[object Float32Array]",M="[object Float64Array]",F="[object Int8Array]",V="[object Int16Array]",U="[object Int32Array]",z="[object Uint8Array]",B="[object Uint8ClampedArray]",W="[object Uint16Array]",H="[object Uint32Array]",q=/\b__p \+= '';/g,K=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,X=RegExp(Q.source),$=RegExp(Y.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),se=/^\s+/,ae=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",Ne="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oe="['\u2019]",Pe="["+ke+"]",Ae="["+je+"]",Re="["+_e+"]",Le="\\d+",De="["+Te+"]",Me="["+Ce+"]",Fe="[^"+ke+je+Le+Te+Ce+Ne+"]",Ve="\\ud83c[\\udffb-\\udfff]",Ue="[^"+ke+"]",ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Ne+"]",He="\\u200d",qe="(?:"+Me+"|"+Fe+")",Ke="(?:"+We+"|"+Fe+")",Ge="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Re+"|"+Ve+")"+"?",Xe="["+Ie+"]?",$e=Xe+Ye+("(?:"+He+"(?:"+[Ue,ze,Be].join("|")+")"+Xe+Ye+")*"),Je="(?:"+[De,ze,Be].join("|")+")"+$e,Ze="(?:"+[Ue+Re+"?",Re,ze,Be,Pe].join("|")+")",et=RegExp(Oe,"g"),tt=RegExp(Re,"g"),nt=RegExp(Ve+"(?="+Ve+")|"+Ze+$e,"g"),rt=RegExp([We+"?"+Me+"+"+Ge+"(?="+[Ae,We,"$"].join("|")+")",Ke+"+"+Qe+"(?="+[Ae,We+qe,"$"].join("|")+")",We+"?"+qe+"+"+Ge,We+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Je].join("|"),"g"),it=RegExp("["+He+ke+_e+Ie+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,lt={};lt[D]=lt[M]=lt[F]=lt[V]=lt[U]=lt[z]=lt[B]=lt[W]=lt[H]=!0,lt[y]=lt[b]=lt[R]=lt[w]=lt[L]=lt[x]=lt[S]=lt[E]=lt[_]=lt[T]=lt[C]=lt[I]=lt[j]=lt[O]=lt[A]=!1;var ct={};ct[y]=ct[b]=ct[R]=ct[L]=ct[w]=ct[x]=ct[D]=ct[M]=ct[F]=ct[V]=ct[U]=ct[_]=ct[T]=ct[C]=ct[I]=ct[j]=ct[O]=ct[P]=ct[z]=ct[B]=ct[W]=ct[H]=!0,ct[S]=ct[E]=ct[A]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ht=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ft||pt||Function("return this")(),gt=t&&!t.nodeType&&t,vt=gt&&e&&!e.nodeType&&e,yt=vt&&vt.exports===gt,bt=yt&&ft.process,wt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),xt=wt&&wt.isArrayBuffer,St=wt&&wt.isDate,Et=wt&&wt.isMap,kt=wt&&wt.isRegExp,_t=wt&&wt.isSet,Tt=wt&&wt.isTypedArray;function Ct(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Nt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function jt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function At(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function Rt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Mt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Vt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Gt("length");function zt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function Bt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Wt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Bt(e,qt,n)}function Ht(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function qt(e){return e!==e}function Kt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:m}function Gt(e){return function(t){return null==t?i:t[e]}}function Qt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Xt(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,gn(e)+1).replace(se,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Lt(t,function(t){return e[t]})}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}var on=Qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function ln(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function hn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ut(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function gn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var vn=Qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,st))).Array,r=t.Date,ae=t.Error,ke=t.Function,_e=t.Math,Te=t.Object,Ce=t.RegExp,Ne=t.String,Ie=t.TypeError,je=n.prototype,Oe=ke.prototype,Pe=Te.prototype,Ae=t["__core-js_shared__"],Re=Oe.toString,Le=Pe.hasOwnProperty,De=0,Me=function(){var e=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Pe.toString,Ve=Re.call(Te),Ue=mt._,ze=Ce("^"+Re.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=yt?t.Buffer:i,We=t.Symbol,He=t.Uint8Array,qe=Be?Be.allocUnsafe:i,Ke=un(Te.getPrototypeOf,Te),Ge=Te.create,Qe=Pe.propertyIsEnumerable,Ye=je.splice,Xe=We?We.isConcatSpreadable:i,$e=We?We.iterator:i,Je=We?We.toStringTag:i,Ze=function(){try{var e=ho(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,it=r&&r.now!==mt.Date.now&&r.now,ut=t.setTimeout!==mt.setTimeout&&t.setTimeout,ft=_e.ceil,pt=_e.floor,gt=Te.getOwnPropertySymbols,vt=Be?Be.isBuffer:i,bt=t.isFinite,wt=je.join,Ut=un(Te.keys,Te),Qt=_e.max,bn=_e.min,wn=r.now,xn=t.parseInt,Sn=_e.random,En=je.reverse,kn=ho(t,"DataView"),_n=ho(t,"Map"),Tn=ho(t,"Promise"),Cn=ho(t,"Set"),Nn=ho(t,"WeakMap"),In=ho(Te,"create"),jn=Nn&&new Nn,On={},Pn=Fo(kn),An=Fo(_n),Rn=Fo(Tn),Ln=Fo(Cn),Dn=Fo(Nn),Mn=We?We.prototype:i,Fn=Mn?Mn.valueOf:i,Vn=Mn?Mn.toString:i;function Un(e){if(ta(e)&&!Hs(e)&&!(e instanceof Hn)){if(e instanceof Wn)return e;if(Le.call(e,"__wrapped__"))return Vo(e)}return new Wn(e)}var zn=function(){function e(){}return function(t){if(!ea(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Bn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Kn(e);this.size=t.size}function Xn(e,t){var n=Hs(e),r=!n&&Ws(e),i=!n&&!r&&Qs(e),o=!n&&!r&&!i&&ca(e),s=n||r||i||o,a=s?$t(e.length,Ne):[],l=a.length;for(var c in e)!t&&!Le.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,l))||a.push(c);return a}function $n(e){var t=e.length;return t?e[Qr(0,t-1)]:i}function Jn(e,t){return Lo(Ii(e),ar(t,0,e.length))}function Zn(e){return Lo(Ii(e))}function er(e,t,n){(n!==i&&!Us(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&Us(r,n)&&(n!==i||t in e)||or(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Us(e[n][0],t))return n;return-1}function rr(e,t,n,r){return hr(e,function(e,i,o){t(r,e,n(e),o)}),r}function ir(e,t){return e&&ji(t,Oa(t),e)}function or(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:Ta(e,t[r]);return s}function ar(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,s){var a,l=1&t,c=2&t,u=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ea(e))return e;var d=Hs(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ii(e,a)}else{var h=mo(e),f=h==E||h==k;if(Qs(e))return Ei(e,l);if(h==C||h==y||f&&!o){if(a=c||f?{}:vo(e),!l)return c?function(e,t){return ji(e,po(e),t)}(e,function(e,t){return e&&ji(t,Pa(t),e)}(a,e)):function(e,t){return ji(e,fo(e),t)}(e,ir(a,e))}else{if(!ct[h])return o?e:{};a=function(e,t,n){var r=e.constructor;switch(t){case R:return ki(e);case w:case x:return new r(+e);case L:return function(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case D:case M:case F:case V:case U:case z:case B:case W:case H:return _i(e,n);case _:return new r;case T:case O:return new r(e);case I:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case j:return new r;case P:return i=e,Fn?Te(Fn.call(i)):{}}var i}(e,h,l)}}s||(s=new Yn);var p=s.get(e);if(p)return p;s.set(e,a),sa(e)?e.forEach(function(r){a.add(lr(r,t,n,r,e,s))}):na(e)&&e.forEach(function(r,i){a.set(i,lr(r,t,n,i,e,s))});var m=d?i:(u?c?io:ro:c?Pa:Oa)(e);return It(m||e,function(r,i){m&&(r=e[i=r]),tr(a,i,lr(r,t,n,i,e,s))}),a}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Ie(o);return Oo(function(){e.apply(i,n)},t)}function dr(e,t,n,r){var i=-1,o=At,s=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=Lt(t,Zt(n))),r?(o=Rt,s=!1):t.length>=200&&(o=tn,s=!1,t=new Qn(t));e:for(;++i<a;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d===d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else o(t,d,r)||l.push(u)}return l}Un.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Bn.prototype,Un.prototype.constructor=Un,Wn.prototype=zn(Bn.prototype),Wn.prototype.constructor=Wn,Hn.prototype=zn(Bn.prototype),Hn.prototype.constructor=Hn,qn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===s?i:n}return Le.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==i:Le.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===i?s:t,this},Kn.prototype.clear=function(){this.__data__=[],this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Kn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Kn.prototype.has=function(e){return nr(this.__data__,e)>-1},Kn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(_n||Kn),string:new qn}},Gn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return co(this,e).get(e)},Gn.prototype.has=function(e){return co(this,e).has(e)},Gn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(e){return this.__data__.set(e,s),this},Qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Kn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Kn){var r=n.__data__;if(!_n||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var hr=Ai(wr),fr=Ai(xr,!0);function pr(e,t){var n=!0;return hr(e,function(e,r,i){return n=!!t(e,r,i)}),n}function mr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(l===i?a===a&&!la(a):n(a,l)))var l=a,c=s}return c}function gr(e,t){var n=[];return hr(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function vr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=yo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?vr(a,t-1,n,r,i):Dt(i,a):r||(i[i.length]=a)}return i}var yr=Ri(),br=Ri(!0);function wr(e,t){return e&&yr(e,t,Oa)}function xr(e,t){return e&&br(e,t,Oa)}function Sr(e,t){return Pt(t,function(t){return $s(e[t])})}function Er(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Mo(t[n++])];return n&&n==r?e:i}function kr(e,t,n){var r=t(e);return Hs(e)?r:Dt(r,n(e))}function _r(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Te(e)?function(e){var t=Le.call(e,Je),n=e[Je];try{e[Je]=i;var r=!0}catch(s){}var o=Fe.call(e);r&&(t?e[Je]=n:delete e[Je]);return o}(e):function(e){return Fe.call(e)}(e)}function Tr(e,t){return e>t}function Cr(e,t){return null!=e&&Le.call(e,t)}function Nr(e,t){return null!=e&&t in Te(e)}function Ir(e,t,r){for(var o=r?Rt:At,s=e[0].length,a=e.length,l=a,c=n(a),u=1/0,d=[];l--;){var h=e[l];l&&t&&(h=Lt(h,Zt(t))),u=bn(h.length,u),c[l]=!r&&(t||s>=120&&h.length>=120)?new Qn(l&&h):i}h=e[0];var f=-1,p=c[0];e:for(;++f<s&&d.length<u;){var m=h[f],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?tn(p,g):o(d,g,r))){for(l=a;--l;){var v=c[l];if(!(v?tn(v,g):o(e[l],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function jr(e,t,n){var r=null==(e=No(e,t=bi(t,e)))?e:e[Mo(Xo(t))];return null==r?i:Ct(r,e,n)}function Or(e){return ta(e)&&_r(e)==y}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,n,r,o,s){var a=Hs(e),l=Hs(t),c=a?b:mo(e),u=l?b:mo(t),d=(c=c==y?C:c)==C,h=(u=u==y?C:u)==C,f=c==u;if(f&&Qs(e)){if(!Qs(t))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new Yn),a||ca(e)?to(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new He(e),new He(t)));case w:case x:case T:return Us(+e,+t);case S:return e.name==t.name&&e.message==t.message;case I:case O:return e==t+"";case _:var a=cn;case j:var l=1&r;if(a||(a=hn),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var u=to(a(e),a(t),r,i,o,s);return s.delete(e),u;case P:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,c,n,r,o,s);if(!(1&n)){var p=d&&Le.call(e,"__wrapped__"),m=h&&Le.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return s||(s=new Yn),o(g,v,n,r,s)}}if(!f)return!1;return s||(s=new Yn),function(e,t,n,r,o,s){var a=1&n,l=ro(e),c=l.length,u=ro(t),d=u.length;if(c!=d&&!a)return!1;var h=c;for(;h--;){var f=l[h];if(!(a?f in t:Le.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var g=!0;s.set(e,t),s.set(t,e);var v=a;for(;++h<c;){var y=e[f=l[h]],b=t[f];if(r)var w=a?r(b,y,f,t,e,s):r(y,b,f,e,t,s);if(!(w===i?y===b||o(y,b,n,r,s):w)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var x=e.constructor,S=t.constructor;x==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,o,s)}(e,t,n,r,Pr,o))}function Ar(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Te(e);o--;){var l=n[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=n[o])[0],u=e[c],d=l[1];if(a&&l[2]){if(u===i&&!(c in e))return!1}else{var h=new Yn;if(r)var f=r(u,d,c,e,t,h);if(!(f===i?Pr(d,u,3,r,h):f))return!1}}return!0}function Rr(e){return!(!ea(e)||(t=e,Me&&Me in t))&&($s(e)?ze:ye).test(Fo(e));var t}function Lr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Hs(e)?zr(e[0],e[1]):Ur(e):hl(e)}function Dr(e){if(!ko(e))return Ut(e);var t=[];for(var n in Te(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=ko(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Vr(e,t){var r=-1,i=Ks(e)?n(e.length):[];return hr(e,function(e,n,o){i[++r]=t(e,n,o)}),i}function Ur(e){var t=uo(e);return 1==t.length&&t[0][2]?To(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function zr(e,t){return xo(e)&&_o(t)?To(Mo(e),t):function(n){var r=Ta(n,e);return r===i&&r===t?Ca(n,e):Pr(t,r,3)}}function Br(e,t,n,r,o){e!==t&&yr(t,function(s,a){if(o||(o=new Yn),ea(s))!function(e,t,n,r,o,s,a){var l=Io(e,n),c=Io(t,n),u=a.get(c);if(u)return void er(e,n,u);var d=s?s(l,c,n+"",e,t,a):i,h=d===i;if(h){var f=Hs(c),p=!f&&Qs(c),m=!f&&!p&&ca(c);d=c,f||p||m?Hs(l)?d=l:Gs(l)?d=Ii(l):p?(h=!1,d=Ei(c,!0)):m?(h=!1,d=_i(c,!0)):d=[]:ia(c)||Ws(c)?(d=l,Ws(l)?d=va(l):ea(l)&&!$s(l)||(d=vo(c))):h=!1}h&&(a.set(c,d),o(d,c,r,s,a),a.delete(c));er(e,n,d)}(e,t,a,n,Br,r,o);else{var l=r?r(Io(e,a),s,a+"",e,t,o):i;l===i&&(l=s),er(e,a,l)}},Pa)}function Wr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:i}function Hr(e,t,n){t=t.length?Lt(t,function(e){return Hs(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e}):[rl];var r=-1;t=Lt(t,Zt(lo()));var i=Vr(e,function(e,n,i){var o=Lt(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var l=Ti(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function qr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Er(e,s);n(a,s)&&Zr(o,bi(s,e),a)}return o}function Kr(e,t,n,r){var i=r?Ht:Wt,o=-1,s=t.length,a=e;for(e===t&&(t=Ii(t)),n&&(a=Lt(e,Zt(n)));++o<s;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Ye.call(a,l,1),Ye.call(e,l,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Ye.call(e,i,1):di(e,i)}}return e}function Qr(e,t){return e+pt(Sn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Po(Co(e,t,rl),e+"")}function $r(e){return $n(Ua(e))}function Jr(e,t){var n=Ua(e);return Lo(n,ar(t,0,n.length))}function Zr(e,t,n,r){if(!ea(e))return e;for(var o=-1,s=(t=bi(t,e)).length,a=s-1,l=e;null!=l&&++o<s;){var c=Mo(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var d=l[c];(u=r?r(d,c,l):i)===i&&(u=ea(d)?d:bo(t[o+1])?[]:{})}tr(l,c,u),l=l[c]}return e}var ei=jn?function(e,t){return jn.set(e,t),e}:rl,ti=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ni(e){return Lo(Ua(e))}function ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function ii(e,t){var n;return hr(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!la(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return si(e,t,rl,n)}function si(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!==t,l=null===t,c=la(t),u=t===i;o<s;){var d=pt((o+s)/2),h=n(e[d]),f=h!==i,p=null===h,m=h===h,g=la(h);if(a)var v=r||m;else v=u?m&&(r||f):l?m&&f&&(r||!p):c?m&&f&&!p&&(r||!g):!p&&!g&&(r?h<=t:h<t);v?o=d+1:s=d}return bn(s,4294967294)}function ai(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Us(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function li(e){return"number"==typeof e?e:la(e)?m:+e}function ci(e){if("string"==typeof e)return e;if(Hs(e))return Lt(e,ci)+"";if(la(e))return Vn?Vn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=At,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=Rt;else if(o>=200){var c=t?null:Yi(e);if(c)return hn(c);s=!1,i=tn,l=new Qn}else l=t?[]:a;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}function di(e,t){return null==(e=No(e,t=bi(t,e)))||delete e[Mo(Xo(t))]}function hi(e,t,n,r){return Zr(e,t,n(Er(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Mt(t,function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))},n)}function mi(e,t,r){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=dr(s[o]||a,e[l],t,r));return ui(vr(s,1),t,r)}function gi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var l=r<s?t[r]:i;n(a,e[r],l)}return a}function vi(e){return Gs(e)?e:[]}function yi(e){return"function"==typeof e?e:rl}function bi(e,t){return Hs(e)?e:xo(e,t)?[e]:Do(ya(e))}var wi=Xr;function xi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var Si=nt||function(e){return mt.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function ki(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function _i(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,s=la(e),a=t!==i,l=null===t,c=t===t,u=la(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!s&&!u&&e<t||u&&n&&o&&!r&&!s||l&&n&&o||!a&&o||!c)return-1}return 0}function Ci(e,t,r,i){for(var o=-1,s=e.length,a=r.length,l=-1,c=t.length,u=Qt(s-a,0),d=n(c+u),h=!i;++l<c;)d[l]=t[l];for(;++o<a;)(h||o<s)&&(d[r[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function Ni(e,t,r,i){for(var o=-1,s=e.length,a=-1,l=r.length,c=-1,u=t.length,d=Qt(s-l,0),h=n(d+u),f=!i;++o<d;)h[o]=e[o];for(var p=o;++c<u;)h[p+c]=t[c];for(;++a<l;)(f||o<s)&&(h[p+r[a]]=e[o++]);return h}function Ii(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function ji(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),o?or(n,l,c):tr(n,l,c)}return n}function Oi(e,t){return function(n,r){var i=Hs(n)?Nt:rr,o=t?t():{};return i(n,e,lo(r,2),o)}}function Pi(e){return Xr(function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&wo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Te(t);++r<o;){var l=n[r];l&&e(t,l,r,s)}return t})}function Ai(e,t){return function(n,r){if(null==n)return n;if(!Ks(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Te(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ri(e){return function(t,n,r){for(var i=-1,o=Te(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Li(e){return function(t){var n=ln(t=ya(t))?mn(t):i,r=n?n[0]:t.charAt(0),o=n?xi(n,1).join(""):t.slice(1);return r[e]()+o}}function Di(e){return function(t){return Mt($a(Wa(t).replace(et,"")),e,"")}}function Mi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return ea(r)?r:n}}function Fi(e){return function(t,n,r){var o=Te(t);if(!Ks(t)){var s=lo(n,3);t=Oa(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Vi(e){return no(function(t){var n=t.length,r=n,s=Wn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ie(o);if(s&&!l&&"wrapper"==so(a))var l=new Wn([],!0)}for(r=l?r:n;++r<n;){var c=so(a=t[r]),u="wrapper"==c?oo(a):i;l=u&&So(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[so(u[0])].apply(l,u[3]):1==a.length&&So(a)?l[c]():l.thru(a)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Hs(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Ui(e,t,r,o,s,a,l,c,u,h){var f=t&d,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Mi(e);return function d(){for(var b=arguments.length,w=n(b),x=b;x--;)w[x]=arguments[x];if(g)var S=ao(d),E=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,S);if(o&&(w=Ci(w,o,s,g)),a&&(w=Ni(w,a,l,g)),b-=E,g&&b<h){var k=dn(w,S);return Gi(e,t,Ui,d.placeholder,r,w,k,c,u,h-b)}var _=p?r:this,T=m?_[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,r=bn(t.length,n),o=Ii(e);for(;r--;){var s=t[r];e[r]=bo(s,n)?o[s]:i}return e}(w,c):v&&b>1&&w.reverse(),f&&u<b&&(w.length=u),this&&this!==mt&&this instanceof d&&(T=y||Mi(T)),T.apply(_,w)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function Bi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),o=e(n,r)}return o}}function Wi(e){return no(function(t){return t=Lt(t,Zt(lo())),Xr(function(n){var r=this;return e(t,function(e){return Ct(e,r,n)})})})}function Hi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,ft(e/pn(t)));return ln(t)?xi(mn(r),0,e).join(""):r.slice(0,e)}function qi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=fa(t),r===i?(r=t,t=0):r=fa(r),function(e,t,r,i){for(var o=-1,s=Qt(ft((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:fa(o),e)}}function Ki(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ga(t),n=ga(n)),e(t,n)}}function Gi(e,t,n,r,o,s,a,l,d,h){var f=8&t;t|=f?c:u,4&(t&=~(f?u:c))||(t&=-4);var p=[e,t,o,f?s:i,f?a:i,f?i:s,f?i:a,l,d,h],m=n.apply(i,p);return So(e)&&jo(m,p),m.placeholder=r,Ao(m,e,t)}function Qi(e){var t=_e[e];return function(e,n){if(e=ga(e),(n=null==n?0:bn(pa(n),292))&&bt(e)){var r=(ya(e)+"e").split("e");return+((r=(ya(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Cn&&1/hn(new Cn([,-0]))[1]==f?function(e){return new Cn(e)}:ll;function Xi(e){return function(t){var n=mo(t);return n==_?cn(t):n==j?fn(t):function(e,t){return Lt(t,function(t){return[t,e[t]]})}(t,e(t))}}function $i(e,t,r,s,f,p,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ie(o);var y=s?s.length:0;if(y||(t&=-97,s=f=i),m=m===i?m:Qt(pa(m),0),g=g===i?g:pa(g),y-=f?f.length:0,t&u){var b=s,w=f;s=f=i}var x=v?i:oo(e),S=[e,t,r,s,f,b,w,p,m,g];if(x&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==d&&8==n||r==d&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Ci(c,l,t[4]):l,e[4]=c?dn(e[3],a):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ni(c,l,t[6]):l,e[6]=c?dn(e[5],a):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(S,x),e=S[0],t=S[1],r=S[2],s=S[3],f=S[4],!(g=S[9]=S[9]===i?v?0:e.length:Qt(S[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==l?function(e,t,r){var o=Mi(e);return function s(){for(var a=arguments.length,l=n(a),c=a,u=ao(s);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==u&&l[a-1]!==u?[]:dn(l,u);return(a-=d.length)<r?Gi(e,t,Ui,s.placeholder,i,l,d,i,i,r-a):Ct(this&&this!==mt&&this instanceof s?o:e,this,l)}}(e,t,g):t!=c&&33!=t||f.length?Ui.apply(i,S):function(e,t,r,i){var o=1&t,s=Mi(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,d=n(u+l),h=this&&this!==mt&&this instanceof t?s:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++a];return Ct(h,o?r:this,d)}}(e,t,r,s);else var E=function(e,t,n){var r=1&t,i=Mi(e);return function t(){return(this&&this!==mt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ao((x?ei:jo)(E,S),e,t)}function Ji(e,t,n,r){return e===i||Us(e,Pe[n])&&!Le.call(r,n)?t:e}function Zi(e,t,n,r,o,s){return ea(e)&&ea(t)&&(s.set(t,e),Br(e,t,i,Zi,s),s.delete(t)),e}function eo(e){return ia(e)?i:e}function to(e,t,n,r,o,s){var a=1&n,l=e.length,c=t.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var h=-1,f=!0,p=2&n?new Qn:i;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],g=t[h];if(r)var v=a?r(g,m,h,t,e,s):r(m,g,h,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Vt(t,function(e,t){if(!tn(p,t)&&(m===e||o(m,e,n,r,s)))return p.push(t)})){f=!1;break}}else if(m!==g&&!o(m,g,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function no(e){return Po(Co(e,i,qo),e+"")}function ro(e){return kr(e,Oa,fo)}function io(e){return kr(e,Pa,po)}var oo=jn?function(e){return jn.get(e)}:ll;function so(e){for(var t=e.name+"",n=On[t],r=Le.call(On,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function ao(e){return(Le.call(Un,"placeholder")?Un:e).placeholder}function lo(){var e=Un.iteratee||il;return e=e===il?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function uo(e){for(var t=Oa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_o(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Rr(n)?n:i}var fo=gt?function(e){return null==e?[]:(e=Te(e),Pt(gt(e),function(t){return Qe.call(e,t)}))}:ml,po=gt?function(e){for(var t=[];e;)Dt(t,fo(e)),e=Ke(e);return t}:ml,mo=_r;function go(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var s=Mo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Zs(i)&&bo(s,i)&&(Hs(e)||Ws(e))}function vo(e){return"function"!=typeof e.constructor||ko(e)?{}:zn(Ke(e))}function yo(e){return Hs(e)||Ws(e)||!!(Xe&&e&&e[Xe])}function bo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ea(n))return!1;var r=typeof t;return!!("number"==r?Ks(n)&&bo(t,n.length):"string"==r&&t in n)&&Us(n[t],e)}function xo(e,t){if(Hs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!la(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Te(t))}function So(e){var t=so(e),n=Un[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(kn&&mo(new kn(new ArrayBuffer(1)))!=L||_n&&mo(new _n)!=_||Tn&&mo(Tn.resolve())!=N||Cn&&mo(new Cn)!=j||Nn&&mo(new Nn)!=A)&&(mo=function(e){var t=_r(e),n=t==C?e.constructor:i,r=n?Fo(n):"";if(r)switch(r){case Pn:return L;case An:return _;case Rn:return N;case Ln:return j;case Dn:return A}return t});var Eo=Ae?$s:gl;function ko(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function _o(e){return e===e&&!ea(e)}function To(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Te(n)))}}function Co(e,t,r){return t=Qt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=Qt(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=i[o];return l[t]=r(a),Ct(e,this,l)}}function No(e,t){return t.length<2?e:Er(e,ri(t,0,-1))}function Io(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var jo=Ro(ei),Oo=ut||function(e,t){return mt.setTimeout(e,t)},Po=Ro(ti);function Ao(e,t,n){var r=t+"";return Po(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return It(v,function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Ro(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Lo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Qr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Do=function(e){var t=Rs(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)}),t});function Mo(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fo(e){if(null!=e){try{return Re.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Vo(e){if(e instanceof Hn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Uo=Xr(function(e,t){return Gs(e)?dr(e,vr(t,1,Gs,!0)):[]}),zo=Xr(function(e,t){var n=Xo(t);return Gs(n)&&(n=i),Gs(e)?dr(e,vr(t,1,Gs,!0),lo(n,2)):[]}),Bo=Xr(function(e,t){var n=Xo(t);return Gs(n)&&(n=i),Gs(e)?dr(e,vr(t,1,Gs,!0),i,n):[]});function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qt(r+i,0)),Bt(e,lo(t,3),i)}function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=pa(n),o=n<0?Qt(r+o,0):bn(o,r-1)),Bt(e,lo(t,3),o,!0)}function qo(e){return(null==e?0:e.length)?vr(e,1):[]}function Ko(e){return e&&e.length?e[0]:i}var Go=Xr(function(e){var t=Lt(e,vi);return t.length&&t[0]===e[0]?Ir(t):[]}),Qo=Xr(function(e){var t=Xo(e),n=Lt(e,vi);return t===Xo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ir(n,lo(t,2)):[]}),Yo=Xr(function(e){var t=Xo(e),n=Lt(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,i,t):[]});function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $o=Xr(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Kr(e,t):e}var Zo=no(function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Lt(t,function(e){return bo(e,n)?+e:e}).sort(Ti)),r});function es(e){return null==e?e:En.call(e)}var ts=Xr(function(e){return ui(vr(e,1,Gs,!0))}),ns=Xr(function(e){var t=Xo(e);return Gs(t)&&(t=i),ui(vr(e,1,Gs,!0),lo(t,2))}),rs=Xr(function(e){var t=Xo(e);return t="function"==typeof t?t:i,ui(vr(e,1,Gs,!0),i,t)});function is(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,function(e){if(Gs(e))return t=Qt(e.length,t),!0}),$t(t,function(t){return Lt(e,Gt(t))})}function os(e,t){if(!e||!e.length)return[];var n=is(e);return null==t?n:Lt(n,function(e){return Ct(t,i,e)})}var ss=Xr(function(e,t){return Gs(e)?dr(e,t):[]}),as=Xr(function(e){return mi(Pt(e,Gs))}),ls=Xr(function(e){var t=Xo(e);return Gs(t)&&(t=i),mi(Pt(e,Gs),lo(t,2))}),cs=Xr(function(e){var t=Xo(e);return t="function"==typeof t?t:i,mi(Pt(e,Gs),i,t)}),us=Xr(is);var ds=Xr(function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,os(e,n)});function hs(e){var t=Un(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var ps=no(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:i}),new Wn(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(o)});var ms=Oi(function(e,t,n){Le.call(e,n)?++e[n]:or(e,n,1)});var gs=Fi(Wo),vs=Fi(Ho);function ys(e,t){return(Hs(e)?It:hr)(e,lo(t,3))}function bs(e,t){return(Hs(e)?jt:fr)(e,lo(t,3))}var ws=Oi(function(e,t,n){Le.call(e,n)?e[n].push(t):or(e,n,[t])});var xs=Xr(function(e,t,r){var i=-1,o="function"==typeof t,s=Ks(e)?n(e.length):[];return hr(e,function(e){s[++i]=o?Ct(t,e,r):jr(e,t,r)}),s}),Ss=Oi(function(e,t,n){or(e,n,t)});function Es(e,t){return(Hs(e)?Lt:Vr)(e,lo(t,3))}var ks=Oi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var _s=Xr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,vr(t,1),[])}),Ts=it||function(){return mt.Date.now()};function Cs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,$i(e,d,i,i,i,i,t)}function Ns(e,t){var n;if("function"!=typeof t)throw new Ie(o);return e=pa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Is=Xr(function(e,t,n){var r=1;if(n.length){var i=dn(n,ao(Is));r|=c}return $i(e,r,t,n,i)}),js=Xr(function(e,t,n){var r=3;if(n.length){var i=dn(n,ao(js));r|=c}return $i(t,r,e,n,i)});function Os(e,t,n){var r,s,a,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new Ie(o);function m(t){var n=r,o=s;return r=s=i,d=t,l=e.apply(o,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=a}function v(){var e=Ts();if(g(e))return y(e);c=Oo(v,function(e){var n=t-(e-u);return f?bn(n,a-(e-d)):n}(e))}function y(e){return c=i,p&&r?m(e):(r=s=i,l)}function b(){var e=Ts(),n=g(e);if(r=arguments,s=this,u=e,n){if(c===i)return function(e){return d=e,c=Oo(v,t),h?m(e):l}(u);if(f)return Si(c),c=Oo(v,t),m(u)}return c===i&&(c=Oo(v,t)),l}return t=ga(t)||0,ea(n)&&(h=!!n.leading,a=(f="maxWait"in n)?Qt(ga(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&Si(c),d=0,r=u=s=c=i},b.flush=function(){return c===i?l:y(Ts())},b}var Ps=Xr(function(e,t){return ur(e,1,t)}),As=Xr(function(e,t,n){return ur(e,ga(t)||0,n)});function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Rs.Cache||Gn),n}function Ls(e){if("function"!=typeof e)throw new Ie(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=Gn;var Ds=wi(function(e,t){var n=(t=1==t.length&&Hs(t[0])?Lt(t[0],Zt(lo())):Lt(vr(t,1),Zt(lo()))).length;return Xr(function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Ct(e,this,r)})}),Ms=Xr(function(e,t){var n=dn(t,ao(Ms));return $i(e,c,i,t,n)}),Fs=Xr(function(e,t){var n=dn(t,ao(Fs));return $i(e,u,i,t,n)}),Vs=no(function(e,t){return $i(e,h,i,i,i,t)});function Us(e,t){return e===t||e!==e&&t!==t}var zs=Ki(Tr),Bs=Ki(function(e,t){return e>=t}),Ws=Or(function(){return arguments}())?Or:function(e){return ta(e)&&Le.call(e,"callee")&&!Qe.call(e,"callee")},Hs=n.isArray,qs=xt?Zt(xt):function(e){return ta(e)&&_r(e)==R};function Ks(e){return null!=e&&Zs(e.length)&&!$s(e)}function Gs(e){return ta(e)&&Ks(e)}var Qs=vt||gl,Ys=St?Zt(St):function(e){return ta(e)&&_r(e)==x};function Xs(e){if(!ta(e))return!1;var t=_r(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function $s(e){if(!ea(e))return!1;var t=_r(e);return t==E||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==pa(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var na=Et?Zt(Et):function(e){return ta(e)&&mo(e)==_};function ra(e){return"number"==typeof e||ta(e)&&_r(e)==T}function ia(e){if(!ta(e)||_r(e)!=C)return!1;var t=Ke(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Ve}var oa=kt?Zt(kt):function(e){return ta(e)&&_r(e)==I};var sa=_t?Zt(_t):function(e){return ta(e)&&mo(e)==j};function aa(e){return"string"==typeof e||!Hs(e)&&ta(e)&&_r(e)==O}function la(e){return"symbol"==typeof e||ta(e)&&_r(e)==P}var ca=Tt?Zt(Tt):function(e){return ta(e)&&Zs(e.length)&&!!lt[_r(e)]};var ua=Ki(Fr),da=Ki(function(e,t){return e<=t});function ha(e){if(!e)return[];if(Ks(e))return aa(e)?mn(e):Ii(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=mo(e);return(t==_?cn:t==j?hn:Ua)(e)}function fa(e){return e?(e=ga(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pa(e){var t=fa(e),n=t%1;return t===t?n?t-n:t:0}function ma(e){return e?ar(pa(e),0,g):0}function ga(e){if("number"==typeof e)return e;if(la(e))return m;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ve.test(e);return n||be.test(e)?ht(e.slice(2),n?2:8):ge.test(e)?m:+e}function va(e){return ji(e,Pa(e))}function ya(e){return null==e?"":ci(e)}var ba=Pi(function(e,t){if(ko(t)||Ks(t))ji(t,Oa(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])}),wa=Pi(function(e,t){ji(t,Pa(t),e)}),xa=Pi(function(e,t,n,r){ji(t,Pa(t),e,r)}),Sa=Pi(function(e,t,n,r){ji(t,Oa(t),e,r)}),Ea=no(sr);var ka=Xr(function(e,t){e=Te(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Pa(s),l=-1,c=a.length;++l<c;){var u=a[l],d=e[u];(d===i||Us(d,Pe[u])&&!Le.call(e,u))&&(e[u]=s[u])}return e}),_a=Xr(function(e){return e.push(i,Zi),Ct(Ra,i,e)});function Ta(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Ca(e,t){return null!=e&&go(e,t,Nr)}var Na=zi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n},el(rl)),Ia=zi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]},lo),ja=Xr(jr);function Oa(e){return Ks(e)?Xn(e):Dr(e)}function Pa(e){return Ks(e)?Xn(e,!0):Mr(e)}var Aa=Pi(function(e,t,n){Br(e,t,n)}),Ra=Pi(function(e,t,n,r){Br(e,t,n,r)}),La=no(function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,function(t){return t=bi(t,e),r||(r=t.length>1),t}),ji(e,io(e),n),r&&(n=lr(n,7,eo));for(var i=t.length;i--;)di(n,t[i]);return n});var Da=no(function(e,t){return null==e?{}:function(e,t){return qr(e,t,function(t,n){return Ca(e,n)})}(e,t)});function Ma(e,t){if(null==e)return{};var n=Lt(io(e),function(e){return[e]});return t=lo(t),qr(e,n,function(e,n){return t(e,n[0])})}var Fa=Xi(Oa),Va=Xi(Pa);function Ua(e){return null==e?[]:en(e,Oa(e))}var za=Di(function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)});function Ba(e){return Xa(ya(e).toLowerCase())}function Wa(e){return(e=ya(e))&&e.replace(xe,on).replace(tt,"")}var Ha=Di(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),qa=Di(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ka=Li("toLowerCase");var Ga=Di(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Qa=Di(function(e,t,n){return e+(n?" ":"")+Xa(t)});var Ya=Di(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Xa=Li("toUpperCase");function $a(e,t,n){return e=ya(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Ja=Xr(function(e,t){try{return Ct(e,i,t)}catch(n){return Xs(n)?n:new ae(n)}}),Za=no(function(e,t){return It(t,function(t){t=Mo(t),or(e,t,Is(e[t],e))}),e});function el(e){return function(){return e}}var tl=Vi(),nl=Vi(!0);function rl(e){return e}function il(e){return Lr("function"==typeof e?e:lr(e,1))}var ol=Xr(function(e,t){return function(n){return jr(n,e,t)}}),sl=Xr(function(e,t){return function(n){return jr(e,n,t)}});function al(e,t,n){var r=Oa(t),i=Sr(t,r);null!=n||ea(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Oa(t)));var o=!(ea(n)&&"chain"in n)||!!n.chain,s=$s(e);return It(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ii(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})}),e}function ll(){}var cl=Wi(Lt),ul=Wi(Ot),dl=Wi(Vt);function hl(e){return xo(e)?Gt(Mo(e)):function(e){return function(t){return Er(t,e)}}(e)}var fl=qi(),pl=qi(!0);function ml(){return[]}function gl(){return!1}var vl=Bi(function(e,t){return e+t},0),yl=Qi("ceil"),bl=Bi(function(e,t){return e/t},1),wl=Qi("floor");var xl=Bi(function(e,t){return e*t},1),Sl=Qi("round"),El=Bi(function(e,t){return e-t},0);return Un.after=function(e,t){if("function"!=typeof t)throw new Ie(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Cs,Un.assign=ba,Un.assignIn=wa,Un.assignInWith=xa,Un.assignWith=Sa,Un.at=Ea,Un.before=Ns,Un.bind=Is,Un.bindAll=Za,Un.bindKey=js,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Hs(e)?e:[e]},Un.chain=hs,Un.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:Qt(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,l=n(ft(o/t));s<o;)l[a++]=ri(e,s,s+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Hs(r)?Ii(r):[r],vr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Lt(e,function(e){if("function"!=typeof e[1])throw new Ie(o);return[n(e[0]),e[1]]}):[],Xr(function(n){for(var r=-1;++r<t;){var i=e[r];if(Ct(i[0],this,n))return Ct(i[1],this,n)}})},Un.conforms=function(e){return function(e){var t=Oa(e);return function(n){return cr(n,e,t)}}(lr(e,1))},Un.constant=el,Un.countBy=ms,Un.create=function(e,t){var n=zn(e);return null==t?n:ir(n,t)},Un.curry=function e(t,n,r){var o=$i(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=$i(t,l,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.debounce=Os,Un.defaults=ka,Un.defaultsDeep=_a,Un.defer=Ps,Un.delay=As,Un.difference=Uo,Un.differenceBy=zo,Un.differenceWith=Bo,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:pa(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:pa(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?fi(e,lo(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?fi(e,lo(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:pa(r))<0&&(r+=o),r=n>r?0:ma(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Hs(e)?Pt:gr)(e,lo(t,3))},Un.flatMap=function(e,t){return vr(Es(e,t),1)},Un.flatMapDeep=function(e,t){return vr(Es(e,t),f)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:pa(n),vr(Es(e,t),n)},Un.flatten=qo,Un.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,f):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:pa(t)):[]},Un.flip=function(e){return $i(e,512)},Un.flow=tl,Un.flowRight=nl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:Sr(e,Oa(e))},Un.functionsIn=function(e){return null==e?[]:Sr(e,Pa(e))},Un.groupBy=ws,Un.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Un.intersection=Go,Un.intersectionBy=Qo,Un.intersectionWith=Yo,Un.invert=Na,Un.invertBy=Ia,Un.invokeMap=xs,Un.iteratee=il,Un.keyBy=Ss,Un.keys=Oa,Un.keysIn=Pa,Un.map=Es,Un.mapKeys=function(e,t){var n={};return t=lo(t,3),wr(e,function(e,r,i){or(n,t(e,r,i),e)}),n},Un.mapValues=function(e,t){var n={};return t=lo(t,3),wr(e,function(e,r,i){or(n,r,t(e,r,i))}),n},Un.matches=function(e){return Ur(lr(e,1))},Un.matchesProperty=function(e,t){return zr(e,lr(t,1))},Un.memoize=Rs,Un.merge=Aa,Un.mergeWith=Ra,Un.method=ol,Un.methodOf=sl,Un.mixin=al,Un.negate=Ls,Un.nthArg=function(e){return e=pa(e),Xr(function(t){return Wr(t,e)})},Un.omit=La,Un.omitBy=function(e,t){return Ma(e,Ls(lo(t)))},Un.once=function(e){return Ns(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Hs(t)||(t=null==t?[]:[t]),Hs(n=r?i:n)||(n=null==n?[]:[n]),Hr(e,t,n))},Un.over=cl,Un.overArgs=Ds,Un.overEvery=ul,Un.overSome=dl,Un.partial=Ms,Un.partialRight=Fs,Un.partition=ks,Un.pick=Da,Un.pickBy=Ma,Un.property=hl,Un.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},Un.pull=$o,Un.pullAll=Jo,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,lo(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kr(e,t,i,n):e},Un.pullAt=Zo,Un.range=fl,Un.rangeRight=pl,Un.rearg=Vs,Un.reject=function(e,t){return(Hs(e)?Pt:gr)(e,Ls(lo(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=lo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Gr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new Ie(o);return Xr(e,t=t===i?t:pa(t))},Un.reverse=es,Un.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:pa(t),(Hs(e)?Jn:Jr)(e,t)},Un.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Zr(e,t,n,r)},Un.shuffle=function(e){return(Hs(e)?Zn:ni)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:pa(t),n=n===i?r:pa(n)),ri(e,t,n)):[]},Un.sortBy=_s,Un.sortedUniq=function(e){return e&&e.length?ai(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?ai(e,lo(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=ya(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=ci(t))&&ln(e)?xi(mn(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new Ie(o);return t=null==t?0:Qt(pa(t),0),Xr(function(n){var r=n[t],i=xi(n,0,t);return r&&Dt(i,r),Ct(e,this,i)})},Un.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:pa(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:pa(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?fi(e,lo(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?fi(e,lo(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(o);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Os(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=fs,Un.toArray=ha,Un.toPairs=Fa,Un.toPairsIn=Va,Un.toPath=function(e){return Hs(e)?Lt(e,Mo):la(e)?[e]:Ii(Do(ya(e)))},Un.toPlainObject=va,Un.transform=function(e,t,n){var r=Hs(e),i=r||Qs(e)||ca(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ea(e)&&$s(o)?zn(Ke(e)):{}}return(i?It:wr)(e,function(e,r,i){return t(n,e,r,i)}),n},Un.unary=function(e){return Cs(e,1)},Un.union=ts,Un.unionBy=ns,Un.unionWith=rs,Un.uniq=function(e){return e&&e.length?ui(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ui(e,lo(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},Un.unset=function(e,t){return null==e||di(e,t)},Un.unzip=is,Un.unzipWith=os,Un.update=function(e,t,n){return null==e?e:hi(e,t,yi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,yi(n),r)},Un.values=Ua,Un.valuesIn=function(e){return null==e?[]:en(e,Pa(e))},Un.without=ss,Un.words=$a,Un.wrap=function(e,t){return Ms(yi(t),e)},Un.xor=as,Un.xorBy=ls,Un.xorWith=cs,Un.zip=us,Un.zipObject=function(e,t){return gi(e||[],t||[],tr)},Un.zipObjectDeep=function(e,t){return gi(e||[],t||[],Zr)},Un.zipWith=ds,Un.entries=Fa,Un.entriesIn=Va,Un.extend=wa,Un.extendWith=xa,al(Un,Un),Un.add=vl,Un.attempt=Ja,Un.camelCase=za,Un.capitalize=Ba,Un.ceil=yl,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ga(n))===n?n:0),t!==i&&(t=(t=ga(t))===t?t:0),ar(ga(e),t,n)},Un.clone=function(e){return lr(e,4)},Un.cloneDeep=function(e){return lr(e,5)},Un.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||cr(e,t,Oa(t))},Un.deburr=Wa,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=bl,Un.endsWith=function(e,t,n){e=ya(e),t=ci(t);var r=e.length,o=n=n===i?r:ar(pa(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Us,Un.escape=function(e){return(e=ya(e))&&$.test(e)?e.replace(Y,sn):e},Un.escapeRegExp=function(e){return(e=ya(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=Hs(e)?Ot:pr;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Un.find=gs,Un.findIndex=Wo,Un.findKey=function(e,t){return zt(e,lo(t,3),wr)},Un.findLast=vs,Un.findLastIndex=Ho,Un.findLastKey=function(e,t){return zt(e,lo(t,3),xr)},Un.floor=wl,Un.forEach=ys,Un.forEachRight=bs,Un.forIn=function(e,t){return null==e?e:yr(e,lo(t,3),Pa)},Un.forInRight=function(e,t){return null==e?e:br(e,lo(t,3),Pa)},Un.forOwn=function(e,t){return e&&wr(e,lo(t,3))},Un.forOwnRight=function(e,t){return e&&xr(e,lo(t,3))},Un.get=Ta,Un.gt=zs,Un.gte=Bs,Un.has=function(e,t){return null!=e&&go(e,t,Cr)},Un.hasIn=Ca,Un.head=Ko,Un.identity=rl,Un.includes=function(e,t,n,r){e=Ks(e)?e:Ua(e),n=n&&!r?pa(n):0;var i=e.length;return n<0&&(n=Qt(i+n,0)),aa(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=Qt(r+i,0)),Wt(e,t,i)},Un.inRange=function(e,t,n){return t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n){return e>=bn(t,n)&&e<Qt(t,n)}(e=ga(e),t,n)},Un.invoke=ja,Un.isArguments=Ws,Un.isArray=Hs,Un.isArrayBuffer=qs,Un.isArrayLike=Ks,Un.isArrayLikeObject=Gs,Un.isBoolean=function(e){return!0===e||!1===e||ta(e)&&_r(e)==w},Un.isBuffer=Qs,Un.isDate=Ys,Un.isElement=function(e){return ta(e)&&1===e.nodeType&&!ia(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Ks(e)&&(Hs(e)||"string"==typeof e||"function"==typeof e.splice||Qs(e)||ca(e)||Ws(e)))return!e.length;var t=mo(e);if(t==_||t==j)return!e.size;if(ko(e))return!Dr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Pr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Un.isError=Xs,Un.isFinite=function(e){return"number"==typeof e&&bt(e)},Un.isFunction=$s,Un.isInteger=Js,Un.isLength=Zs,Un.isMap=na,Un.isMatch=function(e,t){return e===t||Ar(e,t,uo(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ar(e,t,uo(t),n)},Un.isNaN=function(e){return ra(e)&&e!=+e},Un.isNative=function(e){if(Eo(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=ra,Un.isObject=ea,Un.isObjectLike=ta,Un.isPlainObject=ia,Un.isRegExp=oa,Un.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=p},Un.isSet=sa,Un.isString=aa,Un.isSymbol=la,Un.isTypedArray=ca,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ta(e)&&mo(e)==A},Un.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==_r(e)},Un.join=function(e,t){return null==e?"":wt.call(e,t)},Un.kebabCase=Ha,Un.last=Xo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=pa(n))<0?Qt(r+o,0):bn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Bt(e,qt,o,!0)},Un.lowerCase=qa,Un.lowerFirst=Ka,Un.lt=ua,Un.lte=da,Un.max=function(e){return e&&e.length?mr(e,rl,Tr):i},Un.maxBy=function(e,t){return e&&e.length?mr(e,lo(t,2),Tr):i},Un.mean=function(e){return Kt(e,rl)},Un.meanBy=function(e,t){return Kt(e,lo(t,2))},Un.min=function(e){return e&&e.length?mr(e,rl,Fr):i},Un.minBy=function(e,t){return e&&e.length?mr(e,lo(t,2),Fr):i},Un.stubArray=ml,Un.stubFalse=gl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=xl,Un.nth=function(e,t){return e&&e.length?Wr(e,pa(t)):i},Un.noConflict=function(){return mt._===this&&(mt._=Ue),this},Un.noop=ll,Un.now=Ts,Un.pad=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(pt(i),n)+e+Hi(ft(i),n)},Un.padEnd=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?e+Hi(t-r,n):e},Un.padStart=function(e,t,n){e=ya(e);var r=(t=pa(t))?pn(e):0;return t&&r<t?Hi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(ya(e).replace(se,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return bn(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return Qr(e,t)},Un.reduce=function(e,t,n){var r=Hs(e)?Mt:Yt,i=arguments.length<3;return r(e,lo(t,4),n,i,hr)},Un.reduceRight=function(e,t,n){var r=Hs(e)?Ft:Yt,i=arguments.length<3;return r(e,lo(t,4),n,i,fr)},Un.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:pa(t),Yr(ya(e),t)},Un.replace=function(){var e=arguments,t=ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Mo(t[r])];s===i&&(r=o,s=n),e=$s(s)?s.call(e):s}return e},Un.round=Sl,Un.runInContext=e,Un.sample=function(e){return(Hs(e)?$n:$r)(e)},Un.size=function(e){if(null==e)return 0;if(Ks(e))return aa(e)?pn(e):e.length;var t=mo(e);return t==_||t==j?e.size:Dr(e).length},Un.snakeCase=Ga,Un.some=function(e,t,n){var r=Hs(e)?Vt:ii;return n&&wo(e,t,n)&&(t=i),r(e,lo(t,3))},Un.sortedIndex=function(e,t){return oi(e,t)},Un.sortedIndexBy=function(e,t,n){return si(e,t,lo(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Us(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return oi(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return si(e,t,lo(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Us(e[n],t))return n}return-1},Un.startCase=Qa,Un.startsWith=function(e,t,n){return e=ya(e),n=null==n?0:ar(pa(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Un.subtract=El,Un.sum=function(e){return e&&e.length?Xt(e,rl):0},Un.sumBy=function(e,t){return e&&e.length?Xt(e,lo(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&wo(e,t,n)&&(t=i),e=ya(e),t=xa({},t,r,Ji);var o,s,a=xa({},t.imports,r.imports,Ji),l=Oa(a),c=en(a,l),u=0,d=t.interpolate||Se,h="__p += '",f=Ce((t.escape||Se).source+"|"+d.source+"|"+(d===ee?pe:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(f,function(t,n,r,i,a,l){return r||(r=i),h+=e.slice(u,l).replace(Ee,an),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),h+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(he.test(m))throw new ae("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(q,""):h).replace(K,"$1").replace(G,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ja(function(){return ke(l,p+"return "+h).apply(i,c)});if(g.source=h,Xs(g))throw g;return g},Un.times=function(e,t){if((e=pa(e))<1||e>p)return[];var n=g,r=bn(e,g);t=lo(t),e-=g;for(var i=$t(r,t);++n<e;)t(n);return i},Un.toFinite=fa,Un.toInteger=pa,Un.toLength=ma,Un.toLower=function(e){return ya(e).toLowerCase()},Un.toNumber=ga,Un.toSafeInteger=function(e){return e?ar(pa(e),-9007199254740991,p):0===e?e:0},Un.toString=ya,Un.toUpper=function(e){return ya(e).toUpperCase()},Un.trim=function(e,t,n){if((e=ya(e))&&(n||t===i))return Jt(e);if(!e||!(t=ci(t)))return e;var r=mn(e),o=mn(t);return xi(r,nn(r,o),rn(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.slice(0,gn(e)+1);if(!e||!(t=ci(t)))return e;var r=mn(e);return xi(r,0,rn(r,mn(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=ya(e))&&(n||t===i))return e.replace(se,"");if(!e||!(t=ci(t)))return e;var r=mn(e);return xi(r,nn(r,mn(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(ea(t)){var o="separator"in t?t.separator:o;n="length"in t?pa(t.length):n,r="omission"in t?ci(t.omission):r}var s=(e=ya(e)).length;if(ln(e)){var a=mn(e);s=a.length}if(n>=s)return e;var l=n-pn(r);if(l<1)return r;var c=a?xi(a,0,l).join(""):e.slice(0,l);if(o===i)return c+r;if(a&&(l+=c.length-l),oa(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=Ce(o.source,ya(me.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var h=u.index;c=c.slice(0,h===i?l:h)}}else if(e.indexOf(ci(o),l)!=l){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},Un.unescape=function(e){return(e=ya(e))&&X.test(e)?e.replace(Q,vn):e},Un.uniqueId=function(e){var t=++De;return ya(e)+t},Un.upperCase=Ya,Un.upperFirst=Xa,Un.each=ys,Un.eachRight=bs,Un.first=Ko,al(Un,function(){var e={};return wr(Un,function(t,n){Le.call(Un.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),Un.VERSION="4.17.21",It(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Un[e].placeholder=Un}),It(["drop","take"],function(e,t){Hn.prototype[e]=function(n){n=n===i?1:Qt(pa(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),It(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),It(["head","last"],function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}}),It(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}}),Hn.prototype.compact=function(){return this.filter(rl)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Xr(function(e,t){return"function"==typeof e?new Hn(this):this.map(function(n){return jr(n,e,t)})}),Hn.prototype.reject=function(e){return this.filter(Ls(lo(e)))},Hn.prototype.slice=function(e,t){e=pa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=pa(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(g)},wr(Hn.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof Hn,c=a[0],u=l||Hs(t),d=function(e){var t=o.apply(Un,Dt([e],a));return r&&h?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=s&&!h,m=l&&!f;if(!s&&u){t=m?t:new Hn(this);var g=e.apply(t,a);return g.__actions__.push({func:fs,args:[d],thisArg:i}),new Wn(g,h)}return p&&m?e.apply(this,a):(g=this.thru(d),p?r?g.value()[0]:g.value():g)})}),It(["pop","push","shift","sort","splice","unshift"],function(e){var t=je[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Hs(i)?i:[],e)}return this[n](function(n){return t.apply(Hs(n)?n:[],e)})}}),wr(Hn.prototype,function(e,t){var n=Un[t];if(n){var r=n.name+"";Le.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}}),On[Ui(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Hs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=Qt(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,c=r?a:s-1,u=this.__iteratees__,d=u.length,h=0,f=bn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}p[h++]=g}return p},Un.prototype.at=ps,Un.prototype.chain=function(){return hs(this)},Un.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=Vo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:fs,args:[es],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(es)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,$e&&(Un.prototype[$e]=function(){return this}),Un}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},537:(e,t,n)=>{var r=n(811),i=n(303),o=i.each,s=i.isFunction,a=i.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var i=this.queries,l=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,l)),s(t)&&(t={match:t}),a(t)||(t=[t]),o(t,function(t){s(t)&&(t={match:t}),i[e].addHandler(t)}),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,M=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case _:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,ke=null;function _e(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Te(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ne(e,t){return e(t)}function Ie(){}var je=!1;function Oe(e,t,n){if(je)return e(t,n);je=!0;try{return Ne(e,t,n)}finally{je=!1,(null!==Ee||null!==ke)&&(Ie(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ae=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Ae=!1}function Le(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){De=!0,Me=e}};function ze(e,t,n,r,i,o,s,a,l){De=!1,Me=null,Le.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return He(i),e;if(s===r)return He(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,Et,kt,_t,Tt=!1,Ct=[],Nt=null,It=null,jt=null,Ot=new Map,Pt=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void _t(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==It&&Ft(It)&&(It=null),null!==jt&&Ft(jt)&&(jt=null),Ot.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==It&&zt(It,e),null!==jt&&zt(jt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Mt(n),null===n.blockedOn&&At.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Kt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Dt(Nt,e,t,n,r,i),!0;case"dragenter":return It=Dt(It,e,t,n,r,i),!0;case"mouseover":return jt=Dt(jt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Dt(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Dt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=M({},cn,{view:0,detail:0}),hn=on(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(M({},fn,{dataTransfer:0})),gn=on(M({},dn,{relatedTarget:0})),vn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return kn}var Tn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Tn),Nn=on(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),jn=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(On),An=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Dn=u&&"TextEvent"in window&&!Ln,Mn=u&&(!Rn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];qn(t,Gn,e,xe(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},kr={};function _r(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=_r("animationend"),Cr=_r("animationiteration"),Nr=_r("animationstart"),Ir=_r("transitionend"),jr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){jr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Rr=Or[Ar];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(ze.apply(this,arguments),De){if(!De)throw Error(o(198));var u=Me;De=!1,Me=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Mr(i,a,c),o=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var i=qt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Oe(function(){var r=o,i=xe(n),s=[];e:{var a=jr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Tr:case Cr:case Nr:l=vn;break;case Ir:l=jn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Hn(a))if($n)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?qn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Fr(s,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Pe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,o))&&s.unshift(qr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(qr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Si=[],Ei=-1;function ki(e){return{current:e}}function _i(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ti(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ci={},Ni=ki(Ci),Ii=ki(!1),ji=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){_i(Ii),_i(Ni)}function Ri(e,t,n){if(Ni.current!==Ci)throw Error(o(168));Ti(Ni,t),Ti(Ii,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return M({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,ji=Ni.current,Ti(Ni,e),Ti(Ii,Ii.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,_i(Ii),_i(Ni),Ti(Ni,e)):_i(Ii),Ti(Ii,n)}var Fi=null,Vi=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var Wi=[],Hi=0,qi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){Wi[Hi++]=Ki,Wi[Hi++]=qi,qi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xi=1<<32-st(t)+i|n<<i|r,$i=o+e}else Xi=1<<o|n<<i|r,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===qi;)qi=Wi[--Hi],Wi[Hi]=null,Ki=Wi[--Hi],Wi[Hi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),io&&Ji(i,m),c}function g(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bo(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=vo(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===E?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Rc(s.type,s.key,s.props,null,r.mode,l)).ref=vo(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(L(s))return g(r,o,s,l);yo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Mc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var xo=wo(!0),So=wo(!1),Eo=ki(null),ko=null,_o=null,To=null;function Co(){To=_o=ko=null}function No(e){var t=Eo.current;_i(Eo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jo(e,t){ko=e,To=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===ko)throw Error(o(308));_o=e,ko.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Po=null;function Ao(e){null===Po?Po=[e]:Po.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Mo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Do=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var qo={},Ko=ki(qo),Go=ki(qo),Qo=ki(qo);function Yo(e){if(e===qo)throw Error(o(174));return e}function Xo(e,t){switch(Ti(Qo,t),Ti(Go,e),Ti(Ko,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ko),Ti(Ko,t)}function $o(){_i(Ko),_i(Go),_i(Qo)}function Jo(e){Yo(Qo.current);var t=Yo(Ko.current),n=le(t,e.type);t!==n&&(Ti(Go,e),Ti(Ko,n))}function Zo(e){Go.current===e&&(_i(Ko),_i(Go))}var es=ki(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(o(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(o(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(ds)}if(is.current=Js,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(o(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ls,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Dl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ss(e){var t=bs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Es(){}function ks(e,t){var n=as,r=bs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ds(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Os(9,Ts.bind(null,n,r,i,t),void 0,null),null===Il)throw Error(o(349));0!==(30&ss)||_s(n,t,i)}return i}function _s(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ts(e,t,n,r){t.value=n,t.getSnapshot=r,Ns(t)&&Is(e)}function Cs(e,t,n){return n(function(){Ns(t)&&Is(e)})}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Is(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function js(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Qs.bind(null,as,e),[t.memoizedState,e]}function Os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return bs().memoizedState}function As(e,t,n,r){var i=ys();as.flags|=e,i.memoizedState=Os(1|t,n,void 0,void 0===r?null:r)}function Rs(e,t,n,r){var i=bs();r=void 0===r?null:r;var o=void 0;if(null!==ls){var s=ls.memoizedState;if(o=s.destroy,null!==r&&ms(r,s.deps))return void(i.memoizedState=Os(t,n,o,r))}as.flags|=e,i.memoizedState=Os(1|t,n,o,r)}function Ls(e,t){return As(8390656,8,e,t)}function Ds(e,t){return Rs(2048,8,e,t)}function Ms(e,t){return Rs(4,2,e,t)}function Fs(e,t){return Rs(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Us(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4,4,Vs.bind(null,t,e),n)}function zs(){}function Bs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Dl|=n,e.baseState=!0),t)}function qs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{bt=n,os.transition=r}}function Ks(){return bs().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Xs(t,n);else if(null!==(n=Ro(e,t,n,r))){nc(n,e,r,ec()),$s(n,t,r)}}function Qs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Xs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,Ao(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ro(e,t,i,r))&&(nc(n,e,r,i=ec()),$s(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Xs(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $s(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Oo,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Oo,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,As(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:js,useDebugValue:zs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=qs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=ys();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Il)throw Error(o(349));0!==(30&ss)||_s(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ls(Cs.bind(null,r,s,e),[e]),r.flags|=2048,Os(9,Ts.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Il.identifierPrefix;if(io){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-st(Xi)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Oo,useCallback:Bs,useContext:Oo,useEffect:Ds,useImperativeHandle:Us,useInsertionEffect:Ms,useLayoutEffect:Fs,useMemo:Ws,useReducer:xs,useRef:Ps,useState:function(){return xs(ws)},useDebugValue:zs,useDeferredValue:function(e){return Hs(bs(),ls.memoizedState,e)},useTransition:function(){return[xs(ws)[0],bs().memoizedState]},useMutableSource:Es,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:Oo,useCallback:Bs,useContext:Oo,useEffect:Ds,useImperativeHandle:Us,useInsertionEffect:Ms,useLayoutEffect:Fs,useMemo:Ws,useReducer:Ss,useRef:Ps,useState:function(){return Ss(ws)},useDebugValue:zs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],bs().memoizedState]},useMutableSource:Es,useSyncExternalStore:ks,useId:Ks,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Vo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Vo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Vo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(nc(t,e,r,n),zo(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function sa(e,t,n){var r=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Oo(o):(i=Pi(t)?ji:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ci),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Mo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Oo(o):(o=Pi(t)?ji:Ni.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Vo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),da(0,t)},n}function pa(e,t,n){(n=Vo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Vo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?So(t,null,n,r):xo(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var o=t.ref;return jo(t,i),r=gs(e,t,n,r,o,i),n=vs(),null===e||ba?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Sa(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ea(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Ac(o,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ta(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Al,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Al,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Al,Pl),Pl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Al,Pl),Pl|=r;return wa(e,t,i,n),t.child}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var o=Pi(n)?ji:Ni.current;return o=Oi(t,o),jo(t,i),n=gs(e,t,n,r,o,i),r=vs(),null===e||ba?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ca(e,t,n,r,i){if(Pi(n)){var o=!0;Di(t)}else o=!1;if(jo(t,i),null===t.stateNode)Wa(e,t),sa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Oo(c):c=Oi(t,c=Pi(n)?ji:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Do=!1;var h=t.memoizedState;s.state=h,Wo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ii.current||Do?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Do||oa(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Oo(l):l=Oi(t,l=Pi(n)?ji:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,r,l),Do=!1,h=t.memoizedState,s.state=h,Wo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ii.current||Do?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Do||oa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,o,i)}function Na(e,t,n,r,i,o){_a(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Mi(t,n,!1),Ha(e,t,o);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Xo(e,t.containerInfo)}function ja(e,t,n,r,i){return po(),mo(i),t.flags|=256,wa(e,t,n,r),t.child}var Oa,Pa,Aa,Ra,La={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ti(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=La,e):Fa(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=La,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ua(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Il)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return mc(),Va(e,t,a,r=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ac(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Ac(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Ac(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&mo(r),xo(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function za(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,o);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Pi(t.type)&&Ai(),Ka(t),null;case 3:return r=t.stateNode,$o(),_i(Ii),_i(Ni),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Pa(e,t),Ka(t),null;case 5:Zo(t);var i=Yo(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Yo(Ko.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,s),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Vr("invalid",r);break;case"textarea":ie(r,s),Vr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Vr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Ra(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Qo.current),Yo(Ko.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ka(t),null;case 13:if(_i(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return $o(),Pa(e,t),null===e&&Br(t.stateNode.containerInfo),Ka(t),null;case 10:return No(t.type._context),Ka(t),null;case 19:if(_i(es),null===(s=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qa(s,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,qa(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&$e()>Bl&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ka(t),null}else 2*$e()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$e(),t.sibling=null,n=es.current,Ti(es,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qa(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $o(),_i(Ii),_i(Ni),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(_i(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(es),null;case 4:return $o(),null;case 10:return No(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Aa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yo(Ko.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ra=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||Za(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Xa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,hl(e,t,n),Xa=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach(function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&$(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,ml(t,e),Xa=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Ja=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(o(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=s,(Xa=l)&&!c)for(Ja=i;null!==Ja;)l=(s=Ja).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Ja=l):Sl(i);for(;null!==o;)Ja=o,bl(o,t,n),o=o.sibling;Ja=i,Ya=a,Xa=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ja=o):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function Sl(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{il(t)}catch(l){kc(t,o,l)}break;case 5:var s=t.return;try{il(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var El,kl=Math.ceil,_l=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Nl=0,Il=null,jl=null,Ol=0,Pl=0,Al=ki(0),Rl=0,Ll=null,Dl=0,Ml=0,Fl=0,Vl=null,Ul=null,zl=0,Bl=1/0,Wl=null,Hl=!1,ql=null,Kl=null,Gl=!1,Ql=null,Yl=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Nl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Ol?Ol&-Ol:null!==go.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(o(185));vt(e,n,r),0!==(2&Nl)&&e===Il||(e===Il&&(0===(2&Nl)&&(Ml|=n),4===Rl&&ac(e,Ol)),rc(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Bl=$e()+500,Vi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Il?Ol:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),si(function(){0===(6&Nl)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Nl))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Il?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Nl;Nl|=2;var s=pc();for(Il===e&&Ol===t||(Wl=null,Bl=$e()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Co(),_l.current=s,Nl=i,null!==jl?t=0:(Il=null,Ol=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,hc(e,0),ac(e,r),rc(e,$e()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t))throw n=Ll,hc(e,0),ac(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Ul,Wl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=zl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ul,Wl),t);break}xc(e,Ul,Wl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ul,Wl),r);break}xc(e,Ul,Wl);break;default:throw Error(o(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Nl))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,hc(e,0),ac(e,t),rc(e,$e()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,Wl),rc(e,$e()),null}function cc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Bl=$e()+500,Vi&&Bi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Nl)&&Sc();var t=Nl;Nl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Nl=t))&&Bi()}}function dc(){Pl=Al.current,_i(Al)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:$o(),_i(Ii),_i(Ni),rs();break;case 5:Zo(r);break;case 4:$o();break;case 13:case 19:_i(es);break;case 10:No(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Il=e,jl=e=Ac(e.current,null),Ol=Pl=t,Rl=0,Ll=null,Fl=Ml=Dl=0,Ul=Vl=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Po=null}return e}function fc(e,t){for(;;){var n=jl;try{if(Co(),is.current=Js,us){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Tl.current=null,null===n||null===n.return){Rl=1,Ll=t,jl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Ol,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(s,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mo(ca(c,l));break e}}s=c=ca(c,l),4!==Rl&&(Rl=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,fa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(s,l,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function pc(){var e=_l.current;return _l.current=Js,null===e?Js:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Il||0===(268435455&Dl)&&0===(268435455&Ml)||ac(Il,Ol)}function gc(e,t){var n=Nl;Nl|=2;var r=pc();for(Il===e&&Ol===t||(Wl=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Co(),Nl=n,_l.current=r,null!==jl)throw Error(o(261));return Il=null,Ol=0,Rl}function vc(){for(;null!==jl;)bc(jl)}function yc(){for(;null!==jl&&!Ye();)bc(jl)}function bc(e){var t=El(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?wc(e):jl=t,Tl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Pl)))return void(jl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Rl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Rl&&(Rl=5)}function xc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ql);if(0!==(6&Nl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Il&&(jl=Il=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ic(tt,function(){return Sc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=Nl;Nl|=4,Tl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Nl=l,bt=a,Cl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=i),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function Sc(){if(null!==Ql){var e=wt(Yl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Nl))throw Error(o(331));var i=Nl;for(Nl|=4,Ja=e.current;null!==Ja;){var s=Ja,a=s.child;if(0!==(16&Ja.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(ol(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(s=Ja).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ja=y;break e}Ja=s.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){kc(l,l.return,S)}if(l===a){Ja=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break e}Ja=l.return}}if(Nl=i,Bi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Ec(e,t,n){e=Uo(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Uo(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ol&n)===n&&(4===Rl||3===Rl&&(130023424&Ol)===Ol&&500>$e()-zl?hc(e,0):Fl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Ic(e,t){return Ge(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new jc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Lc(n.children,i,s,t);case k:a=8,i|=8;break;case _:return(e=Oc(12,n,t,2|i)).elementType=_,e.lanes=s,e;case I:return(e=Oc(13,n,t,i)).elementType=I,e.lanes=s,e;case j:return(e=Oc(19,n,t,i)).elementType=j,e.lanes=s,e;case A:return Dc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case N:a=11;break e;case O:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Oc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,s,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Oc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mo(o),e}function zc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,l){return(e=Uc(n,r,!0,e,0,o,0,a,l)).context=zc(null),n=e.current,(o=Vo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Vo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,s))&&(nc(e,i,s,o),zo(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),po();break;case 5:Jo(t);break;case 1:Pi(t.type)&&Di(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Eo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Ti(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ti(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Oi(t,Ni.current);jo(t,n),i=gs(null,t,r,e,i,n);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Di(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Mo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Na(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=Sa(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Fo(e,t),Wo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=ja(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=ja(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),_a(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ma(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ti(Eo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ii.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Vo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,jo(t,n),r=r(i=Oo(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Sa(e,t,r,i=na(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Wa(e,t),t.tag=1,Pi(r)?(e=!0,Di(t)):e=!1,jo(t,n),sa(t,r,i),la(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return ka(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hc(s);a.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Wc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(s)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Wc(null,e,null,null)}),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,$e()),0===(6&Nl)&&(Bl=$e()+500,Bi()))}break;case 13:uc(function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},kt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Te,Ce,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},737:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var r=s(n(43)),i=s(n(139)),o=n(200);function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=f();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}var b=function(e){var t,n,r,i,o;return r=(o=e.rtl?e.slideCount-1-e.index:e.index)<0||o>=e.slideCount,e.centerMode?(i=Math.floor(e.slidesToShow/2),n=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-i-1&&o<=e.currentSlide+i&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":o===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},w=function(e,t){return e.key||t},x=function(e){var t,n=[],s=[],a=[],l=r.default.Children.count(e.children),c=(0,o.lazyStartIndex)(e),u=(0,o.lazyEndIndex)(e);return r.default.Children.forEach(e.children,function(d,h){var f,p={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};f=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?d:r.default.createElement("div",null);var m=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(g(g({},e),{},{index:h})),v=f.props.className||"",y=b(g(g({},e),{},{index:h}));if(n.push(r.default.cloneElement(f,{key:"original"+w(f,h),"data-index":h,className:(0,i.default)(y,v),tabIndex:"-1","aria-hidden":!y["slick-active"],style:g(g({outline:"none"},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&!1===e.fade){var x=l-h;x<=(0,o.getPreClones)(e)&&((t=-x)>=c&&(f=d),y=b(g(g({},e),{},{index:t})),s.push(r.default.cloneElement(f,{key:"precloned"+w(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(y,v),"aria-hidden":!y["slick-active"],style:g(g({},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))),(t=l+h)<u&&(f=d),y=b(g(g({},e),{},{index:t})),a.push(r.default.cloneElement(f,{key:"postcloned"+w(f,t),"data-index":t,tabIndex:"-1",className:(0,i.default)(y,v),"aria-hidden":!y["slick-active"],style:g(g({},f.props.style||{}),m),onClick:function(t){f.props&&f.props.onClick&&f.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(p)}}))}}),e.rtl?s.concat(n,a).reverse():s.concat(n,a)};t.Track=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(s,e);var t,n,i,o=d(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=o.call.apply(o,[this].concat(n))),"node",null),v(h(e),"handleRef",function(t){e.node=t}),e}return t=s,(n=[{key:"render",value:function(){var e=x(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return r.default.createElement("div",l({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.default.PureComponent)},751:(e,t,n)=>{"use strict";var r=n(43),i=n(870);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function l(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function p(e){var t=r.useRef(e);return f(function(){t.current=e}),r.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)},[])}var m=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],g={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},v=function(e){var t=Object.fromEntries(Object.entries(e).filter(function(e){return void 0!==d(e,2)[1]})),n=r.useMemo(function(){return s(s({},g),t)},[e]),o=n.ref,a=n.startOnMount,l=n.enableReinitialize,c=n.delay,h=n.onEnd,f=n.onStart,v=n.onPauseResume,y=n.onReset,b=n.onUpdate,w=u(n,m),x=r.useRef(),S=r.useRef(),E=r.useRef(!1),k=p(function(){return function(e,t){var n=t.decimal,r=t.decimals,o=t.duration,s=t.easingFn,a=t.end,l=t.formattingFn,c=t.numerals,u=t.prefix,d=t.separator,h=t.start,f=t.suffix,p=t.useEasing,m=t.useGrouping,g=t.useIndianSeparators,v=t.enableScrollSpy,y=t.scrollSpyDelay,b=t.scrollSpyOnce,w=t.plugin;return new i.CountUp(e,a,{startVal:h,duration:o,decimal:n,decimalPlaces:r,easingFn:s,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:f,plugin:w,useEasing:p,useIndianSeparators:g,useGrouping:m,enableScrollSpy:v,scrollSpyDelay:y,scrollSpyOnce:b})}("string"===typeof o?o:o.current,w)}),_=p(function(e){var t=x.current;if(t&&!e)return t;var n=k();return x.current=n,n}),T=p(function(){var e=function(){return _(!0).start(function(){null===h||void 0===h||h({pauseResume:C,reset:N,start:j,update:I})})};c&&c>0?S.current=setTimeout(e,1e3*c):e(),null===f||void 0===f||f({pauseResume:C,reset:N,update:I})}),C=p(function(){_().pauseResume(),null===v||void 0===v||v({reset:N,start:j,update:I})}),N=p(function(){_().el&&(S.current&&clearTimeout(S.current),_().reset(),null===y||void 0===y||y({pauseResume:C,start:j,update:I}))}),I=p(function(e){_().update(e),null===b||void 0===b||b({pauseResume:C,reset:N,start:j})}),j=p(function(){N(),T()}),O=p(function(e){a&&(e&&N(),T())});return r.useEffect(function(){E.current?l&&O(!0):(E.current=!0,O())},[l,E,O,c,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),r.useEffect(function(){return function(){N()}},[N]),{start:j,pauseResume:C,reset:N,update:I,getCountUp:_}},y=["className","redraw","containerProps","children","style"];t.Ay=function(e){var t=e.className,n=e.redraw,i=e.containerProps,o=e.children,a=e.style,l=u(e,y),d=r.useRef(null),h=r.useRef(!1),f=v(s(s({},l),{},{ref:d,startOnMount:"function"!==typeof o||0===e.delay,enableReinitialize:!1})),m=f.start,g=f.reset,b=f.update,w=f.pauseResume,x=f.getCountUp,S=p(function(){m()}),E=p(function(t){e.preserveValue||g(),b(t)}),k=p(function(){"function"!==typeof e.children||d.current instanceof Element?x():console.error('Couldn\'t find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.')});r.useEffect(function(){k()},[k]),r.useEffect(function(){h.current&&E(e.end)},[e.end,E]);var _=n&&e;return r.useEffect(function(){n&&h.current&&S()},[S,n,_]),r.useEffect(function(){!n&&h.current&&S()},[S,n,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),r.useEffect(function(){h.current=!0},[]),"function"===typeof o?o({countUpRef:d,start:m,reset:g,update:b,pauseResume:w,getCountUp:x}):r.createElement("span",c({className:t,ref:d,style:a},i),"undefined"!==typeof e.start?x().formattingFn(e.start):"")}},789:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map(function(e){return r(e,n)})}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}(e))}function s(e,t){try{return t in e}catch(n){return!1}}function a(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach(function(t){i[t]=r(e[t],n)}),o(t).forEach(function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"===typeof n?n:l}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))}),i}function l(e,n,o){(o=o||{}).arrayMerge=o.arrayMerge||i,o.isMergeableObject=o.isMergeableObject||t,o.cloneUnlessOtherwiseSpecified=r;var s=Array.isArray(n);return s===Array.isArray(e)?s?o.arrayMerge(e,n,o):a(e,n,o):r(n,o)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return l(e,n,t)},{})};var c=l;e.exports=c},811:(e,t,n)=>{var r=n(347),i=n(303).each;function o(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}o.prototype={constuctor:o,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,function(t){t[e]()})}},e.exports=o},820:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),s="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],l="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&l()}function a(){s(o)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},h=y(0,0,0,0);function f(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+f(e["border-"+n+"-width"])},0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}(r),o=i.left+i.right,s=i.top+i.bottom,a=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==t&&(a-=p(r,"left","right")+o),Math.round(l+s)!==n&&(l-=p(r,"top","bottom")+s)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return y(i.left,i.top,a,l)}var g="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"===typeof e.getBBox};function v(e){return i?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):m(e):h}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return u(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}(t);u(this,{target:e,contentRect:n})},x=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new w(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!==typeof WeakMap?new WeakMap:new r,E=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new x(t,n,this);S.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){E.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}});const k="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:E},826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=h(n(43)),i=h(n(910)),o=h(n(446)),s=h(n(139)),a=n(200),l=n(737),c=n(496),u=n(214),d=h(n(820));function h(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function w(e){var t=S();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}function k(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:String(t)}t.InnerSlider=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(S,e);var t,n,h,g=w(S);function S(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),k(x(t=g.call(this,e)),"listRefHandler",function(e){return t.list=e}),k(x(t),"trackRefHandler",function(e){return t.track=e}),k(x(t),"adaptHeight",function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,a.getHeight)(e)+"px"}}),k(x(t),"componentDidMount",function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,a.getOnDemandLazySlides)(v(v({},t.props),t.state));e.length>0&&(t.setState(function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}}),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=v({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")}),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new d.default(function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout(function(){return t.onWindowResized()},t.props.speed))):t.onWindowResized()}),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)}),k(x(t),"componentWillUnmount",function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach(function(e){return clearTimeout(e)}),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()}),k(x(t),"componentDidUpdate",function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,a.getOnDemandLazySlides)(v(v({},t.props),t.state));n.length>0&&(t.setState(function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}}),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var i=v(v({listRef:t.list,trackRef:t.track},t.props),t.state),o=t.didPropsChange(e);o&&t.updateState(i,o,function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")})}),k(x(t),"onWindowResized",function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,o.default)(function(){return t.resizeWindow(e)},50),t.debouncedResize()}),k(x(t),"resizeWindow",function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(t.track&&t.track.node)){var n=v(v({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(n,e,function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")}),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}}),k(x(t),"updateState",function(e,n,i){var o=(0,a.initializedState)(e);e=v(v(v({},e),o),{},{slideIndex:o.currentSlide});var s=(0,a.getTrackLeft)(e);e=v(v({},e),{},{left:s});var l=(0,a.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(o.trackStyle=l),t.setState(o,i)}),k(x(t),"ssrInit",function(){if(t.props.variableWidth){var e=0,n=0,i=[],o=(0,a.getPreClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length})),s=(0,a.getPostClones)(v(v(v({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach(function(t){i.push(t.props.style.width),e+=t.props.style.width});for(var l=0;l<o;l++)n+=i[i.length-1-l],e+=i[i.length-1-l];for(var c=0;c<s;c++)e+=i[c];for(var u=0;u<t.state.currentSlide;u++)n+=i[u];var d={width:e+"px",left:-n+"px"};if(t.props.centerMode){var h="".concat(i[t.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:d}}var f=r.default.Children.count(t.props.children),p=v(v(v({},t.props),t.state),{},{slideCount:f}),m=(0,a.getPreClones)(p)+(0,a.getPostClones)(p)+f,g=100/t.props.slidesToShow*m,y=100/m,b=-y*((0,a.getPreClones)(p)+t.state.currentSlide)*g/100;return t.props.centerMode&&(b+=(100-y*g/100)/2),{slideWidth:y+"%",trackStyle:{width:g+"%",left:b+"%"}}}),k(x(t),"checkImagesLoad",function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,function(e){var i=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var o=e.onclick;e.onclick=function(t){o(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=i,e.onerror=function(){i(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))})}),k(x(t),"progressiveLazyLoad",function(){for(var e=[],n=v(v({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,a.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=t.state.currentSlide-1;i>=-(0,a.getPreClones)(n);i--)if(t.state.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(t.setState(function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}}),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)}),k(x(t),"slideHandler",function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,i=r.asNavFor,o=r.beforeChange,s=r.onLazyLoad,l=r.speed,c=r.afterChange,u=t.state.currentSlide,d=(0,a.slideHandler)(v(v(v({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),h=d.state,f=d.nextState;if(h){o&&o(u,h.currentSlide);var p=h.lazyLoadedList.filter(function(e){return t.state.lazyLoadedList.indexOf(e)<0});s&&p.length>0&&s(p),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(u),delete t.animationEndCallback),t.setState(h,function(){i&&t.asNavForIndex!==e&&(t.asNavForIndex=e,i.innerSlider.slideHandler(e)),f&&(t.animationEndCallback=setTimeout(function(){var e=f.animating,n=m(f,["animating"]);t.setState(n,function(){t.callbackTimers.push(setTimeout(function(){return t.setState({animating:e})},10)),c&&c(h.currentSlide),delete t.animationEndCallback})},l))})}}),k(x(t),"changeSlide",function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=v(v({},t.props),t.state),i=(0,a.changeSlide)(r,e);if((0===i||i)&&(!0===n?t.slideHandler(i,n):t.slideHandler(i),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var o=t.list.querySelectorAll(".slick-current");o[0]&&o[0].focus()}}),k(x(t),"clickHandler",function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0}),k(x(t),"keyHandler",function(e){var n=(0,a.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})}),k(x(t),"selectHandler",function(e){t.changeSlide(e)}),k(x(t),"disableBodyScroll",function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}}),k(x(t),"enableBodyScroll",function(){window.ontouchmove=null}),k(x(t),"swipeStart",function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,a.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)}),k(x(t),"swipeMove",function(e){var n=(0,a.swipeMove)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))}),k(x(t),"swipeEnd",function(e){var n=(0,a.swipeEnd)(e,v(v(v({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}}),k(x(t),"touchEnd",function(e){t.swipeEnd(e),t.clickable=!0}),k(x(t),"slickPrev",function(){t.callbackTimers.push(setTimeout(function(){return t.changeSlide({message:"previous"})},0))}),k(x(t),"slickNext",function(){t.callbackTimers.push(setTimeout(function(){return t.changeSlide({message:"next"})},0))}),k(x(t),"slickGoTo",function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout(function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)},0))}),k(x(t),"play",function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,a.canGoNext)(v(v({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)}),k(x(t),"autoPlay",function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})}),k(x(t),"pause",function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})}),k(x(t),"onDotsOver",function(){return t.props.autoplay&&t.pause("hovered")}),k(x(t),"onDotsLeave",function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")}),k(x(t),"onTrackOver",function(){return t.props.autoplay&&t.pause("hovered")}),k(x(t),"onTrackLeave",function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")}),k(x(t),"onSlideFocus",function(){return t.props.autoplay&&t.pause("focused")}),k(x(t),"onSlideBlur",function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")}),k(x(t),"render",function(){var e,n,i,o=(0,s.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),d=v(v({},t.props),t.state),h=(0,a.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),f=t.props.pauseOnHover;if(h=v(v({},h),{},{onMouseEnter:f?t.onTrackOver:null,onMouseLeave:f?t.onTrackLeave:null,onMouseOver:f?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var m=(0,a.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),g=t.props.pauseOnDotsHover;m=v(v({},m),{},{clickHandler:t.changeSlide,onMouseEnter:g?t.onDotsLeave:null,onMouseOver:g?t.onDotsOver:null,onMouseLeave:g?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,m)}var y=(0,a.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(u.PrevArrow,y),i=r.default.createElement(u.NextArrow,y));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var w=null;!1===t.props.vertical?!0===t.props.centerMode&&(w={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(w={padding:t.props.centerPadding+" 0px"});var x=v(v({},b),w),S=t.props.touchMove,E={className:"slick-list",style:x,onClick:t.clickHandler,onMouseDown:S?t.swipeStart:null,onMouseMove:t.state.dragging&&S?t.swipeMove:null,onMouseUp:S?t.swipeEnd:null,onMouseLeave:t.state.dragging&&S?t.swipeEnd:null,onTouchStart:S?t.swipeStart:null,onTouchMove:t.state.dragging&&S?t.swipeMove:null,onTouchEnd:S?t.touchEnd:null,onTouchCancel:t.state.dragging&&S?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},k={className:o,dir:"ltr",style:t.props.style};return t.props.unslick&&(E={className:"slick-list"},k={className:o}),r.default.createElement("div",k,t.props.unslick?"":n,r.default.createElement("div",p({ref:t.listRefHandler},E),r.default.createElement(l.Track,p({ref:t.trackRefHandler},h),t.props.children)),t.props.unslick?"":i,t.props.unslick?"":e)}),t.list=null,t.track=null,t.state=v(v({},i.default),{},{currentSlide:t.props.initialSlide,targetSlide:t.props.initialSlide?t.props.initialSlide:0,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=v(v({},t.state),n),t}return t=S,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,i=Object.keys(this.props);n<i.length;n++){var o=i[n];if(!e.hasOwnProperty(o)){t=!0;break}if("object"!==f(e[o])&&"function"!==typeof e[o]&&!isNaN(e[o])&&e[o]!==this.props[o]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&y(t.prototype,n),h&&y(t,h),Object.defineProperty(t,"prototype",{writable:!1}),S}(r.default.Component)},853:(e,t,n)=>{"use strict";e.exports=n(234)},861:e=>{"use strict";var t=function(e,t){return e+n(t)},n=function(e){return null===e||"boolean"===typeof e||"undefined"===typeof e?"":"number"===typeof e?e.toString():"string"===typeof e?e:Array.isArray(e)?e.reduce(t,""):function(e){return Object.prototype.hasOwnProperty.call(e,"props")}(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?n(e.props.children):""};n.default=n,e.exports=n},865:e=>{var t=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),r=Math.min,i=Date.now;function o(e){return function(o,l,c,u){"function"==typeof(c=c||{})&&(u=c,c={}),"function"!=typeof u&&(u=a);var d=i(),h=o[e],f=c.ease||s,p=isNaN(c.duration)?350:+c.duration,m=!1;return h===l?u(t,o[e]):requestAnimationFrame(function t(s){if(m)return u(n,o[e]);var a=i(),c=r(1,(a-d)/p),g=f(c);o[e]=g*(l-h)+h,c<1?requestAnimationFrame(t):requestAnimationFrame(function(){u(null,o[e])})}),function(){m=!0}}}function s(e){return.5*(1-Math.cos(Math.PI*e))}function a(){}e.exports={left:o("scrollLeft"),top:o("scrollTop")}},870:function(e,t){!function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},n=function(){function e(e,n,r){var i=this;this.endVal=n,this.options=r,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(e){i.startTime||(i.startTime=e);var t=e-i.startTime;i.remaining=i.duration-t,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(t,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(t,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(t/i.duration);var n=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=n?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),t<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(e){var t,n,r,o,s=e<0?"-":"";t=Math.abs(e).toFixed(i.options.decimalPlaces);var a=(t+="").split(".");if(n=a[0],r=a.length>1?i.options.decimal+a[1]:"",i.options.useGrouping){o="";for(var l=3,c=0,u=0,d=n.length;u<d;++u)i.options.useIndianSeparators&&4===u&&(l=2,c=1),0!==u&&c%l==0&&(o=i.options.separator+o),c++,o=n[d-u-1]+o;n=o}return i.options.numerals&&i.options.numerals.length&&(n=n.replace(/[0-9]/g,function(e){return i.options.numerals[+e]}),r=r.replace(/[0-9]/g,function(e){return i.options.numerals[+e]})),s+i.options.prefix+n+r+i.options.suffix},this.easeOutExpo=function(e,t,n,r){return n*(1-Math.pow(2,-10*e/r))*1024/1023+t},this.options=t(t({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el="string"==typeof e?document.getElementById(e):e,n=null==n?this.parse(this.el.innerHTML):n,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(n),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(e){return e()})},this.handleScroll(this)))}return e.prototype.handleScroll=function(e){if(e&&window&&!e.once){var t=window.innerHeight+window.scrollY,n=e.el.getBoundingClientRect(),r=n.top+window.pageYOffset,i=n.top+n.height+window.pageYOffset;i<t&&i>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>i||r>t)&&!e.paused&&e.reset()}},e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var n=this.countDown?1:-1;this.endVal=e+n*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t;if(this.el){var n=this.formattingFn(e);(null===(t=this.options.plugin)||void 0===t?void 0:t.render)?this.options.plugin.render(this.el,n):"INPUT"===this.el.tagName?this.el.value=n:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=n:this.el.innerHTML=n}},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e.prototype.parse=function(e){var t=function(e){return e.replace(/([.,'\xa0 ])/g,"\\$1")},n=t(this.options.separator),r=t(this.options.decimal),i=e.replace(new RegExp(n,"g"),"").replace(new RegExp(r,"g"),".");return parseFloat(i)},e}();e.CountUp=n}(t)},910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".93adf1eb.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="truekar-tailwind-ui:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunktruekar_tailwind_ui=self.webpackChunktruekar_tailwind_ui||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),o=n(950),s=n.t(o,2);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,u=o.history,p=e.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(a({},u.state,{idx:g}),""));let w={get action(){return p},get location(){return t(o,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(l,y),m=e,()=>{o.removeEventListener(l,y),m=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=h(w.location,t,n);r&&r(i,t),g=v()+1;let a=d(i,g),l=w.createHref(i);try{u.pushState(a,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(l)}s&&m&&m({action:p,location:w.location,delta:1})},replace:function(t,n){p=e.Replace;let i=h(w.location,t,n);r&&r(i,t),g=v();let o=d(i,g),a=w.createHref(i);u.replaceState(o,"",a),s&&m&&m({action:p,location:w.location,delta:0})},go:e=>u.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let o=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=O(i);s=I(o[a],e,r)}return s}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=M([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:N(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=w(r.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),i&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const x=/^:[\w-]+$/,S=3,E=2,k=1,_=10,T=-2,C=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=T),t&&(r+=E),n.filter(e=>!C(e)).reduce((e,t)=>e+(x.test(t)?S:""===t?k:_),r)}function I(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:M([o,u.pathname]),pathnameBase:F(M([o,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(o=M([o,u.pathnameBase]))}return s}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:s,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=R(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=a({},e),c(!i.pathname||!i.pathname.includes("?"),A("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),A("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),A("#","search","hash",i)));let o,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:V(r),hash:U(i)}}(i,o),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],W=(new Set(B),["get",...B]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const q=t.createContext(null);const K=t.createContext(null);const G=t.createContext(null);const Q=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const X=t.createContext(null);function $(){return null!=t.useContext(Q)}function J(){return $()||c(!1),t.useContext(Q).location}function Z(e){t.useContext(G).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=de(ce.UseNavigateStable),n=fe(ue.UseNavigateStable),r=t.useRef(!1);Z(()=>{r.current=!0});let i=t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,H({fromRouteId:n},i)))},[e,n]);return i}():function(){$()||c(!1);let e=t.useContext(q),{basename:n,future:r,navigator:i}=t.useContext(G),{matches:o}=t.useContext(Y),{pathname:s}=J(),a=JSON.stringify(L(o,r.v7_relativeSplatPath)),l=t.useRef(!1);return Z(()=>{l.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=D(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:M([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)},[n,i,a,s,e])}()}function te(){let{matches:e}=t.useContext(Y),n=e[e.length-1];return n?n.params:{}}function ne(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(G),{matches:o}=t.useContext(Y),{pathname:s}=J(),a=JSON.stringify(L(o,i.v7_relativeSplatPath));return t.useMemo(()=>D(e,JSON.parse(a),s,"path"===r),[e,a,s,r])}function re(n,r,i,o){$()||c(!1);let{navigator:s}=t.useContext(G),{matches:a}=t.useContext(Y),l=a[a.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=J();if(r){var m;let e="string"===typeof r?p(r):r;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let g=h.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(n,{pathname:y});let w=le(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:M([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,i,o);return r&&w?t.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},w):w}function ie(){let e=function(){var e;let n=t.useContext(X),r=he(ue.UseRouteError),i=fe(ue.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const oe=t.createElement(ie,null);class se extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(q);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Y.Provider,{value:n},i)}function le(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=i)&&s.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let a=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight((e,i,o)=>{let s,c=!1,h=null,f=null;var p;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||oe,u&&(d<0&&0===o?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,f=null):d===o&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,o+1)),g=()=>{let n;return n=s?h:c?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(ae,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(se,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let n=t.useContext(q);return n||c(!1),n}function he(e){let n=t.useContext(K);return n||c(!1),n}function fe(e){let n=function(){let e=t.useContext(Y);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function ge(e){c(!1)}function ve(n){let{basename:r="/",children:i=null,location:o,navigationType:s=e.Pop,navigator:a,static:l=!1,future:u}=n;$()&&c(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:d,navigator:a,static:l,future:H({v7_relativeSplatPath:!1},u)}),[d,u,a,l]);"string"===typeof o&&(o=p(o));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:y="default"}=o,b=t.useMemo(()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:s}},[d,f,m,g,v,y,s]);return null==b?null:t.createElement(G.Provider,{value:h},t.createElement(Q.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return re(be(t),n)}new Promise(()=>{});t.Component;function be(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,be(e.props.children,o));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=be(e.props.children,o)),r.push(s)}),r}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Se(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(QR){}new Map;const ke=r.startTransition;s.flushSync,r.useId;function _e(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},p=t.useCallback(e=>{d&&ke?ke(()=>u(e)):u(e)},[u,d]);return t.useLayoutEffect(()=>l.listen(p),[l,p]),t.useEffect(()=>me(i),[i]),t.createElement(ve,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=t.forwardRef(function(e,n){let r,{onClick:i,relative:o,reloadDocument:s,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p}=e,m=xe(e,Ee),{basename:g}=t.useContext(G),v=!1;if("string"===typeof d&&Ce.test(d)&&(r=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(QR){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;$()||c(!1);let{basename:i,navigator:o}=t.useContext(G),{hash:s,pathname:a,search:l}=ne(e,{relative:r}),u=a;return"/"!==i&&(u="/"===a?i:M([i,a])),o.createHref({pathname:u,search:l,hash:s})}(d,{relative:o}),b=function(e,n){let{target:r,replace:i,state:o,preventScrollReset:s,relative:a,viewTransition:l}=void 0===n?{}:n,c=ee(),u=J(),d=ne(e,{relative:a});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(d);c(e,{replace:n,state:o,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,i,o,r,e,s,a,l])}(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:o,viewTransition:p});return t.createElement("a",we({},m,{href:r||y,onClick:v||s?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))});var Ie,je;function Oe(e){let n=t.useRef(Se(e)),r=t.useRef(!1),i=J(),o=t.useMemo(()=>function(e,t){let n=Se(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(i.search,r.current?null:n.current),[i.search]),s=ee(),a=t.useCallback((e,t)=>{const n=Se("function"===typeof e?e(o):e);r.current=!0,s("?"+n,t)},[s,o]);return[o,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(je||(je={}));const Pe=(0,n(403).F3)("Geolocation",{web:()=>n.e(312).then(n.bind(n,312)).then(e=>new e.GeolocationWeb)});!function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},void 0===window.Capacitor||e?void 0!==window.cordova&&function(e){e.CapacitorUtils.Synapse=new Proxy({},{get:(t,n)=>e.cordova.plugins[n]})}(window):function(e){e.CapacitorUtils.Synapse=new Proxy({},{get:(t,n)=>new Proxy({},{get:(t,r)=>(t,i,o)=>{const s=e.Capacitor.Plugins[n];void 0!==s?"function"==typeof s[r]?(async()=>{try{const e=await s[r](t);i(e)}catch(e){o(e)}})():o(new Error("Method ".concat(r," not found in Capacitor plugin ").concat(n))):o(new Error("Capacitor plugin ".concat(n," not found")))}})})}(window))}();const Ae=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ae(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Le;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const De=function(e){return function(e){const t=Ae(e);return Re.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Me=function(e){try{return Re.decodeString(e,!0)}catch(QR){console.error("base64Decode failed: ",QR)}return null};function Fe(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ve=()=>{try{return Fe().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(QR){return}const t=e&&Me(e[1]);return t&&JSON.parse(t)})()}catch(QR){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(QR))}},Ue=e=>{var t,n;return null===(n=null===(t=Ve())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ze=e=>{const t=Ue(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Be=()=>{var e;return null===(e=Ve())||void 0===e?void 0:e.config},We=e=>{var t;return null===(t=Ve())||void 0===t?void 0:t["_".concat(e)]};class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function qe(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Ke(e){return(await fetch(e,{credentials:"include"})).ok}function Ge(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(o)),""].join(".")}const Qe={};let Ye=!1;function Xe(e,t){if("undefined"===typeof window||"undefined"===typeof document||!qe(window.location.host)||Qe[e]===t||Qe[e]||Ye)return;function n(e){return"__firebase__banner__".concat(e)}Qe[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Qe))Qe[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ye=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function $e(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Je(){var e;const t=null===(e=Ve())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(QR){return!1}}function Ze(){return!Je()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function et(){try{return"object"===typeof indexedDB}catch(QR){return!1}}function tt(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class nt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,nt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(it,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new nt(n,o,t)}}const it=/\{\$([^}]+)}/g;function ot(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(st(n)&&st(o)){if(!ot(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function st(e){return null!==e&&"object"===typeof e}function at(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function lt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function ct(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ut{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=dt),void 0===r.error&&(r.error=dt),void 0===r.complete&&(r.complete=dt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(QR){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(QR){"undefined"!==typeof console&&console.error&&console.error(QR)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dt(){}function ht(e){return e&&e._delegate?e._delegate:e}class ft{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pt="[DEFAULT]";class mt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new He;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(QR){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(QR){if(r)return null;throw QR}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pt})}catch(QR){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(QR){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===pt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.component?this.component.multipleInstances?e:pt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const vt=[];var yt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yt||(yt={}));const bt={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},wt=yt.INFO,xt={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},St=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=xt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Et{constructor(e){this.name=e,this._logLevel=wt,this._logHandler=St,this._userLogHandler=null,vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?bt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function _t(e){var t=function(e,t){if("object"!=kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kt(t)?t:t+""}function Tt(e,t,n){return(t=_t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(t){Tt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let It,jt;const Ot=new WeakMap,Pt=new WeakMap,At=new WeakMap,Rt=new WeakMap,Lt=new WeakMap;let Dt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||At.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Mt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(jt||(jt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ut(this),n),Vt(Ot.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vt(e.apply(Ut(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Ut(this),t,...r);return At.set(o,t.sort?t.sort():[t]),Vt(o)}}function Ft(e){return"function"===typeof e?Mt(e):(e instanceof IDBTransaction&&function(e){if(Pt.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Pt.set(e,t)}(e),t=e,(It||(It=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Dt):e);var t}function Vt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Vt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&Ot.set(t,e)}).catch(()=>{}),Lt.set(t,e),t}(e);if(Rt.has(e))return Rt.get(e);const t=Ft(e);return t!==e&&(Rt.set(e,t),Lt.set(t,e)),t}const Ut=e=>Lt.get(e);function zt(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Vt(s);return r&&s.addEventListener("upgradeneeded",e=>{r(Vt(s.result),e.oldVersion,e.newVersion,Vt(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}function Bt(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),Vt(n).then(()=>{})}const Wt=["get","getKey","getAll","getAllKeys","count"],Ht=["put","add","delete","clear"],qt=new Map;function Kt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(qt.get(t))return qt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ht.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return qt.set(t,o),o}Dt=(e=>Nt(Nt({},e),{},{get:(t,n,r)=>Kt(t,n)||e.get(t,n,r),has:(t,n)=>!!Kt(t,n)||e.has(t,n)}))(Dt);class Gt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Qt="@firebase/app",Yt="0.13.2",Xt=new Et("@firebase/app"),$t="@firebase/app-compat",Jt="@firebase/analytics-compat",Zt="@firebase/analytics",en="@firebase/app-check-compat",tn="@firebase/app-check",nn="@firebase/auth",rn="@firebase/auth-compat",on="@firebase/database",sn="@firebase/data-connect",an="@firebase/database-compat",ln="@firebase/functions",cn="@firebase/functions-compat",un="@firebase/installations",dn="@firebase/installations-compat",hn="@firebase/messaging",fn="@firebase/messaging-compat",pn="@firebase/performance",mn="@firebase/performance-compat",gn="@firebase/remote-config",vn="@firebase/remote-config-compat",yn="@firebase/storage",bn="@firebase/storage-compat",wn="@firebase/firestore",xn="@firebase/ai",Sn="@firebase/firestore-compat",En="firebase",kn="[DEFAULT]",_n={[Qt]:"fire-core",[$t]:"fire-core-compat",[Zt]:"fire-analytics",[Jt]:"fire-analytics-compat",[tn]:"fire-app-check",[en]:"fire-app-check-compat",[nn]:"fire-auth",[rn]:"fire-auth-compat",[on]:"fire-rtdb",[sn]:"fire-data-connect",[an]:"fire-rtdb-compat",[ln]:"fire-fn",[cn]:"fire-fn-compat",[un]:"fire-iid",[dn]:"fire-iid-compat",[hn]:"fire-fcm",[fn]:"fire-fcm-compat",[pn]:"fire-perf",[mn]:"fire-perf-compat",[gn]:"fire-rc",[vn]:"fire-rc-compat",[yn]:"fire-gcs",[bn]:"fire-gcs-compat",[wn]:"fire-fst",[Sn]:"fire-fst-compat",[xn]:"fire-vertex","fire-js":"fire-js",[En]:"fire-js-all"},Tn=new Map,Cn=new Map,Nn=new Map;function In(e,t){try{e.container.addComponent(t)}catch(QR){Xt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),QR)}}function jn(e){const t=e.name;if(Nn.has(t))return Xt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Nn.set(t,e);for(const n of Tn.values())In(n,e);for(const n of Cn.values())In(n,e);return!0}function On(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Pn(e){return null!==e&&void 0!==e&&void 0!==e.settings}const An=new rt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Rn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const Ln="11.10.0";function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:kn,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=Be()),!n)throw An.create("no-options");const o=Tn.get(i);if(o){if(ot(n,o.options)&&ot(r,o.config))return o;throw An.create("duplicate-app",{appName:i})}const s=new gt(i);for(const l of Nn.values())s.addComponent(l);const a=new Rn(n,r,s);return Tn.set(i,a),a}function Mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn;const t=Tn.get(e);if(!t&&e===kn&&Be())return Dn();if(!t)throw An.create("no-app",{appName:e});return t}function Fn(e,t,n){var r;let i=null!==(r=_n[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xt.warn(e.join(" "))}jn(new ft("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Vn="firebase-heartbeat-store";let Un=null;function zn(){return Un||(Un=zt("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Vn)}catch(QR){console.warn(QR)}}}).catch(e=>{throw An.create("idb-open",{originalErrorMessage:e.message})})),Un}async function Bn(e,t){try{const n=(await zn()).transaction(Vn,"readwrite"),r=n.objectStore(Vn);await r.put(t,Wn(e)),await n.done}catch(QR){if(QR instanceof nt)Xt.warn(QR.message);else{const t=An.create("idb-set",{originalErrorMessage:null===QR||void 0===QR?void 0:QR.message});Xt.warn(t.message)}}}function Wn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Hn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Kn(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(QR){Xt.warn(QR)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=qn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Gn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=De(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(QR){return Xt.warn(QR),""}}}function qn(){return(new Date).toISOString().substring(0,10)}class Kn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!et()&&tt().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await zn()).transaction(Vn),n=await t.objectStore(Vn).get(Wn(e));return await t.done,n}catch(QR){if(QR instanceof nt)Xt.warn(QR.message);else{const t=An.create("idb-get",{originalErrorMessage:null===QR||void 0===QR?void 0:QR.message});Xt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Bn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Bn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Gn(e){return De(JSON.stringify({version:2,heartbeats:e})).length}var Qn;Qn="",jn(new ft("platform-logger",e=>new Gt(e),"PRIVATE")),jn(new ft("heartbeat",e=>new Hn(e),"PRIVATE")),Fn(Qt,Yt,Qn),Fn(Qt,Yt,"esm2017"),Fn("fire-js","");var Yn,Xn,$n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Jn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,s=0;s<t;){if(0==o)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){n(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(s(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=s(n)).j(t);d(c)||0<c.l(e);)c=(o=s(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=s(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(65535&this.i(o))+(65535&e.i(o)),a=(s>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=a>>>16,s&=65535,a&=65535,n[o]=a<<16|s}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return s(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Xn=Jn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=s(Math.pow(n,8)),i=a,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=s(Math.pow(n,l)),i=i.j(l).add(s(c))):i=(i=i.j(r)).add(s(c))}return i},Yn=Jn.Integer=r}).apply("undefined"!==typeof $n?$n:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Zn,er,tr,nr,rr,ir,or,sr,ar="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},lr={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ar&&ar];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];if(!(s in i))break e;i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout(()=>{throw e},0)}function k(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,N=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(O)}};var O=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){E(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function P(){this.s=this.s,this.C=this.C}function A(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:D[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}d(L,A);var D={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function W(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=W(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new V(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=s(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Q(e,t[o],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,s(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Y(e,t[o],n,r,i);else r=s(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=W(o=e.g[t],n,r,i))&&(U(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=W(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function $(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new A(t,e);else if(t instanceof A)t.target=t.target||e;else{var i=t;x(t=new A(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=ie(s,r,!0,t)&&i}if(i=ie(s=t.g=e,r,!0,t)&&i,i=ie(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(s=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.da&&s.capture==n){var a=s.listener,l=s.ha||s.src;s.fa&&B(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function se(e){e.g=oe(()=>{e.g=null,e.i&&(e.i=!1,se(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:se(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){A.call(this,"d")}function be(){A.call(this,"c")}d(ye,A),d(be,A);var we={},xe=null;function Se(){return xe=xe||new ne}function Ee(e){A.call(this,we.La,e)}function ke(e){const t=Se();re(t,new Ee(t))}function _e(e,t){A.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new _e(t,e))}function Ce(e,t){A.call(this,we.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ie(){this.g=!0}function je(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return de(n)}catch(ox){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Ee,A),we.STAT_EVENT="statevent",d(_e,A),we.Ma="timingevent",d(Ce,A),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Oe,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Oe=new Re;var Me={},Fe={};function Ve(e,t,n){e.L=1,e.v=dt(st(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),We(e),e.A=st(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var s=K(n,i[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Xt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var s=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),s.K){tt(r.h,s);var a=s,l=r.L;l&&(a.I=l),a.B&&(qe(a),We(a)),r.g=s}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Kt(this.g);e="";var o=r.length,s=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Fe){4==h&&(this.s=4,Te(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),je(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Qe(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),on(d),d.M=!0,Te(11))}}else je(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else je(this.i,this.l,a,null),Qe(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(h){}},Le.prototype.cancel=function(){this.J=!0,Ge(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(ke(),Te(17)),Ge(this),this.s=2,Ke(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function st(e){return new ot(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),_t(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Et(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function _t(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Nt(){this.g=new fe}function It(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;s(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(QR){throw t.push(r+"type="+encodeURIComponent("_badmap")),QR}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function At(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,kt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.V(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")},d(jt,pe),jt.prototype.g=function(){return new Ot(this.l,this.j)},jt.prototype.i=(mt={},function(){return mt}),d(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?At(this):Rt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,At(this))},e.Qa=function(e){this.g&&(this.response=e,At(this))},e.ga=function(){this.g&&At(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Vt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Wt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var s=String(e.D).match(it)[1]||null;!s&&i.self&&i.self.location&&(s=i.self.location.protocol.slice(0,-1)),o=!Ft.test(s?s.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(ox){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Wt(e)}}}function Wt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(QR){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(fx){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if($t(e),3==e.G){var t=e.U++,n=st(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=dt(st(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(rx){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}dn(e)}function Xt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function $t(e){Xt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||j(),N||(C(),N=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=st(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{It(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||j(),N||(C(),N=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function sn(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=st(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(st(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),on(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),Jt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ct(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ct(0,0,!1,t)})}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),$t(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof ot?st(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new ot(null);r&&at(s,r),t&&(s.g=t),o&&lt(s,o),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new jt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ut(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Ut(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Wt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),x(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=st(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Lt(o)))+"&"+t:this.m&&Dt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,sn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Xt(this),sn(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,sr=lr.createWebChannelTransport=function(){return new mn},or=lr.getStatEventTarget=function(){return Se()},ir=lr.Event=we,rr=lr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,nr=lr.ErrorCode=Pe,Ae.COMPLETE="complete",tr=lr.EventType=Ae,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,er=lr.WebChannel=ge,lr.FetchXmlHttpFactory=jt,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Zn=lr.XhrIo=Mt}).apply("undefined"!==typeof ar?ar:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const cr="@firebase/firestore",ur="4.8.0";class dr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dr.UNAUTHENTICATED=new dr(null),dr.GOOGLE_CREDENTIALS=new dr("google-credentials-uid"),dr.FIRST_PARTY=new dr("first-party-uid"),dr.MOCK_USER=new dr("mock-user");let hr="11.10.0";const fr=new Et("@firebase/firestore");function pr(){return fr.logLevel}function mr(e){if(fr.logLevel<=yt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yr);fr.debug("Firestore (".concat(hr,"): ").concat(e),...i)}}function gr(e){if(fr.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yr);fr.error("Firestore (".concat(hr,"): ").concat(e),...i)}}function vr(e){if(fr.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(yr);fr.warn("Firestore (".concat(hr,"): ").concat(e),...i)}}function yr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function br(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,wr(e,r,n)}function wr(e,t,n){let r="FIRESTORE (".concat(hr,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw gr(r),new Error(r)}function xr(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||wr(t,i,r)}function Sr(e,t){return e}const Er={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kr extends nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class _r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Tr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Cr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dr.UNAUTHENTICATED))}shutdown(){}}class Nr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ir{constructor(e){this.t=e,this.currentUser=dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xr(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _r,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{mr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(mr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _r)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(mr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xr("string"==typeof t.accessToken,31837,{l:t}),new Tr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xr(null===e||"string"==typeof e,2055,{h:e}),new dr(e)}}class jr{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=dr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Or{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new jr(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ar{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xr(void 0===this.o,3512);const n=e=>{null!=e.error&&mr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,mr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{mr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):mr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Pr(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(xr("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Pr(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Rr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Lr(){return new TextEncoder}class Dr{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Rr(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Mr(e,t){return e<t?-1:e>t?1:0}function Fr(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Mr(r,i);{const o=Lr(),s=Ur(o.encode(Vr(e,n)),o.encode(Vr(t,n)));return 0!==s?s:Mr(r,i)}}n+=r>65535?2:1}return Mr(e.length,t.length)}function Vr(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Ur(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Mr(e[n],t[n]);return Mr(e.length,t.length)}function zr(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Br="__name__";class Wr{constructor(e,t,n){void 0===t?t=0:t>e.length&&br(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&br(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Wr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Wr.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Mr(e.length,t.length)}static compareSegments(e,t){const n=Wr.isNumericId(e),r=Wr.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Wr.extractNumericId(e).compare(Wr.extractNumericId(t)):Fr(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yn.fromString(e.substring(4,e.length-2))}}class Hr extends Wr{construct(e,t,n){return new Hr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new kr(Er.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Hr(e)}static emptyPath(){return new Hr([])}}const qr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends Wr{construct(e,t,n){return new Kr(e,t,n)}static isValidIdentifier(e){return qr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Br}static keyField(){return new Kr([Br])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new kr(Er.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new kr(Er.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new kr(Er.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new kr(Er.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}class Gr{constructor(e){this.path=e}static fromPath(e){return new Gr(Hr.fromString(e))}static fromName(e){return new Gr(Hr.fromString(e).popFirst(5))}static empty(){return new Gr(Hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Hr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Gr(new Hr(e.slice()))}}function Qr(e,t,n){if(!n)throw new kr(Er.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Yr(e){if(!Gr.isDocumentKey(e))throw new kr(Er.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xr(e){if(Gr.isDocumentKey(e))throw new kr(Er.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function $r(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Jr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":br(12329,{type:typeof e})}function Zr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kr(Er.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jr(e);throw new kr(Er.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ei(e,t){if(t<=0)throw new kr(Er.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}function ti(e,t){const n={typeString:e};return t&&(n.value=t),n}function ni(e,t){if(!$r(e))throw new kr(Er.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&s!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new kr(Er.INVALID_ARGUMENT,n);return!0}const ri=-62135596800,ii=1e6;class oi{static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ii);return new oi(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kr(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kr(Er.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ri)throw new kr(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kr(Er.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ii}_compareTo(e){return this.seconds===e.seconds?Mr(this.nanoseconds,e.nanoseconds):Mr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ni(e,oi._jsonSchema))return new oi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ri;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oi._jsonSchemaVersion="firestore/timestamp/1.0",oi._jsonSchema={type:ti("string",oi._jsonSchemaVersion),seconds:ti("number"),nanoseconds:ti("number")};class si{static fromTimestamp(e){return new si(e)}static min(){return new si(new oi(0,0))}static max(){return new si(new oi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ai=-1;class li{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}li.UNKNOWN_ID=-1;function ci(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=si.fromTimestamp(1e9===r?new oi(n+1,0):new oi(n,r));return new di(i,Gr.empty(),t)}function ui(e){return new di(e.readTime,e.key,ai)}class di{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new di(si.min(),Gr.empty(),ai)}static max(){return new di(si.max(),Gr.empty(),ai)}}function hi(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Gr.comparator(e.documentKey,t.documentKey),0!==n?n:Mr(e.largestBatchId,t.largestBatchId))}const fi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function mi(e){if(e.code!==Er.FAILED_PRECONDITION||e.message!==fi)throw e;mr("LocalStore","Unexpectedly lost primary lease")}class gi{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&br(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new gi((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof gi?t:gi.resolve(t)}catch(e){return gi.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):gi.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):gi.reject(t)}static resolve(e){return new gi((t,n)=>{t(e)})}static reject(e){return new gi((t,n)=>{n(e)})}static waitFor(e){return new gi((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=gi.resolve(!1);for(const n of e)t=t.next(e=>e?gi.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new gi((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{o[l]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new gi((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function vi(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yi(e){return"IndexedDbTransactionError"===e.name}class bi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}bi.ue=-1;const wi=-1;function xi(e){return null==e}function Si(e){return 0===e&&1/e==-1/0}function Ei(e){return"number"==typeof e&&Number.isInteger(e)&&!Si(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const ki="\x01";function _i(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ci(t)),t=Ti(e.get(n),t);return Ci(t)}function Ti(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case ki:n+="\x01\x11";break;default:n+=t}}return n}function Ci(e){return e+ki+"\x01"}const Ni="remoteDocuments",Ii="owner",ji="mutationQueues",Oi="mutations";const Pi="documentMutations",Ai="remoteDocumentsV14",Ri="remoteDocumentGlobal",Li="targets",Di="targetDocuments",Mi="targetGlobal",Fi="collectionParents",Vi="clientMetadata",Ui="bundles",zi="namedQueries",Bi="indexConfiguration",Wi="indexState",Hi="indexEntries",qi="documentOverlays",Ki="globals",Gi=[ji,Oi,Pi,Ni,Li,Ii,Mi,Di,Vi,Ri,Fi,Ui,zi],Qi=[ji,Oi,Pi,Ai,Li,Ii,Mi,Di,Vi,Ri,Fi,Ui,zi,qi],Yi=Qi,Xi=[...Yi,Bi,Wi,Hi];function $i(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ji(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class eo{constructor(e,t){this.comparator=e,this.root=t||no.EMPTY}insert(e,t){return new eo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,no.BLACK,null,null))}remove(e){return new eo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,no.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new to(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new to(this.root,e,this.comparator,!1)}getReverseIterator(){return new to(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new to(this.root,e,this.comparator,!0)}}class to{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class no{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:no.RED,this.left=null!=r?r:no.EMPTY,this.right=null!=i?i:no.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new no(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return no.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw br(43730,{key:this.key,value:this.value});if(this.right.isRed())throw br(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw br(27949);return e+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw br(57766)}get value(){throw br(16141)}get color(){throw br(16727)}get left(){throw br(29726)}get right(){throw br(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new no(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ro{constructor(e){this.comparator=e,this.data=new eo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new io(this.data.getIterator())}getIteratorFrom(e){return new io(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ro))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ro(this.comparator);return t.data=e,t}}class io{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oo{constructor(e){this.fields=e,e.sort(Kr.comparator)}static empty(){return new oo([])}unionWith(e){let t=new ro(Kr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class so extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ao{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new so("Invalid base64 string: "+e):e}}(e);return new ao(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ao(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ao.EMPTY_BYTE_STRING=new ao("");const lo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(e){if(xr(!!e,39018),"string"==typeof e){let t=0;const n=lo.exec(e);if(xr(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:uo(e.seconds),nanos:uo(e.nanos)}}function uo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ho(e){return"string"==typeof e?ao.fromBase64String(e):ao.fromUint8Array(e)}const fo="server_timestamp",po="__type__",mo="__previous_value__",go="__local_write_time__";function vo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[po])||void 0===n?void 0:n.stringValue)===fo}function yo(e){const t=e.mapValue.fields[mo];return vo(t)?yo(t):t}function bo(e){const t=co(e.mapValue.fields[go].timestampValue);return new oi(t.seconds,t.nanos)}class wo{constructor(e,t,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const xo="(default)";class So{constructor(e,t){this.projectId=e,this.database=t||xo}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===xo}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}const Eo="__type__",ko="__max__",_o={mapValue:{fields:{__type__:{stringValue:ko}}}},To="__vector__",Co="value";function No(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vo(e)?4:qo(e)?9007199254740991:Wo(e)?10:11:br(28295,{value:e})}function Io(e,t){if(e===t)return!0;const n=No(e);if(n!==No(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bo(e).isEqual(bo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=co(e.timestampValue),r=co(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ho(e.bytesValue).isEqual(ho(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return uo(e.geoPointValue.latitude)===uo(t.geoPointValue.latitude)&&uo(e.geoPointValue.longitude)===uo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return uo(e.integerValue)===uo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=uo(e.doubleValue),r=uo(t.doubleValue);return n===r?Si(n)===Si(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zr(e.arrayValue.values||[],t.arrayValue.values||[],Io);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($i(n)!==$i(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Io(n[i],r[i])))return!1;return!0}(e,t);default:return br(52216,{left:e})}}function jo(e,t){return void 0!==(e.values||[]).find(e=>Io(e,t))}function Oo(e,t){if(e===t)return 0;const n=No(e),r=No(t);if(n!==r)return Mr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=uo(e.integerValue||e.doubleValue),r=uo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Po(e.timestampValue,t.timestampValue);case 4:return Po(bo(e),bo(t));case 5:return Fr(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ho(e),r=ho(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Mr(n[i],r[i]);if(0!==e)return e}return Mr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Mr(uo(e.latitude),uo(t.latitude));return 0!==n?n:Mr(uo(e.longitude),uo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ao(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const s=e.fields||{},a=t.fields||{},l=null===(n=s[Co])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Co])||void 0===r?void 0:r.arrayValue,u=Mr((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Ao(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_o.mapValue&&t===_o.mapValue)return 0;if(e===_o.mapValue)return 1;if(t===_o.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Fr(r[s],o[s]);if(0!==e)return e;const t=Oo(n[r[s]],i[o[s]]);if(0!==t)return t}return Mr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw br(23264,{le:n})}}function Po(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mr(e,t);const n=co(e),r=co(t),i=Mr(n.seconds,r.seconds);return 0!==i?i:Mr(n.nanos,r.nanos)}function Ao(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Oo(n[i],r[i]);if(e)return e}return Mr(n.length,r.length)}function Ro(e){return Lo(e)}function Lo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=co(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ho(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Gr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Lo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Lo(e.fields[i]));return n+"}"}(e.mapValue):br(61005,{value:e})}function Do(e){switch(No(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yo(e);return t?16+Do(t):16;case 5:return 2*e.stringValue.length;case 6:return ho(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Do(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Ji(e.fields,(e,n)=>{t+=e.length+Do(n)}),t}(e.mapValue);default:throw br(13486,{value:e})}}function Mo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fo(e){return!!e&&"integerValue"in e}function Vo(e){return!!e&&"arrayValue"in e}function Uo(e){return!!e&&"nullValue"in e}function zo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bo(e){return!!e&&"mapValue"in e}function Wo(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Eo])||void 0===n?void 0:n.stringValue)===To}function Ho(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ji(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ho(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ho(e.arrayValue.values[n]);return t}return Object.assign({},e)}function qo(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ko}class Ko{constructor(e){this.value=e}static empty(){return new Ko({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(t)}setAll(e){let t=Kr.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ho(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Bo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Io(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Bo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ji(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ko(Ho(this.value))}}function Go(e){const t=[];return Ji(e.fields,(e,n)=>{const r=new Kr([e]);if(Bo(n)){const e=Go(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new oo(t)}class Qo{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Qo(e,0,si.min(),si.min(),si.min(),Ko.empty(),0)}static newFoundDocument(e,t,n,r){return new Qo(e,1,t,si.min(),n,r,0)}static newNoDocument(e,t){return new Qo(e,2,t,si.min(),si.min(),Ko.empty(),0)}static newUnknownDocument(e,t){return new Qo(e,3,t,si.min(),si.min(),Ko.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(si.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ko.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ko.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=si.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Yo{constructor(e,t){this.position=e,this.inclusive=t}}function Xo(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Gr.comparator(Gr.fromName(s.referenceValue),n.key):Oo(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function $o(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Io(e.position[n],t.position[n]))return!1;return!0}class Jo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Zo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class es{}class ts extends es{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new cs(e,t,n):"array-contains"===t?new fs(e,n):"in"===t?new ps(e,n):"not-in"===t?new ms(e,n):"array-contains-any"===t?new gs(e,n):new ts(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new us(e,n):new ds(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Oo(t,this.value)):null!==t&&No(this.value)===No(t)&&this.matchesComparison(Oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return br(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ns extends es{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ns(e,t)}matches(e){return rs(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function rs(e){return"and"===e.op}function is(e){return os(e)&&rs(e)}function os(e){for(const t of e.filters)if(t instanceof ns)return!1;return!0}function ss(e){if(e instanceof ts)return e.field.canonicalString()+e.op.toString()+Ro(e.value);if(is(e))return e.filters.map(e=>ss(e)).join(",");{const t=e.filters.map(e=>ss(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function as(e,t){return e instanceof ts?function(e,t){return t instanceof ts&&e.op===t.op&&e.field.isEqual(t.field)&&Io(e.value,t.value)}(e,t):e instanceof ns?function(e,t){return t instanceof ns&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&as(n,t.filters[r]),!0)}(e,t):void br(19439)}function ls(e){return e instanceof ts?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ro(e.value))}(e):e instanceof ns?function(e){return e.op.toString()+" {"+e.getFilters().map(ls).join(" ,")+"}"}(e):"Filter"}class cs extends ts{constructor(e,t,n){super(e,t,n),this.key=Gr.fromName(n.referenceValue)}matches(e){const t=Gr.comparator(e.key,this.key);return this.matchesComparison(t)}}class us extends ts{constructor(e,t){super(e,"in",t),this.keys=hs("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ds extends ts{constructor(e,t){super(e,"not-in",t),this.keys=hs("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Gr.fromName(e.referenceValue))}class fs extends ts{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vo(t)&&jo(t.arrayValue,this.value)}}class ps extends ts{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jo(this.value.arrayValue,t)}}class ms extends ts{constructor(e,t){super(e,"not-in",t)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!jo(this.value.arrayValue,t)}}class gs extends ts{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>jo(this.value.arrayValue,e))}}class vs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Pe=null}}function ys(e){return new vs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function bs(e){const t=Sr(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ss(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),xi(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ro(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ro(e)).join(",")),t.Pe=e}return t.Pe}function ws(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Zo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!as(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$o(e.startAt,t.startAt)&&$o(e.endAt,t.endAt)}function xs(e){return Gr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ss{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Es(e,t,n,r,i,o,s,a){return new Ss(e,t,n,r,i,o,s,a)}function ks(e){return new Ss(e)}function _s(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ts(e){return null!==e.collectionGroup}function Cs(e){const t=Sr(e);if(null===t.Te){t.Te=[];const e=new Set;for(const i of t.explicitOrderBy)t.Te.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ro(Kr.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new Jo(r,n))}),e.has(Kr.keyField().canonicalString())||t.Te.push(new Jo(Kr.keyField(),n))}return t.Te}function Ns(e){const t=Sr(e);return t.Ie||(t.Ie=Is(t,Cs(e))),t.Ie}function Is(e,t){if("F"===e.limitType)return ys(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Jo(e.field,t)});const n=e.endAt?new Yo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Yo(e.startAt.position,e.startAt.inclusive):null;return ys(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function js(e,t){const n=e.filters.concat([t]);return new Ss(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Os(e,t,n){return new Ss(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ps(e,t){return ws(Ns(e),Ns(t))&&e.limitType===t.limitType}function As(e){return"".concat(bs(Ns(e)),"|lt:").concat(e.limitType)}function Rs(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>ls(e)).join(", "),"]")),xi(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ro(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ro(e)).join(",")),"Target(".concat(t,")")}(Ns(e)),"; limitType=").concat(e.limitType,")")}function Ls(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Gr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Cs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cs(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cs(e),t))}(e,t)}function Ds(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ms(e){return(t,n)=>{let r=!1;for(const i of Cs(e)){const e=Fs(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Fs(e,t,n){const r=e.field.isKeyField()?Gr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Oo(r,i):br(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return br(19790,{direction:e.dir})}}class Vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Zi(this.inner)}size(){return this.innerSize}}const Us=new eo(Gr.comparator);function zs(){return Us}const Bs=new eo(Gr.comparator);function Ws(){let e=Bs;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Hs(e){let t=Bs;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function qs(){return Gs()}function Ks(){return Gs()}function Gs(){return new Vs(e=>e.toString(),(e,t)=>e.isEqual(t))}const Qs=new eo(Gr.comparator),Ys=new ro(Gr.comparator);function Xs(){let e=Ys;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const $s=new ro(Mr);function Js(){return $s}function Zs(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Si(t)?"-0":t}}function ea(e){return{integerValue:""+e}}function ta(e,t){return Ei(t)?ea(t):Zs(e,t)}class na{constructor(){this._=void 0}}function ra(e,t,n){return e instanceof sa?function(e,t){const n={fields:{[po]:{stringValue:fo},[go]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vo(t)&&(t=yo(t)),t&&(n.fields[mo]=t),{mapValue:n}}(n,t):e instanceof aa?la(e,t):e instanceof ca?ua(e,t):function(e,t){const n=oa(e,t),r=ha(n)+ha(e.Ee);return Fo(n)&&Fo(e.Ee)?ea(r):Zs(e.serializer,r)}(e,t)}function ia(e,t,n){return e instanceof aa?la(e,t):e instanceof ca?ua(e,t):n}function oa(e,t){return e instanceof da?function(e){return Fo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class sa extends na{}class aa extends na{constructor(e){super(),this.elements=e}}function la(e,t){const n=fa(t);for(const r of e.elements)n.some(e=>Io(e,r))||n.push(r);return{arrayValue:{values:n}}}class ca extends na{constructor(e){super(),this.elements=e}}function ua(e,t){let n=fa(t);for(const r of e.elements)n=n.filter(e=>!Io(e,r));return{arrayValue:{values:n}}}class da extends na{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function ha(e){return uo(e.integerValue||e.doubleValue)}function fa(e){return Vo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class pa{constructor(e,t){this.field=e,this.transform=t}}class ma{constructor(e,t){this.version=e,this.transformResults=t}}class ga{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ga}static exists(e){return new ga(void 0,e)}static updateTime(e){return new ga(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function va(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ya{}function ba(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ia(e.key,ga.none()):new ka(e.key,e.data,ga.none());{const n=e.data,r=Ko.empty();let i=new ro(Kr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new _a(e.key,r,new oo(i.toArray()),ga.none())}}function wa(e,t,n){e instanceof ka?function(e,t,n){const r=e.value.clone(),i=Ca(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof _a?function(e,t,n){if(!va(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ca(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ta(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function xa(e,t,n,r){return e instanceof ka?function(e,t,n,r){if(!va(e.precondition,t))return n;const i=e.value.clone(),o=Na(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof _a?function(e,t,n,r){if(!va(e.precondition,t))return n;const i=Na(e.fieldTransforms,r,t),o=t.data;return o.setAll(Ta(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return va(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Sa(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=oa(r.transform,e||null);null!=i&&(null===n&&(n=Ko.empty()),n.set(r.field,i))}return n||null}function Ea(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zr(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof aa&&t instanceof aa||e instanceof ca&&t instanceof ca?zr(e.elements,t.elements,Io):e instanceof da&&t instanceof da?Io(e.Ee,t.Ee):e instanceof sa&&t instanceof sa}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ka extends ya{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _a extends ya{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ta(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ca(e,t,n){const r=new Map;xr(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ia(s,a,n[i]))}return r}function Na(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ra(e,o,t))}return r}class Ia extends ya{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ja extends ya{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Oa{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&wa(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=xa(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=xa(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ks();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=ba(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(si.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xs())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,(e,t)=>Ea(e,t))&&zr(this.baseMutations,e.baseMutations,(e,t)=>Ea(e,t))}}class Pa{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){xr(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=Qs;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Pa(e,t,n,r)}}class Aa{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ra{constructor(e,t){this.count=e,this.unchangedNames=t}}var La,Da;function Ma(e){switch(e){case Er.OK:return br(64938);case Er.CANCELLED:case Er.UNKNOWN:case Er.DEADLINE_EXCEEDED:case Er.RESOURCE_EXHAUSTED:case Er.INTERNAL:case Er.UNAVAILABLE:case Er.UNAUTHENTICATED:return!1;case Er.INVALID_ARGUMENT:case Er.NOT_FOUND:case Er.ALREADY_EXISTS:case Er.PERMISSION_DENIED:case Er.FAILED_PRECONDITION:case Er.ABORTED:case Er.OUT_OF_RANGE:case Er.UNIMPLEMENTED:case Er.DATA_LOSS:return!0;default:return br(15467,{code:e})}}function Fa(e){if(void 0===e)return gr("GRPC error has no .code"),Er.UNKNOWN;switch(e){case La.OK:return Er.OK;case La.CANCELLED:return Er.CANCELLED;case La.UNKNOWN:return Er.UNKNOWN;case La.DEADLINE_EXCEEDED:return Er.DEADLINE_EXCEEDED;case La.RESOURCE_EXHAUSTED:return Er.RESOURCE_EXHAUSTED;case La.INTERNAL:return Er.INTERNAL;case La.UNAVAILABLE:return Er.UNAVAILABLE;case La.UNAUTHENTICATED:return Er.UNAUTHENTICATED;case La.INVALID_ARGUMENT:return Er.INVALID_ARGUMENT;case La.NOT_FOUND:return Er.NOT_FOUND;case La.ALREADY_EXISTS:return Er.ALREADY_EXISTS;case La.PERMISSION_DENIED:return Er.PERMISSION_DENIED;case La.FAILED_PRECONDITION:return Er.FAILED_PRECONDITION;case La.ABORTED:return Er.ABORTED;case La.OUT_OF_RANGE:return Er.OUT_OF_RANGE;case La.UNIMPLEMENTED:return Er.UNIMPLEMENTED;case La.DATA_LOSS:return Er.DATA_LOSS;default:return br(39323,{code:e})}}(Da=La||(La={}))[Da.OK=0]="OK",Da[Da.CANCELLED=1]="CANCELLED",Da[Da.UNKNOWN=2]="UNKNOWN",Da[Da.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Da[Da.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Da[Da.NOT_FOUND=5]="NOT_FOUND",Da[Da.ALREADY_EXISTS=6]="ALREADY_EXISTS",Da[Da.PERMISSION_DENIED=7]="PERMISSION_DENIED",Da[Da.UNAUTHENTICATED=16]="UNAUTHENTICATED",Da[Da.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Da[Da.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Da[Da.ABORTED=10]="ABORTED",Da[Da.OUT_OF_RANGE=11]="OUT_OF_RANGE",Da[Da.UNIMPLEMENTED=12]="UNIMPLEMENTED",Da[Da.INTERNAL=13]="INTERNAL",Da[Da.UNAVAILABLE=14]="UNAVAILABLE",Da[Da.DATA_LOSS=15]="DATA_LOSS";let Va=null;const Ua=new Yn([4294967295,4294967295],0);function za(e){const t=Lr().encode(e),n=new Xn;return n.update(t),new Uint8Array(n.digest())}function Ba(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Yn([n,r],0),new Yn([i,o],0)]}class Wa{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ha("Invalid padding: ".concat(t));if(n<0)throw new Ha("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ha("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ha("Invalid padding when bitmap length is 0: ".concat(t));this.fe=8*e.length-t,this.ge=Yn.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(Yn.fromNumber(n)));return 1===r.compare(Ua)&&(r=new Yn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=za(e),[n,r]=Ba(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Wa(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.fe)return;const t=za(e),[n,r]=Ba(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qa{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new qa(si.min(),r,new eo(Mr),zs(),Xs())}}class Ka{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ka(n,t,Xs(),Xs(),Xs())}}class Ga{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class Qa{constructor(e,t){this.targetId=e,this.De=t}}class Ya{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ao.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Xa{constructor(){this.ve=0,this.Ce=Za(),this.Fe=ao.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Xs(),t=Xs(),n=Xs();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:br(38017,{changeType:i})}}),new Ka(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Za()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,xr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $a{constructor(e){this.We=e,this.Ge=new Map,this.ze=zs(),this.je=Ja(),this.Je=Ja(),this.He=new eo(Mr)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:br(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(xs(i))if(0===n){const e=new Gr(i.path);this.Xe(t,e,Qo.newNoDocument(e,si.min()))}else xr(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}null==Va||Va.ct(function(e,t,n,r,i){var o,s,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(a=null===(s=null==h?void 0:h.bits)||void 0===s?void 0:s.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.De,this.We.lt(),n,i))}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,s;try{o=ho(n).toUint8Array()}catch(e){if(e instanceof so)return vr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new Wa(o,r,i)}catch(e){return vr(e instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.fe?null:s}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&xs(i.target)){const t=new Gr(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,Qo.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=Xs();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new qa(e,t,this.He,this.ze,n);return this.ze=zs(),this.je=Ja(),this.Je=Ja(),this.He=new eo(Mr),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Xa,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ro(Mr),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ro(Mr),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||mr("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Xa),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Ja(){return new eo(Gr.comparator)}function Za(){return new eo(Gr.comparator)}const el={asc:"ASCENDING",desc:"DESCENDING"},tl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nl={and:"AND",or:"OR"};class rl{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function il(e,t){return e.useProto3Json||xi(t)?t:{value:t}}function ol(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function sl(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function al(e,t){return ol(e,t.toTimestamp())}function ll(e){return xr(!!e,49232),si.fromTimestamp(function(e){const t=co(e);return new oi(t.seconds,t.nanos)}(e))}function cl(e,t){return ul(e,t).canonicalString()}function ul(e,t){const n=function(e){return new Hr(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function dl(e){const t=Hr.fromString(e);return xr(Ol(t),10190,{key:t.toString()}),t}function hl(e,t){return cl(e.databaseId,t.path)}function fl(e,t){const n=dl(t);if(n.get(1)!==e.databaseId.projectId)throw new kr(Er.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kr(Er.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Gr(vl(n))}function pl(e,t){return cl(e.databaseId,t)}function ml(e){const t=dl(e);return 4===t.length?Hr.emptyPath():vl(t)}function gl(e){return new Hr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vl(e){return xr(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function yl(e,t,n){return{name:hl(e,t),fields:n.value.mapValue.fields}}function bl(e,t){let n;if(t instanceof ka)n={update:yl(e,t.key,t.value)};else if(t instanceof Ia)n={delete:hl(e,t.key)};else if(t instanceof _a)n={update:yl(e,t.key,t.data),updateMask:jl(t.fieldMask)};else{if(!(t instanceof ja))return br(16599,{Rt:t.type});n={verify:hl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof sa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof aa)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ca)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof da)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw br(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:al(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:br(27497)}(e,t.precondition)),n}function wl(e,t){return{documents:[pl(e,t.path)]}}function xl(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pl(e,i);const o=function(e){if(0!==e.length)return Il(ns.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Cl(e.field),direction:kl(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=il(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i}}function Sl(e){let t=ml(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xr(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=El(e);return t instanceof ns&&is(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Jo(Nl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,xi(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Yo(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Yo(n,t)}(n.endAt)),Es(t,i,s,o,a,"F",l,c)}function El(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Nl(e.unaryFilter.field);return ts.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Nl(e.unaryFilter.field);return ts.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Nl(e.unaryFilter.field);return ts.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Nl(e.unaryFilter.field);return ts.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return br(61313);default:return br(60726)}}(e):void 0!==e.fieldFilter?function(e){return ts.create(Nl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return br(58110);default:return br(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ns.create(e.compositeFilter.filters.map(e=>El(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return br(1026)}}(e.compositeFilter.op))}(e):br(30097,{filter:e})}function kl(e){return el[e]}function _l(e){return tl[e]}function Tl(e){return nl[e]}function Cl(e){return{fieldPath:e.canonicalString()}}function Nl(e){return Kr.fromServerFormat(e.fieldPath)}function Il(e){return e instanceof ts?function(e){if("=="===e.op){if(zo(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NAN"}};if(Uo(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zo(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NOT_NAN"}};if(Uo(e.value))return{unaryFilter:{field:Cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(e.field),op:_l(e.op),value:e.value}}}(e):e instanceof ns?function(e){const t=e.getFilters().map(e=>Il(e));return 1===t.length?t[0]:{compositeFilter:{op:Tl(e.op),filters:t}}}(e):br(54877,{filter:e})}function jl(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ol(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Pl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:si.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:si.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ao.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Pl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Al{constructor(e){this.gt=e}}function Rl(e){const t=Sl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Os(t,t.limit,"L"):t}class Ll{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(uo(e.integerValue));else if("doubleValue"in e){const n=uo(e.doubleValue);isNaN(n)?this.Ct(t,13):(this.Ct(t,15),Si(n)?t.Ft(0):t.Ft(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ct(t,20),"string"==typeof n&&(n=co(n)),t.Mt("".concat(n.seconds||"")),t.Ft(n.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ho(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ct(t,45),t.Ft(n.latitude||0),t.Ft(n.longitude||0)}else"mapValue"in e?qo(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):Wo(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):br(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){const n=e.fields||{};this.Ct(t,55);for(const r of Object.keys(n))this.xt(r,t),this.Dt(n[r],t)}Lt(e,t){var n,r;const i=e.fields||{};this.Ct(t,53);const o=Co,s=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Ct(t,15),t.Ft(uo(s)),this.xt(o,t),this.Dt(i[o],t)}qt(e,t){const n=e.values||[];this.Ct(t,50);for(const r of n)this.Dt(r,t)}Bt(e,t){this.Ct(t,37),Gr.fromName(e).path.forEach(e=>{this.Ct(t,60),this.$t(e,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}}Ll.Ut=new Ll;class Dl{constructor(){this.Dn=new Ml}addToCollectionParentIndex(e,t){return this.Dn.add(t),gi.resolve()}getCollectionParents(e,t){return gi.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return gi.resolve()}deleteFieldIndex(e,t){return gi.resolve()}deleteAllFieldIndexes(e){return gi.resolve()}createTargetIndexes(e,t){return gi.resolve()}getDocumentsMatchingTarget(e,t){return gi.resolve(null)}getIndexType(e,t){return gi.resolve(0)}getFieldIndexes(e,t){return gi.resolve([])}getNextCollectionGroupToUpdate(e){return gi.resolve(null)}getMinOffset(e,t){return gi.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return gi.resolve(di.min())}updateCollectionGroup(e,t,n){return gi.resolve()}updateIndexEntries(e,t){return gi.resolve()}}class Ml{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ro(Hr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ro(Hr.comparator)).toArray()}}new Uint8Array(0);const Fl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vl=41943040;class Ul{static withCacheSize(e){return new Ul(e,Ul.DEFAULT_COLLECTION_PERCENTILE,Ul.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Ul.DEFAULT_COLLECTION_PERCENTILE=10,Ul.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ul.DEFAULT=new Ul(Vl,Ul.DEFAULT_COLLECTION_PERCENTILE,Ul.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ul.DISABLED=new Ul(-1,0,0);class zl{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new zl(0)}static ur(){return new zl(-1)}}const Bl="LruGarbageCollector",Wl=1048576;function Hl(e,t){let[n,r]=e,[i,o]=t;const s=Mr(n,i);return 0===s?Mr(r,o):s}class ql{constructor(e){this.Tr=e,this.buffer=new ro(Hl),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Hl(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kl{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){mr(Bl,"Garbage collection scheduled in ".concat(e,"ms")),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){yi(e)?mr(Bl,"Ignoring IndexedDB error during garbage collection: ",e):await mi(e)}await this.Rr(3e5)})}}class Gl{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return gi.resolve(bi.ue);const n=new ql(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(mr("LruGarbageCollector","Garbage collection skipped; disabled"),gi.resolve(Fl)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(mr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Fl):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,o,s,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(mr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),pr()<=yt.DEBUG&&mr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),gi.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Ql(e,t){return new Gl(e,t)}class Yl{constructor(){this.changes=new Vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?gi.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $l{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&xa(n.mutation,e,oo.empty(),oi.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Xs()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xs();const r=qs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ws();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=qs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Xs()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=zs();const o=Gs(),s=Gs();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof _a)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),xa(s.mutation,t,s.mutation.getFieldMask(),oi.now())):o.set(t.key,oo.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Xl(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Gs();let r=new eo((e,t)=>e-t),i=Xs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||oo.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Xs()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=Ks();l.forEach(e=>{if(!i.has(e)){const r=ba(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return gi.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Gr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ts(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):gi.resolve(qs());let s=ai,a=i;return o.next(t=>gi.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?gi.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,Xs())).next(e=>({batchId:s,changes:Hs(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Gr(t)).next(e=>{let t=Ws();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Ws();return this.indexManager.getCollectionParents(e,i).next(s=>gi.forEach(s,s=>{const a=function(e,t){return new Ss(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qo.newInvalidDocument(r)))});let n=Ws();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&xa(o.mutation,r,oo.empty(),oi.now()),Ls(t,r)&&(n=n.insert(e,r))}),n})}}class Jl{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return gi.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ll(e.createTime)}}(t)),gi.resolve()}getNamedQuery(e,t){return gi.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(e){return{name:e.name,query:Rl(e.bundledQuery),readTime:ll(e.readTime)}}(t)),gi.resolve()}}class Zl{constructor(){this.overlays=new eo(Gr.comparator),this.kr=new Map}getOverlay(e,t){return gi.resolve(this.overlays.get(t))}getOverlays(e,t){const n=qs();return gi.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),gi.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),gi.resolve()}getOverlaysForCollection(e,t,n){const r=qs(),i=t.length+1,o=new Gr(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return gi.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new eo((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=qs(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=qs(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return gi.resolve(s)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Aa(t,n));let i=this.kr.get(t);void 0===i&&(i=Xs(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}class ec{constructor(){this.sessionToken=ao.EMPTY_BYTE_STRING}getSessionToken(e){return gi.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,gi.resolve()}}class tc{constructor(){this.qr=new ro(nc.Qr),this.$r=new ro(nc.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new nc(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new nc(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new Gr(new Hr([])),n=new nc(t,e),r=new nc(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Gr(new Hr([])),n=new nc(t,e),r=new nc(t,e+1);let i=Xs();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new nc(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class nc{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Gr.comparator(e.key,t.key)||Mr(e.Hr,t.Hr)}static Ur(e,t){return Mr(e.Hr,t.Hr)||Gr.comparator(e.key,t.key)}}class rc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ro(nc.Qr)}checkEmpty(e){return gi.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Oa(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Yr=this.Yr.add(new nc(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return gi.resolve(o)}lookupMutationBatch(e,t){return gi.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return gi.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return gi.resolve(0===this.mutationQueue.length?wi:this.er-1)}getAllMutationBatches(e){return gi.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new nc(t,0),r=new nc(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),gi.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ro(Mr);return t.forEach(e=>{const t=new nc(e,0),r=new nc(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),gi.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Gr.isDocumentKey(i)||(i=i.child(""));const o=new nc(new Gr(i),0);let s=new ro(Mr);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Hr)),!0)},o),gi.resolve(this.ei(s))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){xr(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return gi.forEach(t.mutations,r=>{const i=new nc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new nc(t,0),r=this.Yr.firstAfterOrEqual(n);return gi.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,gi.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ic{constructor(e){this.ni=e,this.docs=new eo(Gr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return gi.resolve(n?n.document.mutableCopy():Qo.newInvalidDocument(t))}getEntries(e,t){let n=zs();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Qo.newInvalidDocument(e))}),gi.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=zs();const o=t.path,s=new Gr(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||hi(ui(s),n)<=0||(r.has(s.key)||Ls(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return gi.resolve(i)}getAllFromCollectionGroup(e,t,n,r){br(9500)}ri(e,t){return gi.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new oc(this)}getSize(e){return gi.resolve(this.size)}}class oc extends Yl{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),gi.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}class sc{constructor(e){this.persistence=e,this.ii=new Vs(e=>bs(e),ws),this.lastRemoteSnapshotVersion=si.min(),this.highestTargetId=0,this.si=0,this.oi=new tc,this.targetCount=0,this._i=zl.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),gi.resolve()}getLastRemoteSnapshotVersion(e){return gi.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return gi.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),gi.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),gi.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new zl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,gi.resolve()}updateTargetData(e,t){return this.hr(t),gi.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,gi.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),gi.waitFor(i).next(()=>r)}getTargetCount(e){return gi.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return gi.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),gi.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),gi.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),gi.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return gi.resolve(n)}containsKey(e,t){return gi.resolve(this.oi.containsKey(t))}}class ac{constructor(e,t){this.ai={},this.overlays={},this.ui=new bi(0),this.ci=!1,this.ci=!0,this.li=new ec,this.referenceDelegate=e(this),this.hi=new sc(this),this.indexManager=new Dl,this.remoteDocumentCache=function(e){return new ic(e)}(e=>this.referenceDelegate.Pi(e)),this.serializer=new Al(t),this.Ti=new Jl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new rc(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){mr("MemoryPersistence","Starting transaction:",e);const r=new lc(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return gi.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class lc extends pi{constructor(e){super(),this.currentSequenceNumber=e}}class cc{constructor(e){this.persistence=e,this.Ai=new tc,this.Ri=null}static Vi(e){return new cc(e)}get mi(){if(this.Ri)return this.Ri;throw br(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),gi.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),gi.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),gi.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gi.forEach(this.mi,n=>{const r=Gr.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,si.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return gi.or([()=>gi.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class uc{constructor(e,t){this.persistence=e,this.gi=new Vs(e=>_i(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Ql(this,t)}static Vi(e,t){return new uc(e,t)}Ii(){}di(e){return gi.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return gi.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?gi.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,si.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),gi.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),gi.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),gi.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),gi.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Do(e.data.value)),t}Sr(e,t,n){return gi.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return gi.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class dc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=Xs(),r=Xs();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new dc(e,t.fromCache,n,r)}}class hc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fc{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=Ze()?8:vi($e())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new hc;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(pr()<=yt.DEBUG&&mr("QueryEngine","SDK will not create cache indexes for query:",Rs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),gi.resolve()):(pr()<=yt.DEBUG&&mr("QueryEngine","Query:",Rs(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(pr()<=yt.DEBUG&&mr("QueryEngine","The SDK decides to create cache indexes for query:",Rs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(t))):gi.resolve())}ps(e,t){if(_s(t))return gi.resolve(null);let n=Ns(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Os(t,null,"F"),n=Ns(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Xs(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.bs(t,r);return this.Ds(t,o,i,n.readTime)?this.ps(e,Os(t,null,"F")):this.vs(e,o,t,n)}))})))}ys(e,t,n,r){return _s(t)||r.isEqual(si.min())?gi.resolve(null):this.gs.getDocuments(e,n).next(i=>{const o=this.bs(t,i);return this.Ds(t,o,n,r)?gi.resolve(null):(pr()<=yt.DEBUG&&mr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rs(t)),this.vs(e,o,t,ci(r,ai)).next(e=>e))})}bs(e,t){let n=new ro(Ms(e));return t.forEach((t,r)=>{Ls(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return pr()<=yt.DEBUG&&mr("QueryEngine","Using full collection scan to execute query:",Rs(t)),this.gs.getDocumentsMatchingQuery(e,t,di.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const pc="LocalStore";class mc{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new eo(Mr),this.Ms=new Vs(e=>bs(e),ws),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $l(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function gc(e,t,n,r){return new mc(e,t,n,r)}async function vc(e,t){const n=Sr(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=Xs();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:o}))})})}function yc(e){const t=Sr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function bc(e,t,n){let r=Xs(),i=Xs();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=zs();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(si.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):mr(pc,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{Ls:r,ks:i}})}function wc(e,t){const n=Sr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=wi),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function xc(e,t){const n=Sr(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,gi.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new Pl(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}async function Sc(e,t,n){const r=Sr(e),i=r.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!yi(e))throw e;mr(pc,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function Ec(e,t,n){const r=Sr(e);let i=si.min(),o=Xs();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Sr(e),i=r.Ms.get(n);return void 0!==i?gi.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,Ns(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:si.min(),n?o:Xs())).next(e=>(kc(r,Ds(t),e),{documents:e,qs:o})))}function kc(e,t,n){let r=e.xs.get(t)||si.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}class _c{constructor(){this.activeTargetIds=Js()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tc{constructor(){this.Fo=new _c,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new _c,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cc{xo(e){}shutdown(){}}const Nc="ConnectivityMonitor";class Ic{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){mr(Nc,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){mr(Nc,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jc=null;function Oc(){return null===jc?jc=268435456+Math.round(2147483648*Math.random()):jc++,"0x"+jc.toString(16)}const Pc="RestConnection",Ac={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rc{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo="projects/".concat(n,"/databases/").concat(r),this.Ko=this.databaseId.database===xo?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Wo(e,t,n,r,i){const o=Oc(),s=this.Go(e,t.toUriEncodedString());mr(Pc,"Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(a,r,i);const{host:l}=new URL(s),c=qe(l);return this.jo(e,s,a,n,c).then(t=>(mr(Pc,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw vr(Pc,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t})}Jo(e,t,n,r,i,o){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+hr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=Ac[e];return"".concat(this.$o,"/v1/").concat(t,":").concat(n)}terminate(){}}class Lc{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}const Dc="WebChannelConnection";class Mc extends Rc{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const o=Oc();return new Promise((i,s)=>{const a=new Zn;a.setWithCredentials(!0),a.listenOnce(tr.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case nr.NO_ERROR:const t=a.getResponseJson();mr(Dc,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(t)),i(t);break;case nr.TIMEOUT:mr(Dc,"RPC '".concat(e,"' ").concat(o," timed out")),s(new kr(Er.DEADLINE_EXCEEDED,"Request time out"));break;case nr.HTTP_ERROR:const n=a.getStatus();if(mr(Dc,"RPC '".concat(e,"' ").concat(o," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Er).indexOf(t)>=0?t:Er.UNKNOWN}(t.status);s(new kr(e,t.message))}else s(new kr(Er.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new kr(Er.UNAVAILABLE,"Connection failed."));break;default:br(9055,{c_:e,streamId:o,l_:a.getLastErrorCode(),h_:a.getLastError()})}}finally{mr(Dc,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);mr(Dc,"RPC '".concat(e,"' ").concat(o," sending request:"),r),a.send(t,"POST",l,n,15)})}P_(e,t,n){const r=Oc(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sr(),s=or(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.zo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");mr(Dc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);this.T_(u);let d=!1,h=!1;const f=new Lc({Ho:t=>{h?mr(Dc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(mr(Dc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),mr(Dc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Yo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,er.EventType.OPEN,()=>{h||(mr(Dc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.s_())}),p(u,er.EventType.CLOSE,()=>{h||(h=!0,mr(Dc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.__(),this.I_(u))}),p(u,er.EventType.ERROR,t=>{h||(h=!0,vr(Dc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.__(new kr(Er.UNAVAILABLE,"The operation could not be completed")))}),p(u,er.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];xr(!!i,16349);const o=i,s=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){mr(Dc,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=La[e];if(void 0!==t)return Fa(t)}(t),i=s.message;void 0===n&&(n=Er.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.__(new kr(n,i)),u.close()}else mr(Dc,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.a_(i)}}),p(s,ir.STAT_EVENT,t=>{t.stat===rr.PROXY?mr(Dc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===rr.NOPROXY&&mr(Dc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.o_()},0),f}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Fc(){return"undefined"!=typeof document?document:null}function Vc(e){return new rl(e,!0)}class Uc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&mr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.R_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const zc="PersistentStream";class Bc{constructor(e,t,n,r,i,o,s,a){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Uc(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===Er.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Er.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.b_===t&&this.W_(n,r)},t=>{e(()=>{const e=new kr(Er.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return mr(zc,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(mr(zc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wc extends Bc{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:br(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(xr(void 0===t||"string"==typeof t,58123),ao.fromBase64String(t||"")):(xr(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ao.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Er.UNKNOWN:Fa(e.code);return new kr(t,e.message||"")}(s);n=new Ya(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=fl(e,r.document.name),o=ll(r.document.updateTime),s=r.document.createTime?ll(r.document.createTime):si.min(),a=new Ko({mapValue:{fields:r.document.fields}}),l=Qo.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ga(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=fl(e,r.document),o=r.readTime?ll(r.readTime):si.min(),s=Qo.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ga([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=fl(e,r.document),o=r.removedTargetIds||[];n=new Ga([],o,i,null)}else{if(!("filter"in t))return br(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Ra(r,i),s=e.targetId;n=new Qa(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return si.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?si.min():t.readTime?ll(t.readTime):si.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=gl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=xs(r)?{documents:wl(e,r)}:{query:xl(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=sl(e,t.resumeToken);const r=il(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(si.min())>0){n.readTime=ol(e,t.snapshotVersion.toTimestamp());const r=il(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return br(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=gl(this.serializer),t.removeTarget=e,this.k_(t)}}class Hc extends Bc{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return xr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xr(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){xr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(xr(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?ll(e.updateTime):ll(t);return n.isEqual(si.min())&&(n=ll(t)),new ma(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=ll(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=gl(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>bl(this.serializer,e))};this.k_(t)}}class qc{}class Kc extends qc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new kr(Er.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,s]=i;return this.connection.Wo(e,ul(t,n),r,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Er.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kr(Er.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[s,a]=o;return this.connection.Jo(e,ul(t,n),r,s,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Er.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new kr(Er.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Gc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this._a?(gr(t),this._a=!1):mr("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}const Qc="RemoteStore";class Yc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{iu(this)&&(mr(Qc,"Restarting streams for network reachability change."),await async function(e){const t=Sr(e);t.Ia.add(4),await $c(t),t.Aa.set("Unknown"),t.Ia.delete(4),await Xc(t)}(this))})}),this.Aa=new Gc(n,r)}}async function Xc(e){if(iu(e))for(const t of e.da)await t(!0)}async function $c(e){for(const t of e.da)await t(!1)}function Jc(e,t){const n=Sr(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),ru(n)?nu(n):Eu(n).x_()&&eu(n,t))}function Zc(e,t){const n=Sr(e),r=Eu(n);n.Ta.delete(t),r.x_()&&tu(n,t),0===n.Ta.size&&(r.x_()?r.B_():iu(n)&&n.Aa.set("Unknown"))}function eu(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(si.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Eu(e).H_(t)}function tu(e,t){e.Ra.$e(t),Eu(e).Y_(t)}function nu(e){e.Ra=new $a({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Eu(e).start(),e.Aa.aa()}function ru(e){return iu(e)&&!Eu(e).M_()&&e.Ta.size>0}function iu(e){return 0===Sr(e).Ia.size}function ou(e){e.Ra=void 0}async function su(e){e.Aa.set("Online")}async function au(e){e.Ta.forEach((t,n)=>{eu(e,t)})}async function lu(e,t){ou(e),ru(e)?(e.Aa.la(t),nu(e)):e.Aa.set("Unknown")}async function cu(e,t,n){if(e.Aa.set("Online"),t instanceof Ya&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(n){mr(Qc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await uu(e,n)}else if(t instanceof Ga?e.Ra.Ye(t):t instanceof Qa?e.Ra.it(t):e.Ra.et(t),!n.isEqual(si.min()))try{const t=await yc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(ao.EMPTY_BYTE_STRING,r.snapshotVersion)),tu(e,t);const i=new Pl(r.target,t,n,r.sequenceNumber);eu(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){mr(Qc,"Failed to raise snapshot:",t),await uu(e,t)}}async function uu(e,t,n){if(!yi(t))throw t;e.Ia.add(1),await $c(e),e.Aa.set("Offline"),n||(n=()=>yc(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{mr(Qc,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await Xc(e)})}function du(e,t){return t().catch(n=>uu(e,n,t))}async function hu(e){const t=Sr(e),n=ku(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:wi;for(;fu(t);)try{const e=await wc(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,pu(t,e)}catch(e){await uu(t,e)}mu(t)&&gu(t)}function fu(e){return iu(e)&&e.Pa.length<10}function pu(e,t){e.Pa.push(t);const n=ku(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function mu(e){return iu(e)&&!ku(e).M_()&&e.Pa.length>0}function gu(e){ku(e).start()}async function vu(e){ku(e).na()}async function yu(e){const t=ku(e);for(const n of e.Pa)t.X_(n.mutations)}async function bu(e,t,n){const r=e.Pa.shift(),i=Pa.from(r,t,n);await du(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await hu(e)}async function wu(e,t){t&&ku(e).Z_&&await async function(e,t){if(function(e){return Ma(e)&&e!==Er.ABORTED}(t.code)){const n=e.Pa.shift();ku(e).N_(),await du(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await hu(e)}}(e,t),mu(e)&&gu(e)}async function xu(e,t){const n=Sr(e);n.asyncQueue.verifyOperationInProgress(),mr(Qc,"RemoteStore received new credentials");const r=iu(n);n.Ia.add(3),await $c(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Xc(n)}async function Su(e,t){const n=Sr(e);t?(n.Ia.delete(2),await Xc(n)):t||(n.Ia.add(2),await $c(n),n.Aa.set("Unknown"))}function Eu(e){return e.Va||(e.Va=function(e,t,n){const r=Sr(e);return r.ia(),new Wc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:su.bind(null,e),e_:au.bind(null,e),n_:lu.bind(null,e),J_:cu.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),ru(e)?nu(e):e.Aa.set("Unknown")):(await e.Va.stop(),ou(e))})),e.Va}function ku(e){return e.ma||(e.ma=function(e,t,n){const r=Sr(e);return r.ia(),new Hc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:vu.bind(null,e),n_:wu.bind(null,e),ea:yu.bind(null,e),ta:bu.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await hu(e)):(await e.ma.stop(),e.Pa.length>0&&(mr(Qc,"Stopping write stream with ".concat(e.Pa.length," pending writes")),e.Pa=[]))})),e.ma}class _u{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new _u(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kr(Er.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tu(e,t){if(gr("AsyncQueue","".concat(t,": ").concat(e)),yi(e))return new kr(Er.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Cu{static emptySet(e){return new Cu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Gr.comparator(t.key,n.key):(e,t)=>Gr.comparator(e.key,t.key),this.keyedMap=Ws(),this.sortedSet=new eo(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Cu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Nu{constructor(){this.fa=new eo(Gr.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):br(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Iu{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Iu(e,t,Cu.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ps(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ju{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Ou{constructor(){this.queries=Pu(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=Sr(e),r=n.queries;n.queries=Pu(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new kr(Er.ABORTED,"Firestore shutting down"))}}function Pu(){return new Vs(e=>As(e),Ps)}async function Au(e,t){const n=Sr(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.Sa()&&t.ba()&&(r=2):(o=new ju,r=t.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Tu(e,"Initialization of query '".concat(Rs(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.wa.push(t),t.va(n.onlineState),o.ya&&t.Ca(o.ya)&&Mu(n)}async function Ru(e,t){const n=Sr(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.wa.indexOf(t);e>=0&&(o.wa.splice(e,1),0===o.wa.length?i=t.ba()?0:1:!o.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lu(e,t){const n=Sr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&Mu(n)}function Du(e,t,n){const r=Sr(e),i=r.queries.get(t);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(t)}function Mu(e){e.Da.forEach(e=>{e.next()})}var Fu,Vu;(Vu=Fu||(Fu={})).Fa="default",Vu.Cache="cache";class Uu{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Iu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=Iu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Fu.Cache}}class zu{constructor(e){this.key=e}}class Bu{constructor(e){this.key=e}}class Wu{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Xs(),this.mutatedKeys=Xs(),this.Xa=Ms(e),this.eu=new Cu(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new Nu,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Ls(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.iu(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Xa(u,a)>0||l&&this.Xa(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(s=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:o,ru:n,Ds:s,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return br(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const s=t&&!r?this.ou():[],a=0===this.Za.size&&this.current&&!r?1:0,l=a!==this.Ya;return this.Ya=a,0!==o.length||l?{snapshot:new Iu(this.query,e.eu,i,o,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:s}:{_u:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Nu,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Xs(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new Bu(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new zu(n))}),t}uu(e){this.Ha=e.qs,this.Za=Xs();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Iu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const Hu="SyncEngine";class qu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Ku{constructor(e){this.key=e,this.lu=!1}}class Gu{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Vs(e=>As(e),Ps),this.Tu=new Map,this.Iu=new Set,this.du=new eo(Gr.comparator),this.Eu=new Map,this.Au=new tc,this.Ru={},this.Vu=new Map,this.mu=zl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function Qu(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=md(e);let i;const o=r.Pu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await Xu(r,t,n,!0),i}async function Yu(e,t){const n=md(e);await Xu(n,t,!0,!1)}async function Xu(e,t,n,r){const i=await xc(e.localStore,Ns(t)),o=i.targetId,s=e.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await $u(e,t,o,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Jc(e.remoteStore,i),a}async function $u(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await Ec(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.nu(n,i)}));const o=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o,s);return cd(e,t.targetId,a._u),a.snapshot}(e,t,n,r);const o=await Ec(e.localStore,t,!0),s=new Wu(t,o.qs),a=s.nu(o.documents),l=Ka.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);cd(e,n,c._u);const u=new qu(t,n,s);return e.Pu.set(t,u),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),c.snapshot}async function Ju(e,t,n){const r=Sr(e),i=r.Pu.get(t),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(e=>!Ps(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Sc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zc(r.remoteStore,i.targetId),ad(r,i.targetId)}).catch(mi)):(ad(r,i.targetId),await Sc(r.localStore,i.targetId,!0))}async function Zu(e,t){const n=Sr(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zc(n.remoteStore,r.targetId))}async function ed(e,t){const n=Sr(e);try{const e=await function(e,t){const n=Sr(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const s=[];t.targetChanges.forEach((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.hi.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.hi.addMatchingKeys(e,o.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(ao.EMPTY_BYTE_STRING,si.min()).withLastLimboFreeSnapshotVersion(si.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&s.push(n.hi.updateTargetData(e,c))});let a=zs(),l=Xs();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(bc(e,o,t.documentUpdates).next(e=>{a=e.Ls,l=e.ks})),!r.isEqual(si.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return gi.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Fs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(xr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?xr(r.lu,14607):e.removedDocuments.size>0&&(xr(r.lu,42227),r.lu=!1))}),await hd(n,e,t)}catch(e){await mi(e)}}function td(e,t,n){const r=Sr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Sr(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&Mu(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function nd(e,t,n){const r=Sr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),o=i&&i.key;if(o){let e=new eo(Gr.comparator);e=e.insert(o,Qo.newNoDocument(o,si.min()));const n=Xs().add(o),i=new qa(si.min(),new Map,new eo(Mr),e,n);await ed(r,i),r.du=r.du.remove(o),r.Eu.delete(t),dd(r)}else await Sc(r.localStore,t,!1).then(()=>ad(r,t,n)).catch(mi)}async function rd(e,t){const n=Sr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Sr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=gi.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);xr(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xs();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);sd(n,r,null),od(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hd(n,e)}catch(e){await mi(e)}}async function id(e,t,n){const r=Sr(e);try{const e=await function(e,t){const n=Sr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(xr(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);sd(r,t,n),od(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await hd(r,e)}catch(n){await mi(n)}}function od(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function sd(e,t,n){const r=Sr(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function ad(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||ld(e,t)})}function ld(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Zc(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),dd(e))}function cd(e,t,n){for(const r of n)r instanceof zu?(e.Au.addReference(r.key,t),ud(e,r)):r instanceof Bu?(mr(Hu,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||ld(e,r.key)):br(19791,{yu:r})}function ud(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(mr(Hu,"New document in limbo: "+n),e.Iu.add(r),dd(e))}function dd(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new Gr(Hr.fromString(t)),r=e.mu.next();e.Eu.set(r,new Ku(n)),e.du=e.du.insert(n,r),Jc(e.remoteStore,new Pl(Ns(ks(n.path)),r,"TargetPurposeLimboResolution",bi.ue))}}async function hd(e,t,n){const r=Sr(e),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((e,a)=>{s.push(r.gu(a,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=dc.Es(a.targetId,e);o.push(t)}}))}),await Promise.all(s),r.hu.J_(i),await async function(e,t){const n=Sr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>gi.forEach(t,t=>gi.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>gi.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!yi(e))throw e;mr(pc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,o))}async function fd(e,t){const n=Sr(e);if(!n.currentUser.isEqual(t)){mr(Hu,"User change. New user:",t.toKey());const e=await vc(n.localStore,t);n.currentUser=t,function(e,t){e.Vu.forEach(e=>{e.forEach(e=>{e.reject(new kr(Er.CANCELLED,t))})}),e.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await hd(n,e.Bs)}}function pd(e,t){const n=Sr(e),r=n.Eu.get(t);if(r&&r.lu)return Xs().add(r.key);{let e=Xs();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function md(e){const t=Sr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ed.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nd.bind(null,t),t.hu.J_=Lu.bind(null,t.eventManager),t.hu.pu=Du.bind(null,t.eventManager),t}function gd(e){const t=Sr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=id.bind(null,t),t}class vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return gc(this.persistence,new fc,e.initialUser,this.serializer)}Du(e){return new ac(cc.Vi,this.serializer)}bu(e){return new Tc}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vd.provider={build:()=>new vd};class yd extends vd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){xr(this.persistence.referenceDelegate instanceof uc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Kl(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?Ul.withCacheSize(this.cacheSizeBytes):Ul.DEFAULT;return new ac(e=>uc.Vi(e,t),this.serializer)}}class bd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>td(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=fd.bind(null,this.syncEngine),await Su(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ou}createDatastore(e){const t=Vc(e.databaseInfo.databaseId),n=function(e){return new Mc(e)}(e.databaseInfo);return function(e,t,n,r){return new Kc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Yc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>td(this.syncEngine,e,0),Ic.C()?new Ic:new Cc)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new Gu(e,t,n,r,i,o);return s&&(a.fu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Sr(e);mr(Qc,"RemoteStore shutting down."),t.Ia.add(5),await $c(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}bd.provider={build:()=>new bd};class wd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const xd="FirestoreClient";class Sd{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=dr.UNAUTHENTICATED,this.clientId=Dr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{mr(xd,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(mr(xd,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Tu(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ed(e,t){e.asyncQueue.verifyOperationInProgress(),mr(xd,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await vc(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{vr("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{mr("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{vr("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function kd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await _d(e);mr(xd,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>xu(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>xu(t.remoteStore,n)),e._onlineComponents=t}async function _d(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){mr(xd,"Using user provided OfflineComponentProvider");try{await Ed(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Er.FAILED_PRECONDITION||e.code===Er.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;vr("Error using user provided cache. Falling back to memory cache: "+n),await Ed(e,new vd)}}else mr(xd,"Using default OfflineComponentProvider"),await Ed(e,new yd(void 0));return e._offlineComponents}async function Td(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(mr(xd,"Using user provided OnlineComponentProvider"),await kd(e,e._uninitializedComponentsProvider._online)):(mr(xd,"Using default OnlineComponentProvider"),await kd(e,new bd))),e._onlineComponents}function Cd(e){return Td(e).then(e=>e.syncEngine)}async function Nd(e){const t=await Td(e),n=t.eventManager;return n.onListen=Qu.bind(null,t.syncEngine),n.onUnlisten=Ju.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Yu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Zu.bind(null,t.syncEngine),n}function Id(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new _r;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new wd({next:a=>{o.Ou(),t.enqueueAndForget(()=>Ru(e,s));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new kr(Er.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new kr(Er.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),s=new Uu(ks(n.path),o,{includeMetadataChanges:!0,ka:!0});return Au(e,s)}(await Nd(e),e.asyncQueue,t,n,r)),r.promise}function jd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new _r;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new wd({next:n=>{o.Ou(),t.enqueueAndForget(()=>Ru(e,s)),n.fromCache&&"server"===r.source?i.reject(new kr(Er.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Uu(n,o,{includeMetadataChanges:!0,ka:!0});return Au(e,s)}(await Nd(e),e.asyncQueue,t,n,r)),r.promise}function Od(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Pd=new Map,Ad="firestore.googleapis.com",Rd=!0;class Ld{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new kr(Er.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ad,this.ssl=Rd}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Rd;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Vl;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Wl)throw new kr(Er.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new kr(Er.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Od(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new kr(Er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new kr(Er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new kr(Er.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ld({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kr(Er.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kr(Er.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ld(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cr;switch(e.type){case"firstParty":return new Or(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new kr(Er.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Pd.get(e);t&&(mr("ComponentProvider","Removing Datastore"),Pd.delete(e),t.terminate())}(this),Promise.resolve()}}class Md{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Md(this.firestore,e,this._query)}}class Fd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fd(this.firestore,e,this._key)}toJSON(){return{type:Fd._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(ni(t,Fd._jsonSchema))return new Fd(e,n||null,new Gr(Hr.fromString(t.referencePath)))}}Fd._jsonSchemaVersion="firestore/documentReference/1.0",Fd._jsonSchema={type:ti("string",Fd._jsonSchemaVersion),referencePath:ti("string")};class Vd extends Md{constructor(e,t,n){super(e,t,ks(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fd(this.firestore,null,new Gr(e))}withConverter(e){return new Vd(this.firestore,e,this._path)}}function Ud(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ht(e),Qr("collection","path",t),e instanceof Dd){const n=Hr.fromString(t,...r);return Xr(n),new Vd(e,null,n)}{if(!(e instanceof Fd||e instanceof Vd))throw new kr(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hr.fromString(t,...r));return Xr(n),new Vd(e.firestore,null,n)}}function zd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ht(e),1===arguments.length&&(t=Dr.newId()),Qr("doc","path",t),e instanceof Dd){const n=Hr.fromString(t,...r);return Yr(n),new Fd(e,null,new Gr(n))}{if(!(e instanceof Fd||e instanceof Vd))throw new kr(Er.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Hr.fromString(t,...r));return Yr(n),new Fd(e.firestore,e instanceof Vd?e.converter:null,new Gr(n))}}const Bd="AsyncQueue";class Wd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Uc(this,"async_queue_retry"),this.oc=()=>{const e=Fc();e&&mr(Bd,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=Fc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Fc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new _r;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(QR){if(!yi(QR))throw QR;mr(Bd,"Operation failed with retryable error: "+QR)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,gr("INTERNAL UNHANDLED ERROR: ",Hd(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=_u.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&br(47125,{hc:Hd(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Hd(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function qd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Kd extends Dd{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Wd,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wd(e),this._firestoreClient=void 0,await e}}}function Gd(e){if(e._terminated)throw new kr(Er.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Qd(e),e._firestoreClient}function Qd(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new wo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Od(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Sd(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Yd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yd(ao.fromBase64String(e))}catch(e){throw new kr(Er.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Yd(ao.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yd._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ni(e,Yd._jsonSchema))return Yd.fromBase64String(e.bytes)}}Yd._jsonSchemaVersion="firestore/bytes/1.0",Yd._jsonSchema={type:ti("string",Yd._jsonSchemaVersion),bytes:ti("string")};class Xd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new kr(Er.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $d{constructor(e){this._methodName=e}}class Jd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kr(Er.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kr(Er.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mr(this._lat,e._lat)||Mr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jd._jsonSchemaVersion}}static fromJSON(e){if(ni(e,Jd._jsonSchema))return new Jd(e.latitude,e.longitude)}}Jd._jsonSchemaVersion="firestore/geoPoint/1.0",Jd._jsonSchema={type:ti("string",Jd._jsonSchemaVersion),latitude:ti("number"),longitude:ti("number")};class Zd{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ni(e,Zd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Zd(e.vectorValues);throw new kr(Er.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zd._jsonSchemaVersion="firestore/vectorValue/1.0",Zd._jsonSchema={type:ti("string",Zd._jsonSchemaVersion),vectorValues:ti("object")};const eh=/^__.*__$/;class th{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new _a(e,this.data,this.fieldMask,t,this.fieldTransforms):new ka(e,this.data,t,this.fieldTransforms)}}class nh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new _a(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw br(40011,{Ec:e})}}class ih{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new ih(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Sh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(rh(this.Ec)&&eh.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class oh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Vc(e)}Dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ih({Ec:e,methodName:t,bc:n,path:Kr.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sh(e){const t=e._freezeSettings(),n=Vc(e._databaseId);return new oh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ah(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.Dc(o.merge||o.mergeFields?2:0,t,n,i);yh("Data must be an object, but it was:",s,r);const a=gh(r,s);let l,c;if(o.merge)l=new oo(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=bh(t,r,n);if(!s.contains(i))throw new kr(Er.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Eh(e,i)||e.push(i)}l=new oo(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new th(new Ko(a),l,c)}class lh extends $d{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.wc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lh}}function ch(e,t,n){return new ih({Ec:3,bc:t.settings.bc,methodName:e._methodName,mc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class uh extends $d{_toFieldTransform(e){return new pa(e.path,new sa)}isEqual(e){return e instanceof uh}}class dh extends $d{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=ch(this,e,!0),n=this.vc.map(e=>mh(e,t)),r=new aa(n);return new pa(e.path,r)}isEqual(e){return e instanceof dh&&ot(this.vc,e.vc)}}function hh(e,t,n,r){const i=e.Dc(1,t,n);yh("Data must be an object, but it was:",i,r);const o=[],s=Ko.empty();Ji(r,(e,r)=>{const a=xh(t,e,n);r=ht(r);const l=i.gc(a);if(r instanceof lh)o.push(a);else{const e=mh(r,l);null!=e&&(o.push(a),s.set(a,e))}});const a=new oo(o);return new nh(s,a,i.fieldTransforms)}function fh(e,t,n,r,i,o){const s=e.Dc(1,t,n),a=[bh(t,r,n)],l=[i];if(o.length%2!=0)throw new kr(Er.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(bh(t,o[h])),l.push(o[h+1]);const c=[],u=Ko.empty();for(let h=a.length-1;h>=0;--h)if(!Eh(c,a[h])){const e=a[h];let t=l[h];t=ht(t);const n=s.gc(e);if(t instanceof lh)c.push(e);else{const r=mh(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new oo(c);return new nh(u,d,s.fieldTransforms)}function ph(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return mh(n,e.Dc(r?4:3,t))}function mh(e,t){if(vh(e=ht(e)))return yh("Unsupported field value:",t,e),gh(e,t);if(e instanceof $d)return function(e,t){if(!rh(t.Ec))throw t.wc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.wc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=mh(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ht(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ta(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=oi.fromDate(e);return{timestampValue:ol(t.serializer,n)}}if(e instanceof oi){const n=new oi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ol(t.serializer,n)}}if(e instanceof Jd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yd)return{bytesValue:sl(t.serializer,e._byteString)};if(e instanceof Fd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:cl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Zd)return function(e,t){return{mapValue:{fields:{[Eo]:{stringValue:To},[Co]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.wc("VectorValues must only contain numeric values.");return Zs(t.serializer,e)})}}}}}}(e,t);throw t.wc("Unsupported field value: ".concat(Jr(e)))}(e,t)}function gh(e,t){const n={};return Zi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ji(e,(e,r)=>{const i=mh(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function vh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof oi||e instanceof Jd||e instanceof Yd||e instanceof Fd||e instanceof $d||e instanceof Zd)}function yh(e,t,n){if(!vh(n)||!$r(n)){const r=Jr(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function bh(e,t,n){if((t=ht(t))instanceof Xd)return t._internalPath;if("string"==typeof t)return xh(e,t);throw Sh("Field path arguments must be of type string or ",e,!1,void 0,n)}const wh=new RegExp("[~\\*/\\[\\]]");function xh(e,t,n){if(t.search(wh)>=0)throw Sh("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Xd(...t.split("."))._internalPath}catch(Jw){throw Sh("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Sh(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new kr(Er.INVALID_ARGUMENT,a+e+l)}function Eh(e,t){return e.some(e=>e.isEqual(t))}class kh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Fd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _h(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _h extends kh{data(){return super.data()}}function Th(e,t){return"string"==typeof t?xh(e,t):t instanceof Xd?t._internalPath:t._delegate._internalPath}function Ch(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new kr(Er.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nh{}class Ih extends Nh{}function jh(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Nh&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Ah).length,n=e.filter(e=>e instanceof Oh).length;if(t>1||t>0&&n>0)throw new kr(Er.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Oh extends Ih{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Oh(e,t,n)}_apply(e){const t=this._parse(e);return Bh(e._query,t),new Md(e.firestore,e.converter,js(e._query,t))}_parse(e){const t=sh(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new kr(Er.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){zh(s,o);const t=[];for(const n of s)t.push(Uh(r,e,n));a={arrayValue:{values:t}}}else a=Uh(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zh(s,o),a=ph(n,t,s,"in"===o||"not-in"===o);return ts.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Ph(e,t,n){const r=t,i=Th("where",e);return Oh._create(i,r,n)}class Ah extends Nh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ah(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ns.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Bh(n,i),n=js(n,i)}(e._query,t),new Md(e.firestore,e.converter,js(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Rh extends Ih{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Rh(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new kr(Er.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new kr(Er.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jo(t,n)}(e._query,this._field,this._direction);return new Md(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ss(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Lh(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Th("orderBy",e);return Rh._create(n,t)}class Dh extends Ih{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Dh(e,t,n)}_apply(e){return new Md(e.firestore,e.converter,Os(e._query,this._limit,this._limitType))}}function Mh(e){return ei("limit",e),Dh._create("limit",e,"F")}class Fh extends Ih{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Fh(e,t,n)}_apply(e){const t=Vh(e,this.type,this._docOrFields,this._inclusive);return new Md(e.firestore,e.converter,function(e,t){return new Ss(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Vh(e,t,n,r){if(n[0]=ht(n[0]),n[0]instanceof kh)return function(e,t,n,r,i){if(!r)throw new kr(Er.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const s of Cs(e))if(s.field.isKeyField())o.push(Mo(t,r.key));else{const e=r.data.field(s.field);if(vo(e))throw new kr(Er.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new kr(Er.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new Yo(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=sh(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new kr(Er.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new kr(Er.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Ts(e)&&-1!==o.indexOf("/"))throw new kr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(Hr.fromString(o));if(!Gr.isDocumentKey(n))throw new kr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Gr(n);a.push(Mo(t,i))}else{const e=ph(n,r,o);a.push(e)}}return new Yo(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Uh(e,t,n){if("string"==typeof(n=ht(n))){if(""===n)throw new kr(Er.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ts(t)&&-1!==n.indexOf("/"))throw new kr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Hr.fromString(n));if(!Gr.isDocumentKey(r))throw new kr(Er.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Mo(e,new Gr(r))}if(n instanceof Fd)return Mo(e,n._key);throw new kr(Er.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Jr(n),"."))}function zh(e,t){if(!Array.isArray(e)||0===e.length)throw new kr(Er.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Bh(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new kr(Er.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new kr(Er.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Wh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return uo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw br(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Ji(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Co].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>uo(e.doubleValue));return new Zd(i)}convertGeoPoint(e){return new Jd(uo(e.latitude),uo(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=yo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bo(e));default:return null}}convertTimestamp(e){const t=co(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Hr.fromString(e);xr(Ol(n),9688,{name:e});const r=new So(n.get(1),n.get(3)),i=new Gr(n.popFirst(5));return r.isEqual(t)||gr("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Hh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class qh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kh extends kh{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Th("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new kr(Er.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Kh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Kh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kh._jsonSchema={type:ti("string",Kh._jsonSchemaVersion),bundleSource:ti("string","DocumentSnapshot"),bundleName:ti("string"),bundle:ti("string")};class Gh extends Kh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Qh{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Gh(this._firestore,this._userDataWriter,n.key,n,new qh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new kr(Er.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Gh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Gh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Yh(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new kr(Er.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dr.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return br(61501,{type:e})}}function Xh(e){e=Zr(e,Fd);const t=Zr(e.firestore,Kd);return Id(Gd(t),e._key).then(n=>sf(t,e,n))}Qh._jsonSchemaVersion="firestore/querySnapshot/1.0",Qh._jsonSchema={type:ti("string",Qh._jsonSchemaVersion),bundleSource:ti("string","QuerySnapshot"),bundleName:ti("string"),bundle:ti("string")};class $h extends Wh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fd(this.firestore,null,t)}}function Jh(e){e=Zr(e,Md);const t=Zr(e.firestore,Kd),n=Gd(t),r=new $h(t);return Ch(e._query),jd(n,e._query).then(n=>new Qh(t,r,e,n))}function Zh(e,t,n){e=Zr(e,Fd);const r=Zr(e.firestore,Kd),i=Hh(e.converter,t,n);return of(r,[ah(sh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ga.none())])}function ef(e,t,n){e=Zr(e,Fd);const r=Zr(e.firestore,Kd),i=sh(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=ht(t))||t instanceof Xd?fh(i,"updateDoc",e._key,t,n,a):hh(i,"updateDoc",e._key,t),of(r,[o.toMutation(e._key,ga.exists(!0))])}function tf(e){return of(Zr(e.firestore,Kd),[new Ia(e._key,ga.none())])}function nf(e,t){const n=Zr(e.firestore,Kd),r=zd(e),i=Hh(e.converter,t);return of(n,[ah(sh(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ga.exists(!1))]).then(()=>r)}function rf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=ht(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||qd(n[l])||(a=n[l++]);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(qd(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}let u,d,h;if(e instanceof Fd)d=Zr(e.firestore,Kd),h=ks(e._key.path),u={next:t=>{n[l]&&n[l](sf(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Zr(e,Md);d=Zr(t.firestore,Kd),h=t._query;const r=new $h(d);u={next:e=>{n[l]&&n[l](new Qh(d,r,t,e))},error:n[l+1],complete:n[l+2]},Ch(e._query)}return function(e,t,n,r){const i=new wd(r),o=new Uu(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Au(await Nd(e),o)),()=>{i.Ou(),e.asyncQueue.enqueueAndForget(async()=>Ru(await Nd(e),o))}}(Gd(d),h,c,u)}function of(e,t){return function(e,t){const n=new _r;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=gd(e);try{const e=await function(e,t){const n=Sr(e),r=oi.now(),i=t.reduce((e,t)=>e.add(t.key),Xs());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=zs(),l=Xs();return n.Os.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=Sa(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new _a(e.key,t,Go(t.value.mapValue),ga.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Hs(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new eo(Mr)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await hd(r,e.changes),await hu(r.remoteStore)}catch(e){const t=Tu(e,"Failed to persist write");n.reject(t)}}(await Cd(e),t,n)),n.promise}(Gd(e),t)}function sf(e,t,n){const r=n.docs.get(t._key),i=new $h(e);return new Kh(e,i,t._key,r,new qh(n.hasPendingWrites,n.fromCache),t.converter)}function af(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dh("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){hr=e}(Ln),jn(new ft("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new Kd(new Ir(e.getProvider("auth-internal")),new Ar(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kr(Er.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Fn(cr,ur,e),Fn(cr,ur,"esm2017")}();Fn("firebase","11.10.0","app");function lf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function cf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uf=cf,df=new rt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hf=new Et("@firebase/auth");function ff(e){if(hf.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hf.error("Auth (".concat(Ln,"): ").concat(e),...n)}}function pf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw yf(e,...n)}function mf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return yf(e,...n)}function gf(e,t,n){const r=Object.assign(Object.assign({},uf()),{[t]:n});return new rt("auth","Firebase",r).create(t,{appName:e.name})}function vf(e){return gf(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return df.create(e,...n)}function bf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw yf(t,...r)}}function wf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ff(t),new Error(t)}function xf(e,t){e||wf(t)}function Sf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ef(){return"http:"===kf()||"https:"===kf()}function kf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function _f(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ef()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Tf{constructor(e,t){this.shortDelay=e,this.longDelay=t,xf(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return _f()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cf(e,t){xf(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Nf{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void wf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void wf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void wf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const If={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jf=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Of=new Tf(3e4,6e4);function Pf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Af(e,t,n,r){return Rf(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=at(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&qe(e.emulatorConfig.host)&&(l.credentials="include"),Nf.fetch()(await Df(e,e.config.apiHost,n,s),l)})}async function Rf(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},If),t);try{const t=new Ff(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Vf(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Vf(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Vf(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Vf(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw gf(e,a,s);pf(e,a)}}catch(QR){if(QR instanceof nt)throw QR;pf(e,"network-request-failed",{message:String(QR)})}}async function Lf(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Af(e,t,n,r,i);return"mfaPendingCredential"in o&&pf(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function Df(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),o=e,s=o.config.emulator?Cf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(jf.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(s).toString()}return s}function Mf(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ff{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(mf(this.auth,"network-request-failed")),Of.get())})}}function Vf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mf(e,t,r);return i.customData._tokenResponse=n,i}function Uf(e){return void 0!==e&&void 0!==e.enterprise}class zf{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Mf(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Bf(e,t){return Af(e,"GET","/v2/recaptchaConfig",Pf(e,t))}async function Wf(e,t){return Af(e,"POST","/v1/accounts:lookup",t)}function Hf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(QR){}}function qf(e){return 1e3*Number(e)}function Kf(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ff("JWT malformed, contained fewer than 3 sections"),null;try{const e=Me(n);return e?JSON.parse(e):(ff("Failed to decode base64 JWT payload"),null)}catch(QR){return ff("Caught error parsing JWT payload as JSON",null===QR||void 0===QR?void 0:QR.toString()),null}}function Gf(e){const t=Kf(e);return bf(t,"internal-error"),bf("undefined"!==typeof t.exp,"internal-error"),bf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Qf(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(QR){throw QR instanceof nt&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(QR)&&e.auth.currentUser===e&&await e.auth.signOut(),QR}}class Yf{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(QR){return void((null===QR||void 0===QR?void 0:QR.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Xf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hf(this.lastLoginAt),this.creationTime=Hf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $f(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Qf(e,Wf(n,{idToken:r}));bf(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?Jf(o.providerUserInfo):[],a=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xf(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Jf(e){return e.map(e=>{var{providerId:t}=e,n=lf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Zf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){bf(e.idToken,"internal-error"),bf("undefined"!==typeof e.idToken,"internal-error"),bf("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Gf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){bf(0!==e.length,"internal-error");const t=Gf(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(bf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Rf(e,{},async()=>{const n=at({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await Df(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:s,body:n};return e.emulatorConfig&&qe(e.emulatorConfig.host)&&(a.credentials="include"),Nf.fetch()(o,a)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Zf;return n&&(bf("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(bf("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(bf("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zf,this.toJSON())}_performRefresh(){return wf("not implemented")}}function ep(e,t){bf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class tp{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=lf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Qf(this,this.stsTokenManager.getToken(this.auth,e));return bf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ht(e),r=await n.getIdToken(t),i=Kf(r);bf(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Hf(qf(i.auth_time)),issuedAtTime:Hf(qf(i.iat)),expirationTime:Hf(qf(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ht(e);await $f(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(bf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){bf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $f(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(vf(this.auth));const e=await this.getIdToken();return await Qf(this,async function(e,t){return Af(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;bf(y&&S,e,"internal-error");const E=Zf.fromJSON(this.name,S);bf("string"===typeof y,e,"internal-error"),ep(u,e.name),ep(d,e.name),bf("boolean"===typeof b,e,"internal-error"),bf("boolean"===typeof w,e,"internal-error"),ep(h,e.name),ep(f,e.name),ep(p,e.name),ep(m,e.name),ep(g,e.name),ep(v,e.name);const k=new tp({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(k.providerData=x.map(e=>Object.assign({},e))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Zf;r.updateFromServerResponse(t);const i=new tp({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await $f(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];bf(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Jf(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),s=new Zf;s.updateFromIdToken(n);const a=new tp({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Xf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const np=new Map;function rp(e){xf(e instanceof Function,"Expected a class definition");let t=np.get(e);return t?(xf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,np.set(e,t),t)}class ip{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ip.type="NONE";const op=ip;function sp(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ap{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=sp(this.userKey,r.apiKey,i),this.fullPersistenceKey=sp("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Wf(this.auth,{idToken:e}).catch(()=>{});return t?tp._fromGetAccountInfoResponse(this.auth,t,e):null}return tp._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ap(rp(op),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||rp(op);const o=sp(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){let n;if("string"===typeof t){const r=await Wf(e,{idToken:t}).catch(()=>{});if(!r)break;n=await tp._fromGetAccountInfoResponse(e,r,t)}else n=tp._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new ap(i,e,n)):new ap(i,e,n)}}function lp(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pp(t))return"Blackberry";if(mp(t))return"Webos";if(up(t))return"Safari";if((t.includes("chrome/")||dp(t))&&!t.includes("edge/"))return"Chrome";if(fp(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function cp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/firefox\//i.test(e)}function up(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/crios\//i.test(e)}function hp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/iemobile/i.test(e)}function fp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/android/i.test(e)}function pp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/blackberry/i.test(e)}function mp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/webos/i.test(e)}function gp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vp(){return function(){const e=$e();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function yp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e();return gp(e)||fp(e)||mp(e)||pp(e)||/windows phone/i.test(e)||hp(e)}function bp(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=lp($e());break;case"Worker":t="".concat(lp($e()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ln,"/").concat(r)}class wp{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(QR){r(QR)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(QR){t.reverse();for(const n of t)try{n()}catch(mx){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===QR||void 0===QR?void 0:QR.message})}}}class xp{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Sp{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kp(this),this.idTokenSubscription=new kp(this),this.beforeStateQueue=new wp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=df,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rp(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await ap.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(QR){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Wf(this,{idToken:e}),n=await tp._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(QR){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(QR))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return bf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(QR){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $f(e)}catch(QR){if((null===QR||void 0===QR?void 0:QR.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(vf(this));const t=e?ht(e):null;return t&&bf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&bf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(vf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(vf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rp(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Af(e,"GET","/v2/passwordPolicy",Pf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new xp(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Af(e,"POST","/v2/accounts:revokeToken",Pf(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rp(e)||this._popupRedirectResolver;bf(t,this,"argument-error"),this.redirectPersistenceManager=await ap.create(this,[rp(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(bf(s,this,"internal-error"),s.then(()=>{o||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return bf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(hf.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hf.warn("Auth (".concat(Ln,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ep(e){return ht(e)}class kp{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ut(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return bf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tp(e){return _p.loadJS(e)}function Cp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Np{constructor(){this.enterprise=new Ip}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ip{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jp="NO_RECAPTCHA";class Op{constructor(e){this.type="recaptcha-enterprise",this.auth=Ep(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Uf(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(jp)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Np).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Bf(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new zf(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Uf(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=_p.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Tp(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Pp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new Op(e);let s;if(i)s=jp;else try{s=await o.verify(n)}catch(l){s=await o.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ap(e,t,n,r,i){var o,s;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Pp(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Pp(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("PHONE_PROVIDER")){const i=await Pp(e,t,n);return r(e,i).catch(async i=>{var o;if("AUDIT"===(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Pp(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Pp(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Rp(e){const t=Ep(e),n=await Bf(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new zf(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Op(t).verify()}}function Lp(e,t,n){const r=Ep(e);bf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Dp(t),{host:s,port:a}=function(e){const t=Dp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Mp(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Mp(t)}}}(t),l=null===a?"":":".concat(a),c={url:"".concat(o,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return bf(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void bf(ot(c,r.config.emulator)&&ot(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,qe(s)?(Ke("".concat(o,"//").concat(s).concat(l)),Xe("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Dp(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Mp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Fp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wf("not implemented")}_getIdTokenResponse(e){return wf("not implemented")}_linkToIdToken(e,t){return wf("not implemented")}_getReauthenticationResolver(e){return wf("not implemented")}}async function Vp(e,t){return Af(e,"POST","/v1/accounts:signUp",t)}async function Up(e,t){return Lf(e,"POST","/v1/accounts:signInWithPassword",Pf(e,t))}class zp extends Fp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new zp(e,t,"password")}static _fromEmailAndCode(e,t){return new zp(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ap(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Up,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Lf(e,"POST","/v1/accounts:signInWithEmailLink",Pf(e,t))}(e,{email:this._email,oobCode:this._password});default:pf(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ap(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Vp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Lf(e,"POST","/v1/accounts:signInWithEmailLink",Pf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:pf(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bp(e,t){return Lf(e,"POST","/v1/accounts:signInWithIdp",Pf(e,t))}class Wp extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pf("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=lf(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Wp(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Bp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=at(t)}return e}}async function Hp(e,t){return Af(e,"POST","/v1/accounts:sendVerificationCode",Pf(e,t))}const qp={USER_NOT_FOUND:"user-not-found"};class Kp extends Fp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Kp({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Kp({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Lf(e,"POST","/v1/accounts:signInWithPhoneNumber",Pf(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Lf(e,"POST","/v1/accounts:signInWithPhoneNumber",Pf(e,t));if(n.temporaryProof)throw Vf(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Lf(e,"POST","/v1/accounts:signInWithPhoneNumber",Pf(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),qp)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Kp({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Gp{constructor(e){var t,n,r,i,o,s;const a=lt(ct(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);bf(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.lang)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=lt(ct(e)).link,n=t?lt(ct(t)).deep_link_id:null,r=lt(ct(e)).deep_link_id;return(r?lt(ct(r)).link:null)||r||n||t||e}(e);try{return new Gp(t)}catch(n){return null}}}class Qp{constructor(){this.providerId=Qp.PROVIDER_ID}static credential(e,t){return zp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Gp.parseLink(t);return bf(n,"argument-error"),zp._fromEmailAndCode(e,n.code,n.tenantId)}}Qp.PROVIDER_ID="password",Qp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xp extends Yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $p extends Xp{constructor(){super("facebook.com")}static credential(e){return Wp._fromParams({providerId:$p.PROVIDER_ID,signInMethod:$p.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $p.credentialFromTaggedObject(e)}static credentialFromError(e){return $p.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $p.credential(t.oauthAccessToken)}catch(n){return null}}}$p.FACEBOOK_SIGN_IN_METHOD="facebook.com",$p.PROVIDER_ID="facebook.com";class Jp extends Xp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wp._fromParams({providerId:Jp.PROVIDER_ID,signInMethod:Jp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jp.credentialFromTaggedObject(e)}static credentialFromError(e){return Jp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Jp.credential(n,r)}catch(i){return null}}}Jp.GOOGLE_SIGN_IN_METHOD="google.com",Jp.PROVIDER_ID="google.com";class Zp extends Xp{constructor(){super("github.com")}static credential(e){return Wp._fromParams({providerId:Zp.PROVIDER_ID,signInMethod:Zp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zp.credentialFromTaggedObject(e)}static credentialFromError(e){return Zp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Zp.credential(t.oauthAccessToken)}catch(n){return null}}}Zp.GITHUB_SIGN_IN_METHOD="github.com",Zp.PROVIDER_ID="github.com";class em extends Xp{constructor(){super("twitter.com")}static credential(e,t){return Wp._fromParams({providerId:em.PROVIDER_ID,signInMethod:em.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return em.credentialFromTaggedObject(e)}static credentialFromError(e){return em.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return em.credential(n,r)}catch(i){return null}}}async function tm(e,t){return Lf(e,"POST","/v1/accounts:signUp",Pf(e,t))}em.TWITTER_SIGN_IN_METHOD="twitter.com",em.PROVIDER_ID="twitter.com";class nm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await tp._fromIdTokenResponse(e,n,r),o=rm(n);return new nm({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=rm(n);return new nm({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function rm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class im extends nt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,im.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new im(e,t,n,r)}}function om(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw im._fromErrorAndOperation(e,n,t,r);throw n})}async function sm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Qf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return nm._forOperation(e,"link",r)}async function am(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Pn(r.app))return Promise.reject(vf(r));const i="reauthenticate";try{const o=await Qf(e,om(r,i,t,e),n);bf(o.idToken,r,"internal-error");const s=Kf(o.idToken);bf(s,r,"internal-error");const{sub:a}=s;return bf(e.uid===a,r,"user-mismatch"),nm._forOperation(e,i,o)}catch(QR){throw(null===QR||void 0===QR?void 0:QR.code)==="auth/".concat("user-not-found")&&pf(r,"user-mismatch"),QR}}async function lm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pn(e.app))return Promise.reject(vf(e));const r="signIn",i=await om(e,r,t),o=await nm._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function cm(e,t){return lm(Ep(e),t)}async function um(e){const t=Ep(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dm(e,t,n){if(Pn(e.app))return Promise.reject(vf(e));const r=Ep(e),i=Ap(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tm,"EMAIL_PASSWORD_PROVIDER"),o=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&um(e),t}),s=await nm._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function hm(e,t,n){return Pn(e.app)?Promise.reject(vf(e)):cm(ht(e),Qp.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&um(e),t})}async function fm(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=ht(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Qf(i,async function(e,t){return Af(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(e=>{let{providerId:t}=e;return"password"===t});a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function pm(e){return ht(e).signOut()}function mm(e,t){return Af(e,"POST","/v2/accounts/mfaEnrollment:start",Pf(e,t))}new WeakMap;const gm="__sak";class vm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ym extends vm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);vp()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ym.type="LOCAL";const bm=ym;function wm(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function xm(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Sm{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=xm(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return wm(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=xm(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=xm(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=wm(n);const i=setInterval(()=>{const e=wm(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Sm.type="COOKIE";class Em extends vm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Em.type="SESSION";const km=Em;class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new _m(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Tm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_m.receivers=[];class Cm{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((s,a)=>{const l=Tm("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}function Nm(){return window}function Im(){return"undefined"!==typeof Nm().WorkerGlobalScope&&"function"===typeof Nm().importScripts}const jm="firebaseLocalStorageDb",Om="firebaseLocalStorage",Pm="fbase_key";class Am{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rm(e,t){return e.transaction([Om],t?"readwrite":"readonly").objectStore(Om)}function Lm(){const e=indexedDB.open(jm,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Om,{keyPath:Pm})}catch(QR){n(QR)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Om)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(jm);return new Am(e).toPromise()}(),t(await Lm()))})})}async function Dm(e,t,n){const r=Rm(e,!0).put({[Pm]:t,value:n});return new Am(r).toPromise()}function Mm(e,t){const n=Rm(e,!0).delete(t);return new Am(n).toPromise()}class Fm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Lm()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(QR){if(t++>3)throw QR;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Im()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(Im()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Cm(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lm();return await Dm(e,gm,"1"),await Mm(e,gm),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dm(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Rm(e,!1).get(t),r=await new Am(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mm(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Rm(e,!1).getAll();return new Am(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Fm.type="LOCAL";const Vm=Fm;function Um(e,t){return Af(e,"POST","/v2/accounts/mfaSignIn:start",Pf(e,t))}Cp("rcb"),new Tf(3e4,6e4);const zm="recaptcha";async function Bm(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Rp(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){bf("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Ap(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===jp){bf((null===n||void 0===n?void 0:n.type)===zm,e,"argument-error");return mm(e,await Wm(e,t,n))}return mm(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{bf("signin"===t.type,e,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;bf(o,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Ap(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===jp){bf((null===n||void 0===n?void 0:n.type)===zm,e,"argument-error");return Um(e,await Wm(e,t,n))}return Um(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ap(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===jp){bf((null===n||void 0===n?void 0:n.type)===zm,e,"argument-error");return Hp(e,await Wm(e,t,n))}return Hp(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Wm(e,t,n){bf(n.type===zm,e,"argument-error");const r=await n.verify();bf("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Hm{constructor(e){this.providerId=Hm.PROVIDER_ID,this.auth=Ep(e)}verifyPhoneNumber(e,t){return Bm(this.auth,e,ht(t))}static credential(e,t){return Kp._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Hm.credentialFromTaggedObject(t)}static credentialFromError(e){return Hm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Kp._fromTokenResponse(n,r):null}}function qm(e,t){return t?rp(t):(bf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hm.PROVIDER_ID="phone",Hm.PHONE_SIGN_IN_METHOD="phone";class Km extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Gm(e){return lm(e.auth,new Km(e),e.bypassAuthState)}function Qm(e){const{auth:t,user:n}=e;return bf(n,t,"internal-error"),am(n,new Km(e),e.bypassAuthState)}async function Ym(e){const{auth:t,user:n}=e;return bf(n,t,"internal-error"),sm(n,new Km(e),e.bypassAuthState)}class Xm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(QR){this.reject(QR)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(QR){this.reject(QR)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gm;case"linkViaPopup":case"linkViaRedirect":return Ym;case"reauthViaPopup":case"reauthViaRedirect":return Qm;default:pf(this.auth,"internal-error")}}resolve(e){xf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $m=new Tf(2e3,1e4);class Jm extends Xm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Jm.currentPopupAction&&Jm.currentPopupAction.cancel(),Jm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return bf(e,this.auth,"internal-error"),e}async onExecution(){xf(1===this.filter.length,"Popup operations only handle one event");const e=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(mf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(mf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mf(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,$m.get())};e()}}Jm.currentPopupAction=null;const Zm=new Map;class eg extends Xm{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Zm.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=rg(t),r=ng(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(QR){e=()=>Promise.reject(QR)}Zm.set(this.auth._key(),e)}return this.bypassAuthState||Zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function tg(e,t){Zm.set(e._key(),t)}function ng(e){return rp(e._redirectPersistence)}function rg(e){return sp("pendingRedirect",e.config.apiKey,e.name)}async function ig(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Pn(e.app))return Promise.reject(vf(e));const r=Ep(e),i=qm(r,t),o=new eg(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class og{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ag(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ag(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(mf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sg(e))}saveEventToCache(e){this.cachedEventUids.add(sg(e)),this.lastProcessedEventTime=Date.now()}}function sg(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ag(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const lg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cg=/^https?/;async function ug(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Af(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(dg(r))return}catch(n){}pf(e,"unauthorized-domain")}function dg(e){const t=Sf(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!cg.test(n))return!1;if(lg.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hg=new Tf(3e4,6e4);function fg(){const e=Nm().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function pg(e){return new Promise((t,n)=>{var r,i,o;function s(){fg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fg(),n(mf(e,"network-request-failed"))},timeout:hg.get()})}if(null===(i=null===(r=Nm().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Nm().gapi)||void 0===o?void 0:o.load)){const t=Cp("iframefcb");return Nm()[t]=()=>{gapi.load?s():n(mf(e,"network-request-failed"))},Tp("".concat(_p.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}s()}}).catch(e=>{throw mg=null,e})}let mg=null;const gg=new Tf(5e3,15e3),vg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bg(e){const t=e.config;bf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Cf(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ln},i=yg.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(at(r).slice(1))}async function wg(e){const t=await function(e){return mg=mg||pg(e),mg}(e),n=Nm().gapi;return bf(n,e,"internal-error"),t.open({where:document.body,url:bg(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vg,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=mf(e,"network-request-failed"),o=Nm().setTimeout(()=>{r(i)},gg.get());function s(){Nm().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const xg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(QR){}}}function Eg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xg),{width:r.toString(),height:i.toString(),top:o,left:s}),c=$e().toLowerCase();n&&(a=dp(c)?"_blank":n),cp(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return gp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Sg(null);const d=window.open(t||"",a,u);bf(d,e,"popup-blocked");try{d.focus()}catch(QR){}return new Sg(d)}const kg="__/auth/handler",_g="emulator/auth/handler",Tg=encodeURIComponent("fac");async function Cg(e,t,n,r,i,o){bf(e.config.authDomain,e,"auth-domain-config-required"),bf(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ln,eventId:i};if(t instanceof Yp){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Xp){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Tg,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(kg);return Cf(t,_g)}(e),"?").concat(at(a).slice(1)).concat(c)}const Ng="webStorageSupport";const Ig=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=km,this._completeRedirectFn=ig,this._overrideRedirectResult=tg}async _openPopup(e,t,n,r){var i;xf(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Eg(e,await Cg(e,t,n,Sf(),r),Tm())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Nm().location.href=e}(await Cg(e,t,n,Sf(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xf(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await wg(e),n=new og(e);return t.register("authEvent",t=>{bf(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ng,{type:Ng},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ng];void 0!==i&&t(!!i),pf(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ug(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yp()||up()||gp()}};var jg="@firebase/auth",Og="1.10.8";class Pg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){bf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ag=We("authIdTokenMaxAge")||300;let Rg=null;function Lg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn();const t=On(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=On(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ot(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;pf(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ig,persistence:[Vm,bm,km]}),r=We("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ag)return;const r=null===t||void 0===t?void 0:t.token;Rg!==r&&(Rg=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ht(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){ht(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=Ue("auth");return o&&Lp(n,"http://".concat(o)),n}var Dg;!function(e){_p=e}({loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=mf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Dg="Browser",jn(new ft("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;bf(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:Dg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bp(Dg)},c=new Sp(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rp);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),jn(new ft("auth-internal",e=>(e=>new Pg(e))(Ep(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(jg,Og,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Dg)),Fn(jg,Og,"esm2017");const Mg="firebasestorage.googleapis.com",Fg="storageBucket";class Vg extends nt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Bg(e),"Firebase Storage: ".concat(t," (").concat(Bg(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vg.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Ug,zg;function Bg(e){return"storage/"+e}function Wg(){return new Vg(Ug.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Hg(){return new Vg(Ug.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qg(){return new Vg(Ug.CANCELED,"User canceled the upload/download.")}function Kg(e){return new Vg(Ug.INVALID_ARGUMENT,e)}function Gg(){return new Vg(Ug.APP_DELETED,"The Firebase app was deleted.")}function Qg(e){throw new Vg(Ug.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Ug||(Ug={}));class Yg{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Yg.makeFromUrl(e,t)}catch(QR){return new Yg(e,"")}if(""===n.path)return n;throw r=e,new Vg(Ug.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Mg?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Yg(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Vg(Ug.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Xg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function $g(e,t,n,r){if(r<t)throw Kg("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Kg("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Jg(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Zg(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function ev(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(zg||(zg={}));class tv{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new nv(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===zg.NO_ERROR,i=n.getStatus();if(!t||ev(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===zg.ABORT;return void e(!1,new nv(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new nv(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(QR){r(QR)}else if(null!==i){const e=Wg();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Gg():qg())}else{r(Hg())}};this.canceled_?t(0,new nv(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function h(){o&&clearTimeout(o)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nv{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function rv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class iv{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ov(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Vg(Ug.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Vg(Ug.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Vg(Ug.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Vg(Ug.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function sv(e){const t=ov(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new Vg(Ug.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}class av{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zg.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zg.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zg.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,i){if(this.sent_)throw Qg("cannot .send() more than once");if(qe(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(QR){return-1}}getResponse(){if(!this.sent_)throw Qg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class lv extends av{initXhr(){this.xhr_.responseType="text"}}function cv(){return new lv}class uv{constructor(e,t){this._service=e,this._location=t instanceof Yg?t:Yg.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new uv(e,t)}get root(){const e=new Yg(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Yg(this._location.bucket,e);return new uv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Vg(Ug.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function dv(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Jg(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new iv(n,"DELETE",function(e,t){},r);return i.successCodes=[200,204],i.errorHandler=sv(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,cv)}function hv(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Yg(e._location.bucket,n);return new uv(e.storage,r)}function fv(e,t){if(e instanceof gv){const n=e;if(null==n._bucket)throw new Vg(Ug.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fg+"' property when initializing the app?");const r=new uv(n,n._bucket);return null!=t?fv(r,t):r}return void 0!==t?hv(e,t):e}function pv(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof gv)return new uv(e,t);throw Kg("To use ref(service, url), the first argument must be a Storage instance.")}return fv(e,t)}function mv(e,t){const n=null===t||void 0===t?void 0:t[Fg];return null==n?null:Yg.makeFromBucketSpec(n,e)}class gv{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=Mg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Yg.makeFromBucketSpec(r,this._host):mv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Yg.makeFromBucketSpec(this._url,e):this._bucket=mv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$g("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$g("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uv(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Xg(Gg());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=Zg(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new tv(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,a)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const vv="@firebase/storage",yv="0.13.14",bv="storage";function wv(e){return dv(e=ht(e))}function xv(e,t){return pv(e=ht(e),t)}function Sv(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new gv(r,i,o,n,Ln)}jn(new ft(bv,Sv,"PUBLIC").setMultipleInstances(!0)),Fn(vv,yv,""),Fn(vv,yv,"esm2017");const Ev="@firebase/installations",kv="0.6.18",_v=1e4,Tv="w:".concat(kv),Cv="FIS_v2",Nv=36e5,Iv=new rt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jv(e){return e instanceof nt&&e.code.includes("request-failed")}function Ov(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Pv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Av(e,t){const n=(await t.json()).error;return Iv.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Rv(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Lv(e,t){let{refreshToken:n}=t;const r=Rv(e);return r.append("Authorization",function(e){return"".concat(Cv," ").concat(e)}(n)),r}async function Dv(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Mv(e){return new Promise(t=>{setTimeout(t,e)})}const Fv=/^[cdef][\w-]{21}$/;function Vv(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Fv.test(t)?t:""}catch(e){return""}}function Uv(e){return"".concat(e.appName,"!").concat(e.appId)}const zv=new Map;function Bv(e,t){const n=Uv(e);Wv(n,t),function(e,t){const n=qv();n&&n.postMessage({key:e,fid:t});Kv()}(n,t)}function Wv(e,t){const n=zv.get(e);if(n)for(const r of n)r(t)}let Hv=null;function qv(){return!Hv&&"BroadcastChannel"in self&&(Hv=new BroadcastChannel("[Firebase] FID Change"),Hv.onmessage=e=>{Wv(e.data.key,e.data.fid)}),Hv}function Kv(){0===zv.size&&Hv&&(Hv.close(),Hv=null)}const Gv="firebase-installations-store";let Qv=null;function Yv(){return Qv||(Qv=zt("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Gv)}})),Qv}async function Xv(e,t){const n=Uv(e),r=(await Yv()).transaction(Gv,"readwrite"),i=r.objectStore(Gv),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||Bv(e,t.fid),t}async function $v(e){const t=Uv(e),n=(await Yv()).transaction(Gv,"readwrite");await n.objectStore(Gv).delete(t),await n.done}async function Jv(e,t){const n=Uv(e),r=(await Yv()).transaction(Gv,"readwrite"),i=r.objectStore(Gv),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||Bv(e,s.fid),s}async function Zv(e){let t;const n=await Jv(e.appConfig,n=>{const r=function(e){const t=e||{fid:Vv(),registrationStatus:0};return ny(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Iv.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=Ov(n),s=Rv(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:Cv,appId:n.appId,sdkVersion:Tv},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await Dv(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Pv(e.authToken)}}throw await Av("Create Installation",u)}(e,t);return Xv(e.appConfig,n)}catch(QR){throw jv(QR)&&409===QR.customData.serverCode?await $v(e.appConfig):await Xv(e.appConfig,{fid:t.fid,registrationStatus:0}),QR}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ey(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ey(e){let t=await ty(e.appConfig);for(;1===t.registrationStatus;)await Mv(100),t=await ty(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Zv(e);return n||t}return t}function ty(e){return Jv(e,e=>{if(!e)throw Iv.create("installation-not-found");return ny(e)})}function ny(e){return 1===(t=e).registrationStatus&&t.registrationTime+_v<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function ry(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Ov(e),"/").concat(n,"/authTokens:generate")}(n,t),o=Lv(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:Tv,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await Dv(()=>fetch(i,l));if(c.ok){return Pv(await c.json())}throw await Av("Generate Auth Token",c)}async function iy(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Jv(e.appConfig,r=>{if(!sy(r))throw Iv.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Nv}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await oy(e.appConfig);for(;1===n.authToken.requestStatus;)await Mv(100),n=await oy(e.appConfig);const r=n.authToken;return 0===r.requestStatus?iy(e,t):r}(e,n),r;{if(!navigator.onLine)throw Iv.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await ry(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Xv(e.appConfig,r),n}catch(QR){if(!jv(QR)||401!==QR.customData.serverCode&&404!==QR.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Xv(e.appConfig,n)}else await $v(e.appConfig);throw QR}}(e,n),n}});return t?await t:r.authToken}function oy(e){return Jv(e,e=>{if(!sy(e))throw Iv.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+_v<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function sy(e){return void 0!==e&&2===e.registrationStatus}async function ay(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Zv(e);t&&await t}(n);return(await iy(n,t)).token}function ly(e){return Iv.create("missing-app-config-values",{valueName:e})}const cy="installations",uy=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ly("App Configuration");if(!e.name)throw ly("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ly(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:On(t,"heartbeat"),_delete:()=>Promise.resolve()}},dy=e=>{const t=On(e.getProvider("app").getImmediate(),cy).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Zv(t);return r?r.catch(console.error):iy(t).catch(console.error),n.fid}(t),getToken:e=>ay(t,e)}};jn(new ft(cy,uy,"PUBLIC")),jn(new ft("installations-internal",dy,"PRIVATE")),Fn(Ev,kv),Fn(Ev,kv,"esm2017");const hy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fy="google.c.a.c_id",py=1e4;var my,gy;function vy(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yy(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(my||(my={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(gy||(gy={}));const by="fcm_token_details_db",wy="fcm_token_object_Store";const xy="firebase-messaging-store";let Sy=null;function Ey(){return Sy||(Sy=zt("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(xy)}})),Sy}async function ky(e){const t=Ty(e),n=await Ey(),r=await n.transaction(xy).objectStore(xy).get(t);if(r)return r;{const t=await async function(e){if("databases"in indexedDB){const e=(await indexedDB.databases()).map(e=>e.name);if(!e.includes(by))return null}let t=null;return(await zt(by,5,{upgrade:async(n,r,i,o)=>{var s;if(r<2)return;if(!n.objectStoreNames.contains(wy))return;const a=o.objectStore(wy),l=await a.index("fcmSenderId").get(e);if(await a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"===typeof e.vapidKey?e.vapidKey:vy(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:vy(e.auth),p256dh:vy(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:vy(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:vy(e.auth),p256dh:vy(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:vy(e.vapidKey)}}}}})).close(),await Bt(by),await Bt("fcm_vapid_details_db"),await Bt("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await _y(e,t),t}}async function _y(e,t){const n=Ty(e),r=(await Ey()).transaction(xy,"readwrite");return await r.objectStore(xy).put(t,n),await r.done,t}function Ty(e){let{appConfig:t}=e;return t.appId}const Cy=new rt("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function Ny(e,t){const n={method:"DELETE",headers:await jy(e)};try{const r=await fetch("".concat(Iy(e.appConfig),"/").concat(t),n),i=await r.json();if(i.error){const e=i.error.message;throw Cy.create("token-unsubscribe-failed",{errorInfo:e})}}catch(r){throw Cy.create("token-unsubscribe-failed",{errorInfo:null===r||void 0===r?void 0:r.toString()})}}function Iy(e){let{projectId:t}=e;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}async function jy(e){let{appConfig:t,installations:n}=e;const r=await n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(r)})}function Oy(e){let{p256dh:t,auth:n,endpoint:r,vapidKey:i}=e;const o={web:{endpoint:r,auth:n,p256dh:t}};return i!==hy&&(o.web.applicationPubKey=i),o}async function Py(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yy(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:vy(t.getKey("auth")),p256dh:vy(t.getKey("p256dh"))},r=await ky(e.firebaseDependencies);if(r){if(function(e,t){const n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(r.subscriptionOptions,n))return Date.now()>=r.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await jy(e),r=Oy(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch("".concat(Iy(e.appConfig),"/").concat(t.token),i);o=await n.json()}catch(s){throw Cy.create("token-update-failed",{errorInfo:null===s||void 0===s?void 0:s.toString()})}if(o.error){const e=o.error.message;throw Cy.create("token-update-failed",{errorInfo:e})}if(!o.token)throw Cy.create("token-update-no-token");return o.token}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return await _y(e.firebaseDependencies,r),n}catch(QR){throw QR}}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Ny(e.firebaseDependencies,r.token)}catch(QR){console.warn(QR)}return Ry(e.firebaseDependencies,n)}return Ry(e.firebaseDependencies,n)}async function Ay(e){const t=await ky(e.firebaseDependencies);t&&(await Ny(e.firebaseDependencies,t.token),await async function(e){const t=Ty(e),n=(await Ey()).transaction(xy,"readwrite");await n.objectStore(xy).delete(t),await n.done}(e.firebaseDependencies));const n=await e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}async function Ry(e,t){const n=await async function(e,t){const n=await jy(e),r=Oy(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(Iy(e.appConfig),i);o=await t.json()}catch(s){throw Cy.create("token-subscribe-failed",{errorInfo:null===s||void 0===s?void 0:s.toString()})}if(o.error){const e=o.error.message;throw Cy.create("token-subscribe-failed",{errorInfo:e})}if(!o.token)throw Cy.create("token-subscribe-no-token");return o.token}(e,t),r={token:n,createTime:Date.now(),subscriptionOptions:t};return await _y(e,r),r.token}function Ly(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,o,s;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const l=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;l&&(e.fcmOptions.analyticsLabel=l)}(t,e),t}function Dy(e){return Cy.create("missing-app-config-values",{valueName:e})}!function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));n.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class My{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Dy("App Configuration Object");if(!e.name)throw Dy("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Dy(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Fy(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Service worker not registered after ".concat(py," ms"))),py),i=e.installing||e.waiting;e.active?(clearTimeout(r),t()):i?i.onstatechange=e=>{var n;"activated"===(null===(n=e.target)||void 0===n?void 0:n.state)&&(i.onstatechange=null,clearTimeout(r),t())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}(e.swRegistration)}catch(QR){throw Cy.create("failed-service-worker-registration",{browserErrorMessage:null===QR||void 0===QR?void 0:QR.message})}}async function Vy(e,t){if(!navigator)throw Cy.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw Cy.create("permission-blocked");return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=hy)}(e,null===t||void 0===t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await Fy(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Cy.create("invalid-sw-registration");e.swRegistration=t}}(e,null===t||void 0===t?void 0:t.serviceWorkerRegistration),Py(e)}async function Uy(e,t,n){const r=function(e){switch(e){case gy.NOTIFICATION_CLICKED:return"notification_open";case gy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[fy],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function zy(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===gy.PUSH_RECEIVED&&("function"===typeof e.onMessageHandler?e.onMessageHandler(Ly(n)):e.onMessageHandler.next(Ly(n)));const r=n.data;(function(e){return"object"===typeof e&&!!e&&fy in e})(r)&&"1"===r["google.c.a.e"]&&await Uy(e,n.messageType,r)}const By="@firebase/messaging",Wy="0.12.22",Hy=e=>{const t=new My(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>zy(t,e)),t},qy=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>Vy(t,e)}};async function Ky(){try{await tt()}catch(QR){return!1}return"undefined"!==typeof window&&et()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Gy(e){return async function(e){if(!navigator)throw Cy.create("only-available-in-window");return e.swRegistration||await Fy(e),Ay(e)}(e=ht(e))}function Qy(e,t){return function(e,t){if(!navigator)throw Cy.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}(e=ht(e),t)}jn(new ft("messaging",Hy,"PUBLIC")),jn(new ft("messaging-internal",qy,"PRIVATE")),Fn(By,Wy),Fn(By,Wy,"esm2017");const Yy=Dn({apiKey:"AIzaSyC9QoUe73KtgnSyGra7DAHC--DEshWsfUk",authDomain:"bukkus-88608.firebaseapp.com",projectId:"bukkus-88608",storageBucket:"bukkus-88608.appspot.com",messagingSenderId:"203399711426",appId:"1:203399711426:web:519f1264016a1271f2c95b",measurementId:"G-TE3JCS876H"}),Xy=function(e,t){const n="object"==typeof e?e:Mn(),r="string"==typeof e?e:t||xo,i=On(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=ze("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=Zr(e,Dd);const o=qe(t),s=e._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);o&&(Ke("https://".concat(l)),Xe("Firestore",!0)),s.host!==Ad&&s.host!==l&&vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!ot(c,a)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=dr.MOCK_USER;else{t=Ge(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new kr(Er.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new dr(o)}e._authCredentials=new Nr(new Tr(t,n))}}(i,...e)}return i}(Yy),$y=Lg(Yy),Jy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn(),t=arguments.length>1?arguments[1]:void 0;e=ht(e);const n=On(e,bv).getImmediate({identifier:t}),r=ze("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=qe(t);i&&(Ke("https://".concat(e.host,"/b")),Xe("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:Ge(o,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Yy),Zy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn();return Ky().then(e=>{if(!e)throw Cy.create("unsupported-browser")},e=>{throw Cy.create("indexed-db-unsupported")}),On(ht(e),"messaging").getImmediate()}(Yy);function eb(){const{pathname:e,search:n}=J(),r=(0,t.useRef)(e+n);return(0,t.useEffect)(()=>{const t=e+n;if(r.current!==t){const e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);(document.querySelector("main")||document.documentElement).scrollTo({top:0,left:0,behavior:e?"auto":"smooth"}),document.querySelectorAll(".overflow-auto, .overflow-y-auto, .overflow-x-auto").forEach(t=>{t.scrollTop>0&&t.scrollTo({top:0,left:0,behavior:e?"auto":"smooth"})}),r.current=t}},[e,n]),null}const tb=async()=>{if(!("serviceWorker"in navigator)||!("Notification"in window))return console.warn("Este navegador no soporta notificaciones push"),!1;return!!await Ky()||(console.warn("Firebase Messaging no es compatible con este navegador"),!1)},nb=async e=>{try{if(!await tb())return{success:!1,message:"Notificaciones no soportadas en este navegador"};const t=await Notification.requestPermission();if("denied"===t)return console.warn("El permiso de notificaciones fue denegado"),{success:!1,message:"Los permisos de notificaci\xf3n est\xe1n bloqueados. Por favor, desbloqu\xe9alos en la configuraci\xf3n de tu navegador."};if("granted"!==t)return console.warn("Permiso de notificaciones no concedido"),{success:!1,message:"No se pudo obtener el permiso para notificaciones"};const n=await async function(e,t){return Vy(e=ht(e),t)}(Zy,{vapidKey:"BOv93G7NS4nbtcMuFmSKzKHhM9fMtU9ns1nYiuL2FcvumGhGcbchMcvGGrr21oA48LFGmsTXpO1XipF9jqBRFAw"});return n?(console.log("\u2705 Token FCM obtenido:",n),await Zh(zd(Xy,"tokens",e),{token:n,timestamp:(new Date).toISOString()},{merge:!0}),{success:!0,message:"Notificaciones activadas correctamente",token:n}):(console.warn("\u26a0\ufe0f No se pudo obtener el token FCM"),{success:!1,message:"No se pudo generar el token de notificaciones"})}catch(t){console.error("\u274c Error al configurar notificaciones:",t);let e="Error al configurar notificaciones";return"messaging/permission-blocked"===t.code?e="Los permisos de notificaci\xf3n est\xe1n bloqueados. Por favor, desbloqu\xe9alos en la configuraci\xf3n de tu navegador.":"messaging/notifications-blocked"===t.code?e="Las notificaciones est\xe1n bloqueadas en tu navegador":"messaging/unsupported-browser"===t.code&&(e="Tu navegador no es compatible con las notificaciones push"),{success:!1,message:e,error:t.code||"unknown_error"}}};var rb=n(579);const ib=(0,t.createContext)(),ob=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(()=>{try{const e=localStorage.getItem("usuarioActivo");return e&&"undefined"!==e?JSON.parse(e):null}catch(e){return console.warn("\u26a0\ufe0f Error al parsear usuarioActivo desde localStorage:",e),null}}),[o,s]=(0,t.useState)(0),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)("todos"),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)([]),[v,y]=(0,t.useState)(!0),[b,w]=(0,t.useState)({soportadas:!1,activadas:!1,error:null}),[x,S]=(0,t.useState)(null),E=e=>{i(e),e?localStorage.setItem("usuarioActivo",JSON.stringify(e)):localStorage.removeItem("usuarioActivo")};(0,t.useEffect)(()=>{const e=Lg();let t=()=>{};const n=function(e,t,n,r){return ht(e).onAuthStateChanged(t,n,r)}(e,async e=>{y(!0),console.log("\ud83d\udd10 Verificando sesi\xf3n...");try{if(e){console.log("\u2705 Usuario autenticado:",e.email);const r=zd(Xy,"usuarios",e.uid);if(!(await Xh(r)).exists()){const t={id:e.uid,email:e.email,nombre:e.displayName||"",alias:(n=e.email,n.split("@")[0].toLowerCase().replace(/[^a-z0-9]/g,"")+Math.floor(100+900*Math.random())),ciudad:"",avatar:"",saldoTokens:0,favoritos:[],mision:"",bio:"",creadoEn:(new Date).toISOString()};await Zh(r,t),console.log("\ud83c\udd95 Usuario nuevo creado en Firestore.")}t=rf(r,async t=>{try{if(t.exists()){const n=t.data(),r=Nt({id:e.uid,email:e.email,nombre:e.displayName||e.email},n);console.log("\ud83d\udcc4 Usuario desde Firestore:",r),E(r),s(n.saldoTokens||0),l(Array.isArray(n.favoritos)?n.favoritos:[]),u(n.mision||"");if(await tb()){const t=await nb(e.uid);w({soportadas:!0,activadas:t.success,error:t.success?null:t.message})}else w({soportadas:!1,activadas:!1,error:"Notificaciones no soportadas en este navegador"})}else console.warn("\u26a0\ufe0f El documento del usuario no existe en Firestore.")}catch(n){console.error("\u274c Error en snapshot del usuario:",n)}})}else console.log("\ud83d\udeab Sesi\xf3n cerrada."),t(),E(null),s(0),l([]),u("")}catch(r){console.error("\u274c Error en onAuthStateChanged:",r)}finally{y(!1)}var n});return()=>{n(),t()}},[]);return(0,rb.jsx)(ib.Provider,{value:{usuarioActivo:r,setUsuarioActivo:E,saldoTokens:o,setSaldoTokens:s,favoritos:a,setFavoritos:l,misionActual:c,setMisionActual:u,tabActivo:d,setTabActivo:h,busqueda:f,setBusqueda:p,productos:m,actualizarProductos:e=>{g(e)},cargandoSesion:v,chatActivo:x,setChatActivo:S,notificaciones:b,toggleNotificaciones:async e=>{if(e){const e=await nb(null===r||void 0===r?void 0:r.id);return w(t=>Nt(Nt({},t),{},{activadas:e.success,error:e.success?null:e.message})),e}{const e=await(async e=>{try{return await tb()?(await Gy(Zy),await Zh(zd(Xy,"tokens",e),{token:null,disabled:!0,disabledAt:(new Date).toISOString()},{merge:!0}),{success:!0,message:"Notificaciones desactivadas correctamente"}):{success:!1,message:"Notificaciones no soportadas"}}catch(t){return console.error("\u274c Error al desactivar notificaciones:",t),{success:!1,message:"Error al desactivar notificaciones",error:t.code||"unknown_error"}}})(null===r||void 0===r?void 0:r.id);return w(t=>Nt(Nt({},t),{},{activadas:!1,error:e.success?null:"Error al desactivar notificaciones"})),e}}},children:n})};function sb(){const[e,n]=(0,t.useState)([]),r=async()=>{const e=(await Jh(Ud(Xy,"usuarios"))).docs.map(e=>Nt({id:e.id},e.data()));n(e)};(0,t.useEffect)(()=>{r()},[]);return(0,rb.jsxs)("div",{children:[(0,rb.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Usuarios registrados"}),(0,rb.jsx)("div",{className:"overflow-x-auto",children:(0,rb.jsxs)("table",{className:"min-w-full text-sm border",children:[(0,rb.jsx)("thead",{className:"bg-yellow-100 text-left",children:(0,rb.jsxs)("tr",{children:[(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Alias"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Email"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Ciudad"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Tel\xe9fono"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Saldo"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Acciones"})]})}),(0,rb.jsx)("tbody",{children:e.map(e=>{var t;return(0,rb.jsxs)("tr",{className:"border-t hover:bg-yellow-50",children:[(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.alias||"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.email||"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.ciudad||"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.telefono||"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:null!==(t=e.saldoTokens)&&void 0!==t?t:0}),(0,rb.jsxs)("td",{className:"px-3 py-2 border space-x-2",children:[(0,rb.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro que quer\xe9s eliminar este usuario?"))try{await tf(zd(Xy,"usuarios",e));const t=xv(Jy,"avatars/".concat(e));await wv(t).catch(()=>{console.warn("No se encontr\xf3 avatar, se contin\xfaa.")}),await r(),alert("\u2705 Usuario eliminado correctamente.")}catch(t){console.error("Error al eliminar usuario:",t),alert("\u274c Ocurri\xf3 un error al eliminar el usuario.")}})(e.id),className:"text-red-600 text-xs hover:underline",children:"Eliminar"}),(0,rb.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfResetear saldo a 0?"))try{await ef(zd(Xy,"usuarios",e),{saldoTokens:0}),await r(),alert("\ud83d\udcb0 Saldo reiniciado a 0.")}catch(t){console.error("Error al resetear saldo:",t),alert("\u274c No se pudo resetear el saldo.")}})(e.id),className:"text-blue-600 text-xs hover:underline",children:"Reset"})]})]},e.id)})})]})})]})}var ab={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lb=t.createContext&&t.createContext(ab),cb=["attr","size","title"];function ub(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(this,arguments)}function hb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hb(Object(n),!0).forEach(function(t){pb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mb(e){return e&&e.map((e,n)=>t.createElement(e.tag,fb({key:n},e.attr),mb(e.child)))}function gb(e){return n=>t.createElement(vb,db({attr:fb({},e.attr)},n),mb(e.child))}function vb(e){var n=n=>{var r,{attr:i,size:o,title:s}=e,a=ub(e,cb),l=o||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",db({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:r,style:fb(fb({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==lb?t.createElement(lb.Consumer,null,e=>n(e)):n(ab)}function yb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function bb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(e)}function wb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function xb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function Sb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function Eb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function kb(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"},child:[]}]})(e)}function _b(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0 128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80 192-35.8 192-80-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8 29.5 14.3 51.2 33.5 60 57.2z"},child:[]}]})(e)}function Tb(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Cb(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(e)}function Nb(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Ib(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function jb(e){return gb({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Ob(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function Pb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Ab(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Rb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(e)}function Lb(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(e)}function Db(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Mb(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Fb(e){return gb({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Vb(e){return gb({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(e)}function Ub(e){return gb({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function zb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Bb(e){return gb({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function Wb(e){return gb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Hb(e){return gb({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function qb(e){return gb({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(e)}function Kb(){const[e,n]=(0,t.useState)([]),r=async()=>{const e=(await Jh(Ud(Xy,"libros"))).docs.map(e=>Nt({id:e.id},e.data()));n(e)};(0,t.useEffect)(()=>{r()},[]);return(0,rb.jsxs)("div",{children:[(0,rb.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Libros publicados"}),(0,rb.jsx)("div",{className:"overflow-x-auto",children:(0,rb.jsxs)("table",{className:"min-w-full text-sm border",children:[(0,rb.jsx)("thead",{className:"bg-yellow-100 text-left",children:(0,rb.jsxs)("tr",{children:[(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"T\xedtulo"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Autor"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Alias"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Estado"}),(0,rb.jsx)("th",{className:"px-3 py-2 border text-center",children:"\u2b50"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Acciones"})]})}),(0,rb.jsx)("tbody",{children:e.map(e=>{var t;return(0,rb.jsxs)("tr",{className:"border-t hover:bg-yellow-50",children:[(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.nombre||"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.autor||"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:(null===(t=e.datosUsuario)||void 0===t?void 0:t.alias)||"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.estado||"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border text-center",children:(0,rb.jsx)("button",{onClick:()=>(async e=>{try{const t=!e.destacado;await ef(zd(Xy,"libros",e.id),{destacado:t}),n(n=>n.map(n=>n.id===e.id?Nt(Nt({},n),{},{destacado:t}):n))}catch(t){console.error("Error al actualizar destacado:",t),alert("\u274c No se pudo cambiar el estado destacado")}})(e),className:"text-xl ".concat(e.destacado?"text-yellow-400":"text-gray-400"," hover:scale-110 transition"),title:"Marcar como destacado",children:e.destacado?(0,rb.jsx)(Fb,{}):(0,rb.jsx)(qb,{})})}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:(0,rb.jsx)("button",{onClick:()=>(async e=>{if(window.confirm('\xbfEliminar el libro "'.concat(e.nombre||"sin t\xedtulo",'"?')))try{if(await tf(zd(Xy,"libros",e.id)),e.imagenes&&e.imagenes.length>0)for(const[t]of e.imagenes.entries()){const n=xv(Jy,"libros/".concat(e.id,"/img_").concat(t));await wv(n).catch(()=>{})}await r(),alert("\u2705 Libro eliminado")}catch(t){console.error("Error al eliminar libro:",t),alert("\u274c Error al eliminar libro")}})(e),className:"text-red-600 text-xs hover:underline",children:"Eliminar"})})]},e.id)})})]})})]})}function Gb(){const[e,n]=(0,t.useState)([]),r=async()=>{const e=(await Jh(Ud(Xy,"ofertas"))).docs.map(e=>Nt({id:e.id},e.data()));n(e)};(0,t.useEffect)(()=>{r()},[]);return(0,rb.jsxs)("div",{children:[(0,rb.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Ofertas realizadas"}),(0,rb.jsx)("div",{className:"overflow-x-auto",children:(0,rb.jsxs)("table",{className:"min-w-full text-sm border",children:[(0,rb.jsx)("thead",{className:"bg-yellow-100 text-left",children:(0,rb.jsxs)("tr",{children:[(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"ID"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"De"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Para"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Libro ID"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Estado"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Acciones"})]})}),(0,rb.jsx)("tbody",{children:e.map(e=>(0,rb.jsxs)("tr",{className:"border-t hover:bg-yellow-50",children:[(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.id}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.de}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.para}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.productoId}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.estado||"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:(0,rb.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEliminar esta oferta?"))try{await tf(zd(Xy,"ofertas",e.id)),await r(),alert("\u2705 Oferta eliminada")}catch(t){console.error("Error al eliminar oferta:",t),alert("\u274c Error al eliminar oferta")}})(e),className:"text-red-600 text-xs hover:underline",children:"Eliminar"})})]},e.id))})]})})]})}function Qb(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{const e=(await Jh(Ud(Xy,"usuarios"))).docs.map(e=>({id:e.id,alias:e.data().alias||"Sin alias",email:e.data().email||"Sin email"}));n(e)})()},[]);return(0,rb.jsxs)("div",{className:"max-w-md",children:[(0,rb.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recargar BUKKcoins"}),(0,rb.jsx)("label",{className:"block text-sm text-gray-600",children:"Seleccionar usuario"}),(0,rb.jsxs)("select",{className:"w-full border-b mb-4 bg-transparent outline-none",value:r,onChange:e=>i(e.target.value),children:[(0,rb.jsx)("option",{value:"",children:"-- Eleg\xed un usuario --"}),e.map(e=>(0,rb.jsxs)("option",{value:e.id,children:[e.alias," (",e.email,")"]},e.id))]}),(0,rb.jsx)("label",{className:"block text-sm text-gray-600",children:"Monto a recargar"}),(0,rb.jsx)("input",{type:"number",className:"w-full border-b mb-4 outline-none bg-transparent",value:o,onChange:e=>s(e.target.value),placeholder:"Ej: 50"}),(0,rb.jsx)("button",{onClick:async()=>{if(r&&o&&!isNaN(o)){l(!0);try{const e=zd(Xy,"usuarios",r),t=await Xh(e);if(!t.exists())return alert("\u274c Usuario no encontrado."),void l(!1);const n=t.data(),i=(n.saldoTokens||0)+Number(o);await ef(e,{saldoTokens:i}),await nf(Ud(Xy,"recargas"),{uid:r,monto:Number(o),fecha:new uh("serverTimestamp"),admin:"admin"}),alert("\u2705 Recarga exitosa. Nuevo saldo: ".concat(i," BUKKcoins")),s("")}catch(e){console.error("Error en recarga:",e),alert("\u274c Error al realizar la recarga.")}finally{l(!1)}}else alert("Seleccion\xe1 un usuario y un monto v\xe1lido.")},className:"bg-yellow-400 text-white px-6 py-2 rounded-full shadow hover:bg-yellow-500 transition-all disabled:opacity-50",disabled:a||!r||!o,children:a?"Cargando...":"Recargar"})]})}function Yb(){const[e,n]=(0,t.useState)([]);return(0,t.useEffect)(()=>{(async()=>{const e=jh(Ud(Xy,"recargas"),Lh("fecha","desc")),t=(await Jh(e)).docs.map(e=>Nt({id:e.id},e.data()));n(t)})()},[]),(0,rb.jsxs)("div",{children:[(0,rb.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Historial de recargas"}),(0,rb.jsx)("div",{className:"overflow-x-auto",children:(0,rb.jsxs)("table",{className:"min-w-full text-sm border",children:[(0,rb.jsx)("thead",{className:"bg-yellow-100 text-left",children:(0,rb.jsxs)("tr",{children:[(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Usuario UID"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Monto"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Fecha"}),(0,rb.jsx)("th",{className:"px-3 py-2 border",children:"Admin"})]})}),(0,rb.jsx)("tbody",{children:e.map(e=>{var t,n;return(0,rb.jsxs)("tr",{className:"border-t hover:bg-yellow-50",children:[(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.uid}),(0,rb.jsxs)("td",{className:"px-3 py-2 border",children:[e.monto," BUKK"]}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:null!==(t=null===(n=e.fecha)||void 0===n?void 0:n.toDate().toLocaleString())&&void 0!==t?t:"-"}),(0,rb.jsx)("td",{className:"px-3 py-2 border",children:e.admin||"admin"})]},e.id)})})]})})]})}const Xb=[{key:"usuarios",label:"Usuarios"},{key:"libros",label:"Libros"},{key:"ofertas",label:"Ofertas"},{key:"recargas",label:"Recargas"},{key:"recargasLog",label:"Historial"}];function $b(){const{usuarioActivo:e}=(0,t.useContext)(ib),[n,r]=(0,t.useState)("usuarios");return e?"admin"!==e.rol?(0,rb.jsx)("p",{className:"text-center mt-20 text-red-500",children:"Acceso no autorizado \u274c"}):(0,rb.jsxs)("div",{className:"max-w-5xl mx-auto p-4 md:p-8",children:[(0,rb.jsx)("h1",{className:"text-3xl font-semibold text-gray-800 mb-6",children:"Panel BuKKus"}),(0,rb.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:Xb.map(e=>(0,rb.jsx)("button",{onClick:()=>r(e.key),className:"px-4 py-2 rounded-full text-sm font-medium transition \n              ".concat(n===e.key?"bg-yellow-400 text-gray-900 shadow":"bg-gray-100 text-gray-600 hover:bg-yellow-100"),children:e.label},e.key))}),(0,rb.jsxs)("div",{className:"bg-cream rounded-xl shadow-md p-4 md:p-6",children:["usuarios"===n&&(0,rb.jsx)(sb,{}),"libros"===n&&(0,rb.jsx)(Kb,{}),"ofertas"===n&&(0,rb.jsx)(Gb,{}),"recargas"===n&&(0,rb.jsx)(Qb,{}),"recargasLog"===n&&(0,rb.jsx)(Yb,{})]})]}):(0,rb.jsx)("p",{className:"text-center mt-20 text-gray-500",children:"Cargando sesi\xf3n de administrador..."})}function Jb(){const[e,n]=(0,t.useState)(!0),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),{setUsuarioActivo:d}=(0,t.useContext)(ib),h=ee();return(0,rb.jsxs)("div",{className:"p-6 max-w-sm mx-auto",children:[(0,rb.jsx)("h2",{className:"text-2xl font-bold mb-4 text-yellow-600",children:e?"Registrar Admin":"Iniciar Sesi\xf3n Admin"}),e&&(0,rb.jsx)("input",{type:"text",placeholder:"Nombre completo",value:r,onChange:e=>i(e.target.value),className:"border p-2 w-full mb-2"}),(0,rb.jsx)("input",{type:"email",placeholder:"Correo electr\xf3nico",value:o,onChange:e=>s(e.target.value),className:"border p-2 w-full mb-2"}),(0,rb.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:a,onChange:e=>l(e.target.value),className:"border p-2 w-full mb-2"}),e&&(0,rb.jsx)("input",{type:"password",placeholder:"Clave secreta de admin",value:c,onChange:e=>u(e.target.value),className:"border p-2 w-full mb-4"}),(0,rb.jsx)("button",{onClick:e?async()=>{if(r&&o&&a&&c)if("BUKKUS2025"===c)try{const e=Lg(),t=(await dm(e,o,a)).user,n={id:t.uid,nombre:r,email:o,rol:"admin",creado:(new Date).toISOString()};await Zh(zd(Xy,"usuarios",t.uid),n),d(n),localStorage.setItem("usuarioActivo",JSON.stringify(n)),console.log("Admin registrado:",n),h("/admin")}catch(e){alert("Error al registrar el admin."),console.error("\ud83d\udd25 Error:",e)}else alert("Clave secreta incorrecta \u274c");else alert("Todos los campos son obligatorios.")}:async()=>{if(o&&a)try{const e=Lg(),t=(await hm(e,o,a)).user,n=await Xh(zd(Xy,"usuarios",t.uid));if(!n.exists())return void alert("No existe ese usuario.");const r=n.data();if("admin"!==r.rol)return void alert("No ten\xe9s permisos de administrador \u274c");const i=Nt({id:t.uid,email:t.email},r);d(i),localStorage.setItem("usuarioActivo",JSON.stringify(i)),h("/admin")}catch(e){alert("Error al iniciar sesi\xf3n. Verific\xe1 tus datos."),console.error("\ud83e\udde8 Error login:",e)}else alert("Ingres\xe1 email y contrase\xf1a.")},className:"bg-yellow-400 px-4 py-2 w-full rounded hover:bg-yellow-500 transition mb-2",children:e?"Crear administrador":"Ingresar"}),(0,rb.jsxs)("p",{className:"text-center text-sm text-gray-500",children:[e?"\xbfYa ten\xe9s cuenta?":"\xbfNo ten\xe9s cuenta?"," ",(0,rb.jsx)("button",{onClick:()=>{n(e=>!e),i(""),s(""),l(""),u("")},className:"text-yellow-600 underline ml-1",children:e?"Iniciar sesi\xf3n":"Registrarme"})]})]})}function Zb(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function ew(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function tw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function nw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function rw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function iw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function ow(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function sw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function aw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function lw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(e)}function cw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function uw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(e)}function dw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function hw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function fw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(e)}function pw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function mw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function gw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function vw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function yw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function bw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function ww(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function xw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function Sw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Ew(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(e)}function kw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function _w(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Tw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function Cw(e){return gb({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function Nw(e){var t;let{libro:n,onClose:r}=e;return n?(0,rb.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",children:(0,rb.jsxs)("div",{className:"relative bg-zinc-900 rounded-xl shadow-lg max-w-md w-full text-white overflow-hidden",children:[(0,rb.jsx)("button",{onClick:r,className:"absolute top-3 right-3 text-white hover:text-yellow-400 text-xl",children:(0,rb.jsx)(Cw,{})}),(0,rb.jsxs)("div",{className:"flex flex-col items-center p-5",children:[(0,rb.jsx)("img",{src:(null===(t=n.imagenes)||void 0===t?void 0:t[0])||"https://via.placeholder.com/180x270?text=Libro",alt:n.nombre,className:"w-[150px] h-[220px] object-cover rounded-md shadow-md mb-4"}),(0,rb.jsx)("h2",{className:"text-xl font-bold text-center mb-1",children:n.nombre||"Sin t\xedtulo"}),(0,rb.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:n.autor||"Autor desconocido"}),(0,rb.jsxs)("div",{className:"text-sm text-gray-400 space-y-1 text-left w-full px-2",children:[n.editorial&&(0,rb.jsxs)("p",{children:[(0,rb.jsx)("span",{className:"text-yellow-400",children:"Editorial:"})," ",n.editorial]}),n.anio&&(0,rb.jsxs)("p",{children:[(0,rb.jsx)("span",{className:"text-yellow-400",children:"A\xf1o:"})," ",n.anio]}),n.estado&&(0,rb.jsxs)("p",{children:[(0,rb.jsx)("span",{className:"text-yellow-400",children:"Estado:"})," ",n.estado]}),void 0!==n.valorToken&&(0,rb.jsxs)("p",{children:[(0,rb.jsx)("span",{className:"text-yellow-400",children:"Valor:"})," ",n.valorToken," BUKKcoins"]})]}),n.sinopsis&&(0,rb.jsx)("div",{className:"mt-4 text-sm text-gray-300 w-full px-2 max-h-[150px] overflow-y-auto",children:(0,rb.jsx)("p",{className:"leading-snug whitespace-pre-line",children:n.sinopsis})})]})]})}):null}var Iw=n(382);const jw=function(e){let{libros:t=[],onClickLibro:n}=e;const r=t.filter(e=>e.destacado);return 0===r.length?null:(0,rb.jsx)("div",{className:"w-full px-2 pt-4",children:(0,rb.jsx)(Iw.A,Nt(Nt({},{dots:!0,infinite:!0,speed:500,autoplay:!0,autoplaySpeed:6e3,slidesToShow:1,slidesToScroll:1,arrows:!1}),{},{className:"mb-5",children:r.map(e=>{var t;return(0,rb.jsxs)("div",{className:"relative w-full h-[200px] sm:h-[240px] rounded-xl overflow-hidden group cursor-pointer transition-transform duration-300 hover:scale-[1.015]",onClick:()=>n&&n(e),children:[(0,rb.jsx)("img",{src:(null===(t=e.imagenes)||void 0===t?void 0:t[0])||"https://via.placeholder.com/400x250?text=Libro",alt:e.nombre,className:"w-full h-full object-cover rounded-xl"}),(0,rb.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent rounded-xl"}),(0,rb.jsxs)("div",{className:"absolute bottom-4 left-4 text-white z-10",children:[(0,rb.jsx)("h2",{className:"text-xl sm:text-2xl font-bold drop-shadow-md",children:e.nombre}),(0,rb.jsx)("button",{className:"mt-2 px-4 py-[6px] bg-yellow-400 text-black text-sm font-semibold rounded-full hover:bg-yellow-300 transition-all",onClick:t=>{t.stopPropagation(),n&&n(e)},children:"Ver m\xe1s"})]})]},e.id)})}))})};function Ow(e){var n;let{libro:r,onClose:i,recargarProductos:o}=e;const[s,a]=(0,t.useState)(r.nombre||""),[l,c]=(0,t.useState)(r.autor||""),[u,d]=(0,t.useState)(r.editorial||""),[h,f]=(0,t.useState)(r.anio||""),[p,m]=(0,t.useState)(r.estadoLibro||""),[g,v]=(0,t.useState)(r.quiere||""),[y,b]=(0,t.useState)(r.genero||"Ficci\xf3n"),[w,x]=(0,t.useState)(r.sinopsis||""),[S,E]=(0,t.useState)(null);return(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsx)(Rw,{onClose:i,children:(0,rb.jsxs)("div",{className:"space-y-5",children:[(0,rb.jsx)("h2",{className:"text-center text-2xl font-bold text-[#f7b22a] mb-2",children:"\ud83d\udcda Editar publicaci\xf3n"}),(null===(n=r.imagenes)||void 0===n?void 0:n.length)>0&&(0,rb.jsx)("div",{className:"w-full flex justify-center",children:(0,rb.jsx)("img",{src:r.imagenes[0],alt:"Vista previa del libro",className:"rounded-xl max-h-52 object-contain shadow-lg mb-4"})}),(0,rb.jsx)(Pw,{texto:"T\xedtulo del libro",val:s,setVal:a,icon:(0,rb.jsx)(Zb,{}),placeholder:"Ej. El principito"}),(0,rb.jsx)(Pw,{texto:"Autor",val:l,setVal:c,icon:(0,rb.jsx)(_w,{}),placeholder:"Ej. Antoine de Saint-Exup\xe9ry"}),(0,rb.jsx)(Pw,{texto:"Editorial",val:u,setVal:d,icon:(0,rb.jsx)(lw,{}),placeholder:"Ej. Planeta"}),(0,rb.jsx)(Pw,{texto:"A\xf1o",val:h,setVal:f,icon:(0,rb.jsx)(ew,{}),type:"number",placeholder:"Ej. 1943"}),(0,rb.jsx)(Aw,{texto:"Estado del libro",val:p,setVal:m,opciones:["Usado","Muy usado","Subrayado"],icon:(0,rb.jsx)(gw,{})}),(0,rb.jsx)(Pw,{texto:"\xbfQu\xe9 quer\xe9s a cambio?",val:g,setVal:v,icon:(0,rb.jsx)(ow,{}),placeholder:"Ej. Otro libro, tokens..."}),(0,rb.jsx)(Aw,{texto:"G\xe9nero",val:y,setVal:b,opciones:["Ficci\xf3n","No ficci\xf3n","Poes\xeda","Biograf\xeda","Autoayuda"],icon:(0,rb.jsx)(aw,{})}),(0,rb.jsxs)("div",{children:[(0,rb.jsx)("label",{className:"text-sm font-semibold mb-1 block",children:"\ud83d\udcd6 Sinopsis"}),(0,rb.jsx)("textarea",{value:w,onChange:e=>x(e.target.value),className:"input-bukkus resize-none text-sm",rows:6,placeholder:"Contanos brevemente de qu\xe9 trata el libro..."})]}),(0,rb.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between gap-3 pt-6 border-t mt-4",children:[(0,rb.jsxs)("button",{onClick:()=>E("confirmar"),className:"flex items-center justify-center gap-2 bg-red-100 text-red-600 hover:bg-red-200 px-4 py-2 rounded-full text-sm transition",children:[(0,rb.jsx)(Sw,{})," Eliminar publicaci\xf3n"]}),(0,rb.jsxs)("button",{onClick:async()=>{try{await ef(zd(Xy,"libros",r.id),{nombre:s,autor:l,editorial:u,anio:h,estadoLibro:p,quiere:g,genero:y,sinopsis:w}),E("exito"),null===o||void 0===o||o(),setTimeout(()=>{E(null),null===i||void 0===i||i()},2e3)}catch(QR){E("error")}},className:"flex items-center justify-center gap-2 bg-[#f7b22a] text-black px-4 py-2 rounded-full shadow hover:bg-yellow-400 text-sm transition",children:[(0,rb.jsx)(vw,{})," Guardar cambios"]})]})]})}),"confirmar"===S&&(0,rb.jsxs)(Rw,{onClose:()=>E(null),children:[(0,rb.jsx)("p",{className:"text-center text-lg font-medium text-gray-800",children:"\xbfEliminar esta publicaci\xf3n?"}),(0,rb.jsx)("div",{className:"flex justify-center mt-5",children:(0,rb.jsx)("button",{onClick:async()=>{try{await tf(zd(Xy,"libros",r.id)),null===o||void 0===o||o(),null===i||void 0===i||i()}catch(QR){E("error")}},className:"bg-red-600 text-white px-5 py-2 rounded-full text-sm hover:bg-red-700 transition",children:"Confirmar eliminaci\xf3n"})})]}),"exito"===S&&(0,rb.jsx)(Rw,{onClose:()=>{E(null),null===i||void 0===i||i()},children:(0,rb.jsx)("p",{className:"text-center text-green-700 text-lg",children:"\u2705 Cambios guardados correctamente"})}),"error"===S&&(0,rb.jsx)(Rw,{onClose:()=>E(null),children:(0,rb.jsx)("p",{className:"text-center text-red-700 text-lg",children:"\u274c Ocurri\xf3 un error al guardar o eliminar"})})]})}function Pw(e){let{texto:t,val:n,setVal:r,icon:i,placeholder:o,type:s="text"}=e;return(0,rb.jsxs)("div",{children:[(0,rb.jsxs)("label",{className:"text-sm font-semibold flex items-center gap-2 mb-1",children:[i," ",t]}),(0,rb.jsx)("input",{type:s,value:n,onChange:e=>r(e.target.value),placeholder:o,className:"input-bukkus"})]})}function Aw(e){let{texto:t,val:n,setVal:r,opciones:i,icon:o}=e;return(0,rb.jsxs)("div",{children:[(0,rb.jsxs)("label",{className:"text-sm font-semibold flex items-center gap-2 mb-1",children:[o," ",t]}),(0,rb.jsxs)("select",{value:n,onChange:e=>r(e.target.value),className:"input-bukkus",children:[(0,rb.jsx)("option",{value:"",children:"Seleccionar"}),i.map((e,t)=>(0,rb.jsx)("option",{value:e,children:e},t))]})]})}function Rw(e){let{children:t,onClose:n}=e;return(0,rb.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center overflow-auto p-4",children:(0,rb.jsxs)("div",{className:"relative w-full max-w-xl bg-white rounded-2xl shadow-lg p-6 max-h-[90vh] overflow-y-auto",children:[(0,rb.jsx)("button",{onClick:n,className:"absolute top-3 right-4 text-gray-400 hover:text-gray-600 text-xl",children:"\xd7"}),t]})})}var Lw,Dw,Mw=n(47);function Fw(e,t){return e+Math.random()*(t-e)}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(Lw||(Lw={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(Dw||(Dw={}));const Vw=1e3/60;class Uw{constructor(e,t,n,r){this.getOptions=t;const{colors:i,initialVelocityX:o,initialVelocityY:s}=this.getOptions();var a,l;this.context=e,this.x=n,this.y=r,this.w=Fw(5,20),this.h=Fw(5,20),this.radius=Fw(5,10),this.vx="number"===typeof o?Fw(-o,o):Fw(o.min,o.max),this.vy="number"===typeof s?Fw(-s,0):Fw(s.min,s.max),this.shape=(a=0,l=2,Math.floor(a+Math.random()*(l-a+1))),this.angle=function(e){return e*Math.PI/180}(Fw(0,360)),this.angularSpin=Fw(-.2,.2),this.color=i[Math.floor(Math.random()*i.length)],this.rotateY=Fw(0,1),this.rotationDirection=Fw(0,1)?Dw.Positive:Dw.Negative}update(e){const{gravity:t,wind:n,friction:r,opacity:i,drawShape:o}=this.getOptions(),s=e/Vw;this.x+=this.vx*s,this.y+=this.vy*s,this.vy+=t*s,this.vx+=n*s,this.vx*=r**s,this.vy*=r**s,this.rotateY>=1&&this.rotationDirection===Dw.Positive?this.rotationDirection=Dw.Negative:this.rotateY<=-1&&this.rotationDirection===Dw.Negative&&(this.rotationDirection=Dw.Positive);const a=.1*this.rotationDirection*s;if(this.rotateY+=a,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=i,this.context.lineCap="round",this.context.lineWidth=2,o&&"function"===typeof o)o.call(this,this.context);else switch(this.shape){case Lw.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case Lw.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case Lw.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}class zw{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=e=>{this.particles.splice(e,1)},this.getParticle=()=>{const e=Fw(this.x,this.w+this.x),t=Fw(this.y,this.h+this.y);return new Uw(this.context,this.getOptions,e,t)},this.animate=e=>{const{canvas:t,context:n,particlesGenerated:r,lastNumberOfPieces:i}=this,{run:o,recycle:s,numberOfPieces:a,debug:l,tweenFunction:c,tweenDuration:u}=this.getOptions();if(!o)return!1;const d=this.particles.length,h=s?d:r;if(h<a){i!==a&&(this.tweenProgress=0,this.tweenFrom=h,this.lastNumberOfPieces=a),this.tweenProgress=Math.min(u,Math.max(0,this.tweenProgress+e));const t=c(this.tweenProgress,this.tweenFrom,a,u),n=Math.round(t-h);for(let e=0;e<n;e++)this.particles.push(this.getParticle());this.particlesGenerated+=n}l&&(n.font="12px sans-serif",n.fillStyle="#333",n.textAlign="right",n.fillText("Particles: ".concat(d),t.width-10,t.height-20));for(let f=this.particles.length-1;f>=0;f--){const n=this.particles[f];n.update(e),(n.y>t.height||n.y<-100||n.x>t.width+100||n.x<-100)&&(s&&h<=a?this.particles[f]=this.getParticle():this.removeParticleAt(f))}return d>0||h<a},this.canvas=e;const n=this.canvas.getContext("2d");if(!n)throw new Error("Could not get canvas context");this.context=n,this.getOptions=t}}const Bw={width:"undefined"!==typeof window?window.innerWidth:300,height:"undefined"!==typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:Mw.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};class Ww{constructor(e,t){var n=this;this.lastFrameTime=0,this.setOptionsWithDefaults=e=>{const t={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options=Nt(Nt(Nt({},t),Bw),e),Object.assign(this,e.confettiSource)},this.update=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{options:{run:t,onConfettiComplete:r,frameRate:i},canvas:o,context:s}=n,a=Math.min(e-n.lastFrameTime,50);i&&a<1e3/i?n.rafId=requestAnimationFrame(n.update):(n.lastFrameTime=e-(i?a%i:0),t&&(s.fillStyle="white",s.clearRect(0,0,o.width,o.height)),n.generator.animate(a)?n.rafId=requestAnimationFrame(n.update):(r&&"function"===typeof r&&n.generator.particlesGenerated>0&&r.call(n,n),n._options.run=!1))},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const r=this.canvas.getContext("2d");if(!r)throw new Error("Could not get canvas context");this.context=r,this.generator=new zw(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){var t,n;const r=null===(t=this._options)||void 0===t?void 0:t.run,i=null===(n=this._options)||void 0===n?void 0:n.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"===typeof e.recycle&&e.recycle&&!1===i&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"===typeof e.run&&e.run&&!1===r&&this.update()}}const Hw=t.createRef();class qw extends t.Component{constructor(e){super(e),this.canvas=t.createRef(),this.canvas=e.canvasRef||Hw}componentDidMount(){if(this.canvas.current){const e=Kw(this.props)[0];this.confetti=new Ww(this.canvas.current,e)}}componentDidUpdate(){const e=Kw(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=Kw(this.props),n=Nt({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},t.style);return(0,rb.jsx)("canvas",Nt(Nt({width:e.width,height:e.height,ref:this.canvas},t),{},{style:n}))}}function Kw(e){const t={},n={},r=[...Object.keys(Bw),"confettiSource","drawShape","onConfettiComplete","frameRate"],i=["canvasRef"];for(const o in e){const s=e[o];r.includes(o)?t[o]=s:i.includes(o)?i[o]=s:n[o]=s}return[t,n,{}]}qw.defaultProps=Nt({},Bw),qw.displayName="ReactConfetti";const Gw=t.forwardRef((e,t)=>(0,rb.jsx)(qw,Nt({canvasRef:t},e)));function Qw(e){let{size:t=40}=e;return(0,rb.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,rb.jsx)("img",{src:"/icon_bukkus_yellow.png",alt:"BuKKus logo",style:{width:t,height:t},className:"object-contain"}),(0,rb.jsxs)("h1",{className:"logo-bukkus text-2xl font-bold leading-none",children:["BU",(0,rb.jsx)("span",{className:"inline-block transform -scale-x-100",children:"K"}),"KUS"]})]})}function Yw(e){let{onClose:n,loading:r}=e;const[i,o]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),g=function(){const[e,n]=(0,t.useState)({width:0,height:0});return(0,t.useEffect)(()=>{const e=()=>{n({width:window.innerWidth,height:window.innerHeight})};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),e}(),v=[{nombre:"La Calera",lat:-31.3545,lng:-64.3263},{nombre:"Villa Allende",lat:-31.2875,lng:-64.2945},{nombre:"Mendiolaza",lat:-31.2446,lng:-64.2851},{nombre:"Unquillo",lat:-31.2468,lng:-64.3116},{nombre:"La Falda",lat:-31.0955,lng:-64.4892},{nombre:"Villa Carlos Paz",lat:-31.4241,lng:-64.4978},{nombre:"Villa del Lago",lat:-31.39,lng:-64.5035},{nombre:"Icho Cruz",lat:-31.4675,lng:-64.5561},{nombre:"San Antonio de Arredondo",lat:-31.4713,lng:-64.5498},{nombre:"Mayu Sumaj",lat:-31.4855,lng:-64.5534},{nombre:"Cuesta Blanca",lat:-31.5093,lng:-64.5472},{nombre:"Tala Huasi",lat:-31.5214,lng:-64.5453},{nombre:"Villa Independencia",lat:-31.4327,lng:-64.505},{nombre:"Parque Siquiman",lat:-31.3706,lng:-64.4869},{nombre:"Bialet Mass\xe9",lat:-31.3237,lng:-64.4848},{nombre:"Santa Mar\xeda de Punilla",lat:-31.2877,lng:-64.4708},{nombre:"Cosqu\xedn",lat:-31.2484,lng:-64.4605},{nombre:"Molinari",lat:-31.2125,lng:-64.4487},{nombre:"Casa Grande",lat:-31.1694,lng:-64.4639},{nombre:"Valle Hermoso",lat:-31.1376,lng:-64.4946},{nombre:"La Falda",lat:-31.0955,lng:-64.4892},{nombre:"Huerta Grande",lat:-31.0866,lng:-64.4871},{nombre:"Villa Giardino",lat:-31.0291,lng:-64.4856},{nombre:"Capilla del Monte",lat:-30.8551,lng:-64.5269}],y=-31.4167,b=-64.1833;function w(e,t,n,r){const i=e=>e*Math.PI/180,o=i(n-e),s=i(r-t),a=Math.sin(o/2)**2+Math.cos(i(e))*Math.cos(i(n))*Math.sin(s/2)**2;return 6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}return(0,rb.jsxs)("div",{className:"min-h-screen flex items-center justify-center px-4 py-6",children:[(0,rb.jsxs)("div",{className:"w-full bg-cream/95 backdrop-blur-md rounded-3xl shadow-2xl p-4 sm:p-12 border border-gray-100",children:[(0,rb.jsxs)("div",{className:"flex flex-col items-center mb-6",children:[(0,rb.jsx)(Qw,{size:80}),(0,rb.jsx)("p",{className:"text-gray-500 text-center text-base mt-1",children:"Intercambi\xe1 libros. Conect\xe1 personas. Inspir\xe1 historias."})]}),(0,rb.jsxs)("form",{className:"space-y-5",onSubmit:h?async e=>{e.preventDefault(),d(""),navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{const{latitude:t,longitude:r}=e.coords,o=v.some(e=>w(t,r,e.lat,e.lng)<=8),a=w(t,r,y,b)<15;if(o&&!a)try{const e=await dm($y,i,l);await fm(e.user,{displayName:s}),await Zh(zd(Xy,"usuarios",e.user.uid),{id:e.user.uid,nombre:s,email:e.user.email,avatar:e.user.photoURL||"https://i.pravatar.cc/29?=default",telefono:"",ciudad:"",bio:"",genero:"",tipoCuenta:"free",favoritos:[],mision:"",saldoTokens:0,ubicacion:{lat:t,lng:r},fechaRegistro:(new Date).toISOString()}),m(!0),setTimeout(()=>{m(!1),n&&n()},3500)}catch(c){d("No se pudo registrar: "+(c.message||c.code))}else d("Solo se permite el registro en zonas cercanas a Carlos Paz, excluyendo C\xf3rdoba Capital.")},()=>{d("No se pudo obtener tu ubicaci\xf3n. Permit\xed el acceso para registrarte.")}):d("Tu navegador no soporta geolocalizaci\xf3n.")}:async e=>{e.preventDefault(),d(""),navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{const{latitude:t,longitude:r}=e.coords,o=v.some(e=>w(t,r,e.lat,e.lng)<=8),s=w(t,r,y,b)<15;if(o&&!s)try{await hm($y,i,l),n&&n()}catch(a){d("Email o contrase\xf1a inv\xe1lidos")}else d("Tu cuenta est\xe1 fuera del \xe1rea permitida para iniciar sesi\xf3n.")},()=>{d("No se pudo obtener tu ubicaci\xf3n. Permit\xed el acceso para iniciar sesi\xf3n.")}):d("Tu navegador no soporta geolocalizaci\xf3n.")},children:[h&&(0,rb.jsxs)("div",{className:"relative",children:[(0,rb.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:(0,rb.jsx)(Wb,{className:"w-4 h-4"})}),(0,rb.jsx)("input",{type:"text",placeholder:"Tu nombre",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm",value:s,onChange:e=>a(e.target.value),required:!0})]}),(0,rb.jsxs)("div",{className:"relative",children:[(0,rb.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:(0,rb.jsx)(Tb,{className:"w-4 h-4"})}),(0,rb.jsx)("input",{type:"email",placeholder:"Email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm",value:i,onChange:e=>o(e.target.value),required:!0})]}),(0,rb.jsxs)("div",{className:"relative",children:[(0,rb.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:(0,rb.jsx)(Ib,{className:"w-4 h-4"})}),(0,rb.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 text-sm",value:l,onChange:e=>c(e.target.value),required:!0})]}),u&&(0,rb.jsx)("p",{className:"text-red-500 text-sm text-center",children:u}),(0,rb.jsx)("button",{type:"submit",className:"w-full bg-[#f7b22a] text-black font-bold py-3 rounded-xl shadow hover:bg-[#f7b22a] transition-all",disabled:r,children:h?"Registrarse":"Ingresar"})]}),(0,rb.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-600",children:[h?"\xbfYa ten\xe9s cuenta?":"\xbfNo ten\xe9s cuenta?",(0,rb.jsx)("button",{type:"button",onClick:()=>f(e=>!e),className:"ml-2 text-yellow-600 font-semibold hover:underline",disabled:r,children:h?"Ingresar":"Crear cuenta"})]})]}),p&&(0,rb.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,rb.jsxs)("div",{className:"bg-cream rounded-3xl shadow-2xl p-10 flex flex-col items-center relative min-w-[320px]",children:[g.width>0&&g.height>0&&(0,rb.jsx)(Gw,{width:g.width,height:g.height,numberOfPieces:200,recycle:!1,gravity:.25,style:{position:"fixed",top:0,left:0,zIndex:1e3}}),(0,rb.jsx)(Qw,{size:80}),(0,rb.jsx)("h2",{className:"text-2xl font-bold text-yellow-600 mb-2",children:"\xa1Bienvenido/a a BUKKUS!"}),(0,rb.jsxs)("p",{className:"text-gray-700 text-center mb-2",children:["Tu cuenta fue creada con \xe9xito.",(0,rb.jsx)("br",{}),"\xa1Comenz\xe1 a intercambiar libros y conectar!"]}),(0,rb.jsx)("span",{className:"text-4xl mt-2 animate-bounce",children:"\ud83c\udf89"})]})})]})}function Xw(e){let{isOpen:n,onClose:r,children:i}=e;if((0,t.useEffect)(()=>{if(!n)return;const e=e=>{"Escape"===e.key&&r()},t=document.querySelector("body");return document.addEventListener("keydown",e),t.classList.add("overflow-hidden"),()=>{document.removeEventListener("keydown",e),t.classList.remove("overflow-hidden")}},[n,r]),!n)return null;const s=document.getElementById("modal-root");return s?o.createPortal((0,rb.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fadeIn px-2",onClick:e=>{e.target===e.currentTarget&&r()},role:"dialog","aria-modal":"true",children:(0,rb.jsxs)("div",{className:"bg-zinc-900 rounded-2xl shadow-xl max-w-md w-full p-6 relative text-white",children:[(0,rb.jsx)("button",{onClick:r,className:"absolute top-3 right-4 text-white hover:text-yellow-400 text-xl font-bold","aria-label":"Cerrar",children:"\u2715"}),i]})}),s):null}function $w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jw(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Jw(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const Zw=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Jw(e))&&(r&&(r+=" "),r+=t);return r},ex=["theme","type"],tx=["delay","staleId"],nx=e=>"number"==typeof e&&!isNaN(e),rx=e=>"string"==typeof e,ix=e=>"function"==typeof e,ox=e=>rx(e)||ix(e)?e:null,sx=e=>(0,t.isValidElement)(e)||rx(e)||ix(e)||nx(e);function ax(e){let{enter:n,exit:r,appendPosition:i=!1,collapse:o=!0,collapseDuration:s=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h}=e;const f=i?"".concat(n,"--").concat(l):n,p=i?"".concat(r,"--").concat(l):r,m=(0,t.useRef)(0);return(0,t.useLayoutEffect)(()=>{const e=d.current,t=f.split(" "),n=r=>{r.target===d.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,t.useEffect)(()=>{const e=d.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,u,s):u()};h||(c?t():(m.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))},[h]),t.createElement(t.Fragment,null,a)}}function lx(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const cx={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(e=>e!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},ux=e=>{let{theme:n,type:r}=e,i=$w(e,ex);return t.createElement("svg",Nt({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},i))},dx={info:function(e){return t.createElement(ux,Nt({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(ux,Nt({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(ux,Nt({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(ux,Nt({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function hx(e){const[,n]=(0,t.useReducer)(e=>e+1,0),[r,i]=(0,t.useState)([]),o=(0,t.useRef)(null),s=(0,t.useRef)(new Map).current,a=e=>-1!==r.indexOf(e),l=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:e=>s.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=l.props;!n||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function u(e){i(t=>null==e?[]:t.filter(t=>t!==e))}function d(){const{toastContent:e,toastProps:t,staleId:n}=l.queue.shift();f(e,t,n)}function h(e,r){let{delay:i,staleId:a}=r,c=$w(r,tx);if(!sx(e)||function(e){return!o.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||s.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:h,updateId:p,data:m}=c,{props:g}=l,v=()=>u(h),y=null==p;y&&l.count++;const b=Nt(Nt(Nt({},g),{},{style:g.toastStyle,key:l.toastKey++},Object.fromEntries(Object.entries(c).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:h,updateId:p,data:m,closeToast:v,isIn:!1,className:ox(c.className||g.toastClassName),bodyClassName:ox(c.bodyClassName||g.bodyClassName),progressClassName:ox(c.progressClassName||g.progressClassName),autoClose:!c.isLoading&&(w=c.autoClose,x=g.autoClose,!1===w||nx(w)&&w>0?w:x),deleteToast(){const e=lx(s.get(h),"removed");s.delete(h),cx.emit(4,e);const t=l.queue.length;if(l.count=null==h?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),t>0){const e=null==h?l.props.limit:1;if(1===t||1===e)l.displayedToast++,d();else{const n=e>t?t:e;l.displayedToast=n;for(let e=0;e<n;e++)d()}}else n()}});var w,x;b.iconOut=function(e){let{theme:n,type:r,isLoading:i,icon:o}=e,s=null;const a={theme:n,type:r};return!1===o||(ix(o)?s=o(a):(0,t.isValidElement)(o)?s=(0,t.cloneElement)(o,a):rx(o)||nx(o)?s=o:i?s=dx.spinner():(e=>e in dx)(r)&&(s=dx[r](a))),s}(b),ix(c.onOpen)&&(b.onOpen=c.onOpen),ix(c.onClose)&&(b.onClose=c.onClose),b.closeButton=g.closeButton,!1===c.closeButton||sx(c.closeButton)?b.closeButton=c.closeButton:!0===c.closeButton&&(b.closeButton=!sx(g.closeButton)||g.closeButton);let S=e;(0,t.isValidElement)(e)&&!rx(e.type)?S=(0,t.cloneElement)(e,{closeToast:v,toastProps:b,data:m}):ix(e)&&(S=e({closeToast:v,toastProps:b,data:m})),g.limit&&g.limit>0&&l.count>g.limit&&y?l.queue.push({toastContent:S,toastProps:b,staleId:a}):nx(i)?setTimeout(()=>{f(S,b,a)},i):f(S,b,a)}function f(e,t,n){const{toastId:r}=t;n&&s.delete(n);const o={content:e,props:t};s.set(r,o),i(e=>[...e,r].filter(e=>e!==n)),cx.emit(4,lx(o,null==o.props.updateId?"added":"updated"))}return(0,t.useEffect)(()=>(l.containerId=e.containerId,cx.cancelEmit(3).on(0,h).on(1,e=>o.current&&u(e)).on(5,c).emit(2,l),()=>{s.clear(),cx.emit(3,l)}),[]),(0,t.useEffect)(()=>{l.props=e,l.isToastActive=a,l.displayedToast=r.length}),{getToastToRender:function(t){const n=new Map,r=Array.from(s.values());return e.newestOnTop&&r.reverse(),r.forEach(e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},containerRef:o,isToastActive:a}}function fx(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function px(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function mx(e){const[n,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),s=(0,t.useRef)(null),a=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,t.useRef)(e),{autoClose:c,pauseOnHover:u,closeToast:d,onClick:h,closeOnClick:f}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),document.addEventListener("touchmove",y),document.addEventListener("touchend",b);const n=s.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=n.getBoundingClientRect(),n.style.transition="",a.x=fx(t.nativeEvent),a.y=px(t.nativeEvent),"x"===e.draggableDirection?(a.start=a.x,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(t){if(a.boundingRect){const{top:n,bottom:r,left:i,right:o}=a.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&a.x>=i&&a.x<=o&&a.y>=n&&a.y<=r?v():g()}}function g(){r(!0)}function v(){r(!1)}function y(t){const r=s.current;a.canDrag&&r&&(a.didMove=!0,n&&v(),a.x=fx(t),a.y=px(t),a.delta="x"===e.draggableDirection?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),r.style.transform="translate".concat(e.draggableDirection,"(").concat(a.delta,"px)"),r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function b(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",b);const t=s.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,t.useEffect)(()=>{l.current=e}),(0,t.useEffect)(()=>(s.current&&s.current.addEventListener("d",g,{once:!0}),ix(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;ix(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}),[]),(0,t.useEffect)(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||v(),window.addEventListener("focus",g),window.addEventListener("blur",v)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",v))}),[e.pauseOnFocusLoss]);const w={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return c&&u&&(w.onMouseEnter=v,w.onMouseLeave=g),f&&(w.onClick=e=>{h&&h(e),a.canCloseOnClick&&d()}),{playToast:g,pauseToast:v,isRunning:n,preventExitTransition:i,toastRef:s,eventHandlers:w}}function gx(e){let{closeToast:n,theme:r,ariaLabel:i="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),n(e)},"aria-label":i},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function vx(e){let{delay:n,isRunning:r,closeToast:i,type:o="default",hide:s,className:a,style:l,controlledProgress:c,progress:u,rtl:d,isIn:h,theme:f}=e;const p=s||c&&0===u,m=Nt(Nt({},l),{},{animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused",opacity:p?0:1});c&&(m.transform="scaleX(".concat(u,")"));const g=Zw("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":d}),v=ix(a)?a({rtl:d,type:o,defaultClassName:g}):Zw(g,a);return t.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:m,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&i()}})}const yx=e=>{const{isRunning:n,preventExitTransition:r,toastRef:i,eventHandlers:o}=mx(e),{closeButton:s,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:f,position:p,className:m,style:g,bodyClassName:v,bodyStyle:y,progressClassName:b,progressStyle:w,updateId:x,role:S,progress:E,rtl:k,toastId:_,deleteToast:T,isIn:C,isLoading:N,iconOut:I,closeOnClick:j,theme:O}=e,P=Zw("Toastify__toast","Toastify__toast-theme--".concat(O),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":j}),A=ix(m)?m({rtl:k,position:p,type:u,defaultClassName:P}):Zw(P,m),R=!!E||!l,L={closeToast:h,type:u,theme:O};let D=null;return!1===s||(D=ix(s)?s(L):(0,t.isValidElement)(s)?(0,t.cloneElement)(s,L):gx(L)),t.createElement(f,{isIn:C,done:T,position:p,preventExitTransition:r,nodeRef:i},t.createElement("div",Nt(Nt({id:_,onClick:c,className:A},o),{},{style:g,ref:i}),t.createElement("div",Nt(Nt({},C&&{role:S}),{},{className:ix(v)?v({type:u}):Zw("Toastify__toast-body",v),style:y}),null!=I&&t.createElement("div",{className:Zw("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},I),t.createElement("div",null,a)),D,t.createElement(vx,Nt(Nt({},x&&!R?{key:"pb-".concat(x)}:{}),{},{rtl:k,theme:O,delay:l,isRunning:n,isIn:C,closeToast:h,hide:d,type:u,style:w,className:b,controlledProgress:R,progress:E||0}))))},bx=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},wx=ax(bx("bounce",!0)),xx=(ax(bx("slide",!0)),ax(bx("zoom")),ax(bx("flip")),(0,t.forwardRef)((e,n)=>{const{getToastToRender:r,containerRef:i,isToastActive:o}=hx(e),{className:s,style:a,rtl:l,containerId:c}=e;function u(e){const t=Zw("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":l});return ix(s)?s({position:e,rtl:l,defaultClassName:t}):Zw(t,ox(s))}return(0,t.useEffect)(()=>{n&&(n.current=i.current)},[]),t.createElement("div",{ref:i,className:"Toastify",id:c},r((e,n)=>{const r=n.length?Nt({},a):Nt(Nt({},a),{},{pointerEvents:"none"});return t.createElement("div",{className:u(e),style:r,key:"container-".concat(e)},n.map((e,r)=>{let{content:i,props:s}=e;return t.createElement(yx,Nt(Nt({},s),{},{isIn:o(s.toastId),style:Nt(Nt({},s.style),{},{"--nth":r+1,"--len":n.length}),key:"toast-".concat(s.key)}),i)}))}))}));xx.displayName="ToastContainer",xx.defaultProps={position:"top-right",transition:wx,autoClose:5e3,closeButton:gx,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Sx,Ex=new Map,kx=[],_x=1;function Tx(){return""+_x++}function Cx(e){return e&&(rx(e.toastId)||nx(e.toastId))?e.toastId:Tx()}function Nx(e,t){return Ex.size>0?cx.emit(0,e,t):kx.push({content:e,options:t}),t.toastId}function Ix(e,t){return Nt(Nt({},t),{},{type:t&&t.type||e,toastId:Cx(t)})}function jx(e){return(t,n)=>Nx(t,Ix(e,n))}function Ox(e,t){return Nx(e,Ix("default",t))}function Px(e){var n,r;let{libro:i,esMio:o,onEditar:s,onLoginClick:a,favoritos:l,setFavoritos:c,usuarioActivo:u}=e;const d=ee(),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)({}),[y,b]=(0,t.useState)(0),[w,x]=(0,t.useState)(0),[S,E]=(0,t.useState)(!1),[k,_]=(0,t.useState)([]);i.valorToken=Number(i.valorToken)||0,(0,t.useEffect)(()=>{f((l||[]).includes(i.id))},[l,i.id]),(0,t.useEffect)(()=>{if(null===i||void 0===i||!i.usuarioId)return;const e=rf(zd(Xy,"usuarios",i.usuarioId),e=>{e.exists()&&v(e.data())},e=>{console.error("Error fetching user data:",e)});return()=>e()},[i.usuarioId]);return i?(0,rb.jsxs)("div",{className:" bg-zinc-900 text-white rounded-xl shadow-md overflow-hidden mb-4 p-3 w-[170px] min-h-[320px] flex flex-col justify-between relative",children:[(0,rb.jsxs)("div",{className:"w-full h-[150px] rounded-md overflow-hidden relative",onTouchStart:e=>x(e.touches[0].clientX),onTouchEnd:e=>{var t;const n=e.changedTouches[0].clientX-w,r=(null===(t=i.imagenes)||void 0===t?void 0:t.length)||0;Math.abs(n)>30&&(n<0&&y<r-1&&b(y+1),n>0&&y>0&&b(y-1))},children:[i.cantidad>1&&(0,rb.jsxs)("div",{className:"absolute top-2 left-2 z-30 group cursor-pointer animate-pulse",onClick:async()=>{try{const e=jh(Ud(Xy,"libros"),Ph("nombre","==",i.nombre)),t=await Jh(e),n=new Set,r=[];for(const i of t.docs){const e=i.data();if(!n.has(e.usuarioId)){n.add(e.usuarioId);const t=await Xh(zd(Xy,"usuarios",e.usuarioId));t.exists()&&r.push(Nt({id:e.usuarioId},t.data()))}}_(r),E(!0)}catch(e){console.error("Error cargando usuarios:",e)}},children:[(0,rb.jsxs)("div",{className:"flex items-center gap-1 bg-[#f7b22a] text-black text-[12px] font-bold px-3 py-1 rounded-full shadow-lg transition-transform hover:scale-105",children:[(0,rb.jsx)(Hb,{className:"text-[14px] animate-bounce-slow"})," ",i.cantidad]}),(0,rb.jsx)("div",{className:"absolute -top-11 left-0 bg-black text-white text-[10px] px-2 py-1 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap z-50",children:"".concat(i.cantidad," usuarios publicaron este libro. \xa1Intercambi\xe1 el tuyo!")}),(0,rb.jsx)("style",{children:"\n        @keyframes bounce-slow {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-2px); }\n        }\n        .animate-bounce-slow {\n          animation: bounce-slow 1.8s infinite;\n        }\n      "})]}),(0,rb.jsx)("img",{src:(null===(n=i.imagenes)||void 0===n?void 0:n[y])||"https://via.placeholder.com/100x150",alt:i.nombre,className:"w-full h-full object-cover"}),(null===(r=i.imagenes)||void 0===r?void 0:r.length)>1&&(0,rb.jsx)("div",{className:"absolute bottom-1 right-1 flex gap-1 z-10",children:i.imagenes.map((e,t)=>(0,rb.jsx)("div",{className:"w-1.5 h-1.5 rounded-full ".concat(t===y?"bg-[#f7b22a]":"bg-white/50")},t))})]}),(0,rb.jsxs)("div",{className:"mt-1 text-xs flex-1",children:[(0,rb.jsxs)("div",{className:"flex justify-between items-start",children:[(0,rb.jsx)("h3",{className:"font-semibold text-[13px] text-white line-clamp-2",children:i.nombre||"Sin t\xedtulo"}),!o&&(0,rb.jsx)("button",{onClick:e=>{e.stopPropagation(),(async()=>{if(!u)return null===a||void 0===a?void 0:a();try{const e=zd(Xy,"usuarios",u.id),t=h?l.filter(e=>e!==i.id):[...l,i.id];await ef(e,{favoritos:t}),c(t),f(!h),m(!0),Ox.success(h?"Quitado de favoritos":"Agregado a favoritos",{position:"bottom-center",autoClose:1200})}catch(e){console.error("Error actualizando favoritos:",e),Ox.error("Hubo un error",{position:"bottom-center",autoClose:1200})}})()},className:"text-[#f7b22a] text-sm ".concat(p?"scale-125":""),children:h?(0,rb.jsx)(Fb,{}):(0,rb.jsx)(qb,{})})]}),(0,rb.jsx)("p",{className:"text-[11px] text-gray-400 line-clamp-1",children:i.autor}),(0,rb.jsx)("p",{className:"text-[11px] text-gray-500 line-clamp-1",children:i.editorial}),i.valorToken>0&&(0,rb.jsxs)("span",{className:"bg-[#f7b22a] text-black text-[11px] px-2 py-0.5 rounded-full inline-block mt-1",children:[i.valorToken," TK"]}),(null===g||void 0===g?void 0:g.ciudad)&&(0,rb.jsxs)("p",{className:"text-[10px] text-gray-400 flex items-center gap-1 mt-1",children:[(0,rb.jsx)(fw,{})," ",g.ciudad]})]}),(0,rb.jsx)("div",{className:"mt-2",children:o?(0,rb.jsxs)("div",{className:"flex justify-between items-center text-[10px] mt-1",children:[(0,rb.jsx)("span",{className:"text-green-400",children:"Este libro es tuyo"}),(0,rb.jsx)("button",{onClick:e=>{e.stopPropagation(),s()},className:"text-blue-400 bg-blue-900/30 px-2 py-0.5 rounded-full",children:"Editar"})]}):(0,rb.jsx)("button",{onClick:()=>d("/propuesta/".concat(i.id)),className:"w-full bg-[#f7b22a] text-black px-2 py-1 text-[11px] font-bold rounded-full hover:bg-yellow-300 transition",children:"\xa1Intercambiar!"})}),S&&(0,rb.jsx)("div",{className:"fixed inset-0 bg-black/60 flex justify-center items-center z-50",children:(0,rb.jsxs)("div",{className:"bg-white text-black rounded-lg p-4 max-w-sm w-full shadow-lg relative",children:[(0,rb.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Usuarios que publicaron este libro"}),(0,rb.jsx)("button",{className:"absolute top-2 right-2 text-sm text-gray-500 hover:text-red-500",onClick:()=>E(!1),children:"\u2715"}),0===k.length?(0,rb.jsx)("p",{className:"text-sm text-gray-500",children:"Cargando..."}):(0,rb.jsx)("ul",{className:"space-y-3 max-h-60 overflow-y-auto",children:k.map(e=>(0,rb.jsxs)("li",{className:"flex items-center gap-3 border-b pb-2",children:[(0,rb.jsx)("img",{src:e.avatar||"https://via.placeholder.com/32",alt:"avatar",className:"w-8 h-8 rounded-full object-cover"}),(0,rb.jsxs)("div",{children:[(0,rb.jsx)("strong",{children:e.nombre||"Usuario"}),e.ciudad&&(0,rb.jsxs)("span",{className:"text-gray-500 text-sm",children:[" (",e.ciudad,")"]}),e.id===(null===u||void 0===u?void 0:u.id)&&(0,rb.jsx)("span",{className:"ml-2 text-xs text-green-600 font-semibold",children:"Es tu publicaci\xf3n"})]})]},e.id))})]})})]}):null}function Ax(e){let{size:t=140}=e;return(0,rb.jsxs)("div",{style:{width:t,height:t+80,position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,rb.jsx)("style",{children:"\n          .zzz {\n            animation: flotarZ 3s ease-in-out infinite;\n            font-weight: bold;\n            color: #f7b22a;\n          }\n\n          .zzz:nth-child(2) {\n            animation-delay: 0.5s;\n            font-size: 0.8em;\n            opacity: 0.6;\n          }\n\n          .zzz:nth-child(3) {\n            animation-delay: 1s;\n            font-size: 0.6em;\n            opacity: 0.4;\n          }\n\n          @keyframes flotarZ {\n            0% { transform: translateY(0); opacity: 0.6; }\n            50% { transform: translateY(-12px); opacity: 1; }\n            100% { transform: translateY(0); opacity: 0.6; }\n          }\n\n          .ojo {\n            animation: parpadeo 6s ease-in-out infinite;\n            transform-origin: center;\n          }\n\n          @keyframes parpadeo {\n            0%, 98%, 100% { transform: scaleY(1); }\n            99% { transform: scaleY(0.1); }\n          }\n        "}),(0,rb.jsxs)("svg",{width:t,height:t+30,viewBox:"0 0 100 130",xmlns:"http://www.w3.org/2000/svg",children:[(0,rb.jsx)("circle",{cx:"80",cy:"30",r:"18",fill:"#f7b22a33"}),(0,rb.jsx)("rect",{x:"20",y:"105",width:"60",height:"6",rx:"3",fill:"#654321"}),(0,rb.jsx)("line",{x1:"38",y1:"102",x2:"36",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"40",y1:"102",x2:"40",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"42",y1:"102",x2:"44",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"56",y1:"102",x2:"54",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"58",y1:"102",x2:"58",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"60",y1:"102",x2:"62",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("ellipse",{cx:"50",cy:"70",rx:"22",ry:"30",fill:"#111"}),(0,rb.jsx)("path",{d:"M38 88 Q50 84, 62 88",stroke:"#444",strokeWidth:"1",fill:"none"}),(0,rb.jsx)("path",{d:"M38 92 Q50 88, 62 92",stroke:"#444",strokeWidth:"1",fill:"none"}),(0,rb.jsx)("path",{d:"M28 66 Q22 80, 34 96",fill:"#111"}),(0,rb.jsx)("path",{d:"M72 66 Q78 80, 66 96",fill:"#111"}),(0,rb.jsx)("path",{d:"M38 48 L42 34 L44 50 Z",fill:"#111"}),(0,rb.jsx)("path",{d:"M62 48 L58 34 L56 50 Z",fill:"#111"}),(0,rb.jsx)("path",{d:"M36 54 Q50 50, 64 54",stroke:"#f7b22a",strokeWidth:"2",strokeLinecap:"round"}),(0,rb.jsx)("path",{className:"ojo",d:"M42 60 Q44 58, 46 60",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),(0,rb.jsx)("path",{className:"ojo",d:"M54 60 Q56 58, 58 60",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),(0,rb.jsx)("polygon",{points:"48,64 52,64 50,68",fill:"#f7b22a"})]}),(0,rb.jsxs)("div",{style:{position:"absolute",left:"-10px",top:"10px"},children:[(0,rb.jsx)("div",{className:"zzz",style:{fontSize:16},children:"Z"}),(0,rb.jsx)("div",{className:"zzz",style:{fontSize:14},children:"z"}),(0,rb.jsx)("div",{className:"zzz",style:{fontSize:12},children:"z"})]})]})}function Rx(e){return t=>typeof t===e}Ox.loading=(e,t)=>Nx(e,Ix("default",Nt({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),Ox.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=rx(i)?Ox.loading(i,n):Ox.loading(i.render,Nt(Nt({},n),i)));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void Ox.dismiss(r);const o=Nt(Nt(Nt({type:e},a),n),{},{data:i}),s=rx(t)?{render:t}:t;return r?Ox.update(r,Nt(Nt({},o),s)):Ox(s.render,Nt(Nt({},o),s)),i},c=ix(e)?e():e;return c.then(e=>l("success",s,e)).catch(e=>l("error",o,e)),c},Ox.success=jx("success"),Ox.info=jx("info"),Ox.error=jx("error"),Ox.warning=jx("warning"),Ox.warn=Ox.warning,Ox.dark=(e,t)=>Nx(e,Ix("default",Nt({theme:"dark"},t))),Ox.dismiss=e=>{Ex.size>0?cx.emit(1,e):kx=kx.filter(t=>null!=e&&t.options.toastId!==e)},Ox.clearWaitingQueue=function(e){return void 0===e&&(e={}),cx.emit(5,e)},Ox.isActive=e=>{let t=!1;return Ex.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Ox.update=function(e,t){void 0===t&&(t={}),setTimeout(()=>{const n=function(e,t){let{containerId:n}=t;const r=Ex.get(n||Sx);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,o=Nt(Nt(Nt({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Tx()});o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,Nx(s,o)}},0)},Ox.done=e=>{Ox.update(e,{progress:1})},Ox.onChange=e=>(cx.on(4,e),()=>{cx.off(4,e)}),Ox.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ox.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},cx.on(2,e=>{Sx=e.containerId||e,Ex.set(Sx,e),kx.forEach(e=>{cx.emit(0,e.content,e.options)}),kx=[]}).on(3,e=>{Ex.delete(e.containerId||e),0===Ex.size&&cx.off(0).off(1).off(5)});var Lx=Rx("function"),Dx=e=>"RegExp"===Object.prototype.toString.call(e).slice(8,-1),Mx=e=>!Fx(e)&&!(e=>null===e)(e)&&(Lx(e)||"object"===typeof e),Fx=Rx("undefined");function Vx(e,t){if(e===t)return!0;if(e&&Mx(e)&&t&&Mx(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){const{length:n}=e;if(n!==t.length)return!1;for(let r=n;0!==r--;)if(!Vx(e[r],t[r]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;for(const n of e.entries())if(!Vx(n[1],t.get(n[0])))return!1;return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new DataView(e.buffer),r=new DataView(t.buffer);let i=e.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}(e,t);if(Dx(e)&&Dx(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let e=n.length;0!==e--;)if(!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;for(let i=n.length;0!==i--;){const r=n[i];if(("_owner"!==r||!e.$$typeof)&&!Vx(e[r],t[r]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}var Ux=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],zx=["bigint","boolean","null","number","string","symbol","undefined"];function Bx(e){const t=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(t)?"HTMLElement":(n=t,Ux.includes(n)?t:void 0);var n}function Wx(e){return t=>Bx(t)===e}function Hx(e){return t=>typeof t===e}var qx=["innerHTML","ownerDocument","style","attributes","nodeValue"];function Kx(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Kx.array(e))return"Array";if(Kx.plainFunction(e))return"Function";const t=Bx(e);return t||"Object"}Kx.array=Array.isArray,Kx.arrayOf=(e,t)=>!(!Kx.array(e)&&!Kx.function(t))&&e.every(e=>t(e)),Kx.asyncGeneratorFunction=e=>"AsyncGeneratorFunction"===Bx(e),Kx.asyncFunction=Wx("AsyncFunction"),Kx.bigint=Hx("bigint"),Kx.boolean=e=>!0===e||!1===e,Kx.date=Wx("Date"),Kx.defined=e=>!Kx.undefined(e),Kx.domElement=e=>Kx.object(e)&&!Kx.plainObject(e)&&1===e.nodeType&&Kx.string(e.nodeName)&&qx.every(t=>t in e),Kx.empty=e=>Kx.string(e)&&0===e.length||Kx.array(e)&&0===e.length||Kx.object(e)&&!Kx.map(e)&&!Kx.set(e)&&0===Object.keys(e).length||Kx.set(e)&&0===e.size||Kx.map(e)&&0===e.size,Kx.error=Wx("Error"),Kx.function=Hx("function"),Kx.generator=e=>Kx.iterable(e)&&Kx.function(e.next)&&Kx.function(e.throw),Kx.generatorFunction=Wx("GeneratorFunction"),Kx.instanceOf=(e,t)=>!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype,Kx.iterable=e=>!Kx.nullOrUndefined(e)&&Kx.function(e[Symbol.iterator]),Kx.map=Wx("Map"),Kx.nan=e=>Number.isNaN(e),Kx.null=e=>null===e,Kx.nullOrUndefined=e=>Kx.null(e)||Kx.undefined(e),Kx.number=e=>Hx("number")(e)&&!Kx.nan(e),Kx.numericString=e=>Kx.string(e)&&e.length>0&&!Number.isNaN(Number(e)),Kx.object=e=>!Kx.nullOrUndefined(e)&&(Kx.function(e)||"object"===typeof e),Kx.oneOf=(e,t)=>!!Kx.array(e)&&e.indexOf(t)>-1,Kx.plainFunction=Wx("Function"),Kx.plainObject=e=>{if("Object"!==Bx(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},Kx.primitive=e=>{return Kx.null(e)||(t=typeof e,zx.includes(t));var t},Kx.promise=Wx("Promise"),Kx.propertyOf=(e,t,n)=>{if(!Kx.object(e)||!t)return!1;const r=e[t];return Kx.function(n)?n(r):Kx.defined(r)},Kx.regexp=Wx("RegExp"),Kx.set=Wx("Set"),Kx.string=Hx("string"),Kx.symbol=Hx("symbol"),Kx.undefined=Hx("undefined"),Kx.weakMap=Wx("WeakMap"),Kx.weakSet=Wx("WeakSet");var Gx=Kx;function Qx(e,t,n){const{actual:r,key:i,previous:o,type:s}=n,a=nS(e,i),l=nS(t,i);let c=[a,l].every(Gx.number)&&("increased"===s?a<l:a>l);return Gx.undefined(r)||(c=c&&l===r),Gx.undefined(o)||(c=c&&a===o),c}function Yx(e,t,n){const{key:r,type:i,value:o}=n,s=nS(e,r),a=nS(t,r),l="added"===i?s:a,c="added"===i?a:s;return Gx.nullOrUndefined(o)?[s,a].every(Gx.array)?!c.every(eS(l)):[s,a].every(Gx.plainObject)?function(e,t){return t.some(t=>!e.includes(t))}(Object.keys(l),Object.keys(c)):![s,a].every(e=>Gx.primitive(e)&&Gx.defined(e))&&("added"===i?!Gx.defined(s)&&Gx.defined(a):Gx.defined(s)&&!Gx.defined(a)):Gx.defined(l)?!(!Gx.array(l)&&!Gx.plainObject(l))&&function(e,t,n){return!!tS(e,t)&&([e,t].every(Gx.array)?!e.some(Jx(n))&&t.some(Jx(n)):[e,t].every(Gx.plainObject)?!Object.entries(e).some($x(n))&&Object.entries(t).some($x(n)):t===n)}(l,c,o):Vx(c,o)}function Xx(e,t){let{key:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=nS(e,n),i=nS(t,n);if(!tS(r,i))throw new TypeError("Inputs have different types");if(!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(e=>Gx.string(e)||Gx.array(e)||Gx.plainObject(e))}(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(Gx.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function $x(e){return t=>{let[n,r]=t;return Gx.array(e)?Vx(e,r)||e.some(e=>Vx(e,r)||Gx.array(r)&&eS(r)(e)):Gx.plainObject(e)&&e[n]?!!e[n]&&Vx(e[n],r):Vx(e,r)}}function Jx(e){return t=>Gx.array(e)?e.some(e=>Vx(e,t)||Gx.array(t)&&eS(t)(e)):Vx(e,t)}function Zx(e,t){return Gx.array(e)?e.some(e=>Vx(e,t)):Vx(e,t)}function eS(e){return t=>e.some(e=>Vx(e,t))}function tS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every(Gx.array)||t.every(Gx.number)||t.every(Gx.plainObject)||t.every(Gx.string)}function nS(e,t){if(Gx.plainObject(e)||Gx.array(e)){if(Gx.string(t)){return t.split(".").reduce((e,t)=>e&&e[t],e)}return Gx.number(t)?e[t]:e}return e}function rS(e,t){if([e,t].some(Gx.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(e=>Gx.plainObject(e)||Gx.array(e)))throw new Error("Expected plain objects or array");return{added:(n,r)=>{try{return Yx(e,t,{key:n,type:"added",value:r})}catch(i){return!1}},changed:(n,r,i)=>{try{const o=nS(e,n),s=nS(t,n),a=Gx.defined(r),l=Gx.defined(i);if(a||l){const e=l?Zx(i,o):!Zx(r,o),t=Zx(r,s);return e&&t}return[o,s].every(Gx.array)||[o,s].every(Gx.plainObject)?!Vx(o,s):o!==s}catch(o){return!1}},changedFrom:(n,r,i)=>{if(!Gx.defined(n))return!1;try{const o=nS(e,n),s=nS(t,n),a=Gx.defined(i);return Zx(r,o)&&(a?Zx(i,s):!a)}catch(o){return!1}},decreased:(n,r,i)=>{if(!Gx.defined(n))return!1;try{return Qx(e,t,{key:n,actual:r,previous:i,type:"decreased"})}catch(o){return!1}},emptied:n=>{try{const[r,i]=Xx(e,t,{key:n});return!!r.length&&!i.length}catch(r){return!1}},filled:n=>{try{const[r,i]=Xx(e,t,{key:n});return!r.length&&!!i.length}catch(r){return!1}},increased:(n,r,i)=>{if(!Gx.defined(n))return!1;try{return Qx(e,t,{key:n,actual:r,previous:i,type:"increased"})}catch(o){return!1}},removed:(n,r)=>{try{return Yx(e,t,{key:n,type:"removed",value:r})}catch(i){return!1}}}}var iS=n(865),oS=n(115),sS=n(861),aS=n(789),lS=n.n(aS),cS=n(173),uS=n.n(cS),dS="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,hS=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(dS&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var fS=dS&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},hS))}};function pS(e){return e&&"[object Function]"==={}.toString.call(e)}function mS(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function gS(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function vS(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=mS(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:vS(gS(e))}function yS(e){return e&&e.referenceNode?e.referenceNode:e}var bS=dS&&!(!window.MSInputMethodContext||!document.documentMode),wS=dS&&/MSIE 10/.test(navigator.userAgent);function xS(e){return 11===e?bS:10===e?wS:bS||wS}function SS(e){if(!e)return document.documentElement;for(var t=xS(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===mS(n,"position")?SS(n):n:e?e.ownerDocument.documentElement:document.documentElement}function ES(e){return null!==e.parentNode?ES(e.parentNode):e}function kS(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(e!==s&&t!==s||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||SS(e.firstElementChild)===e)}(s)?s:SS(s);var a=ES(e);return a.host?kS(a.host,t):kS(e,ES(t).host)}function _S(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function TS(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function CS(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],xS(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function NS(e){var t=e.body,n=e.documentElement,r=xS(10)&&getComputedStyle(n);return{height:CS("Height",t,n,r),width:CS("Width",t,n,r)}}var IS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jS=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},OS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function PS(e){return OS({},e,{right:e.left+e.width,bottom:e.top+e.height})}function AS(e){var t={};try{if(xS(10)){t=e.getBoundingClientRect();var n=_S(e,"top"),r=_S(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(QR){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?NS(e.ownerDocument):{},s=o.width||e.clientWidth||i.width,a=o.height||e.clientHeight||i.height,l=e.offsetWidth-s,c=e.offsetHeight-a;if(l||c){var u=mS(e);l-=TS(u,"x"),c-=TS(u,"y"),i.width-=l,i.height-=c}return PS(i)}function RS(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=xS(10),i="HTML"===t.nodeName,o=AS(e),s=AS(t),a=vS(e),l=mS(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=PS({top:o.top-s.top-c,left:o.left-s.left-u,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var h=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);d.top-=c-h,d.bottom-=c-h,d.left-=u-f,d.right-=u-f,d.marginTop=h,d.marginLeft=f}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_S(t,"top"),i=_S(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(d,t)),d}function LS(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===mS(e,"position"))return!0;var n=gS(e);return!!n&&LS(n)}function DS(e){if(!e||!e.parentElement||xS())return document.documentElement;for(var t=e.parentElement;t&&"none"===mS(t,"transform");)t=t.parentElement;return t||document.documentElement}function MS(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=i?DS(e):kS(e,yS(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=RS(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:_S(n),a=t?0:_S(n,"left");return PS({top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o})}(s,i);else{var a=void 0;"scrollParent"===r?"BODY"===(a=vS(gS(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var l=RS(a,s,i);if("HTML"!==a.nodeName||LS(s))o=l;else{var c=NS(e.ownerDocument),u=c.height,d=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}}var h="number"===typeof(n=n||0);return o.left+=h?n:n.left||0,o.top+=h?n:n.top||0,o.right-=h?n:n.right||0,o.bottom-=h?n:n.bottom||0,o}function FS(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=MS(n,r,o,i),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map(function(e){return OS({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function VS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return RS(n,r?DS(t):kS(t,yS(n)),r)}function US(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function zS(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function BS(e,t,n){n=n.split("-")[0];var r=US(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[s]=t[s]+t[l]/2-r[l]/2,i[a]=n===a?t[a]-r[c]:t[zS(a)],i}function WS(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function HS(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=WS(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&pS(n)&&(t.offsets.popper=PS(t.offsets.popper),t.offsets.reference=PS(t.offsets.reference),t=n(t,e))}),t}function qS(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=VS(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=FS(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=BS(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=HS(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function KS(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function GS(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function QS(){return this.state.isDestroyed=!0,KS(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[GS("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function YS(e){var t=e.ownerDocument;return t?t.defaultView:window}function XS(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||XS(vS(o.parentNode),t,n,r),r.push(o)}function $S(e,t,n,r){n.updateBound=r,YS(e).addEventListener("resize",n.updateBound,{passive:!0});var i=vS(e);return XS(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function JS(){this.state.eventsEnabled||(this.state=$S(this.reference,this.options,this.state,this.scheduleUpdate))}function ZS(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,YS(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function eE(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function tE(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&eE(t[n])&&(r="px"),e.style[n]=t[n]+r})}var nE=dS&&/Firefox/i.test(navigator.userAgent);function rE(e,t,n){var r=WS(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var iE=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],oE=iE.slice(3);function sE(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=oE.indexOf(e),r=oE.slice(n+1).concat(oE.slice(0,n));return t?r.reverse():r}var aE="flip",lE="clockwise",cE="counterclockwise";function uE(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=s.indexOf(WS(s,function(e){return-1!==e.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map(function(e,r){var i=(1===r?!o:o)?"height":"width",s=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return e;if(0===s.indexOf("%")){return PS("%p"===s?n:r)[t]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)})}),c.forEach(function(e,t){e.forEach(function(n,r){eE(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}var dE={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,s=i.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:jS({},l,o[l]),end:jS({},l,o[l]+o[c]-s[c])};e.offsets.popper=OS({},s,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return l=eE(+n)?[+n,0]:uE(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||SS(e.instance.popper);e.instance.reference===n&&(n=SS(n));var r=GS("transform"),i=e.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=MS(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=s,i[r]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),jS({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),jS({},n,r)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=OS({},u,d[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(i),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[a])&&(e.offsets.popper[l]=o(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!rE(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),h=l?"left":"top",f=l?"bottom":"right",p=US(r)[c];a[f]-p<s[d]&&(e.offsets.popper[d]-=s[d]-(a[f]-p)),a[d]+p>s[f]&&(e.offsets.popper[d]+=a[d]+p-s[f]),e.offsets.popper=PS(e.offsets.popper);var m=a[d]+a[c]/2-p/2,g=mS(e.instance.popper),v=parseFloat(g["margin"+u]),y=parseFloat(g["border"+u+"Width"]),b=m-e.offsets.popper[d]-v-y;return b=Math.max(Math.min(s[c]-p,b),0),e.arrowElement=r,e.offsets.arrow=(jS(n={},d,Math.round(b)),jS(n,h,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(KS(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=MS(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=zS(r),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case aE:s=[r,i];break;case lE:s=sE(r);break;case cE:s=sE(r,!0);break;default:s=t.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return e;r=e.placement.split("-")[0],i=zS(r);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),p=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),v="left"===r&&f||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g),w=!!t.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&g||!y&&"end"===o&&m),x=b||w;(h||v||x)&&(e.flipped=!0,(h||v)&&(r=s[l+1]),x&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=OS({},e.offsets.popper,BS(e.instance.popper,e.offsets.reference,e.placement)),e=HS(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[s?"left":"top"]=o[n]-(a?i[s?"width":"height"]:0),e.placement=zS(t),e.offsets.popper=PS(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!rE(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=WS(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=WS(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=SS(e.instance.popper),l=AS(a),c={position:i.position},u=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},l=o(i.width),c=o(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),h=t?u||d||l%2===c%2?o:s:a,f=t?o:a;return{left:h(l%2===1&&c%2===1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:h(r.right)}}(e,window.devicePixelRatio<2||!nE),d="bottom"===n?"top":"bottom",h="right"===r?"left":"right",f=GS("transform"),p=void 0,m=void 0;if(m="bottom"===d?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-l.height+u.bottom:u.top,p="right"===h?"HTML"===a.nodeName?-a.clientWidth+u.right:-l.width+u.right:u.left,s&&f)c[f]="translate3d("+p+"px, "+m+"px, 0)",c[d]=0,c[h]=0,c.willChange="transform";else{var g="bottom"===d?-1:1,v="right"===h?-1:1;c[d]=m*g,c[h]=p*v,c.willChange=d+", "+h}var y={"x-placement":e.placement};return e.attributes=OS({},y,e.attributes),e.styles=OS({},c,e.styles),e.arrowStyles=OS({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return tE(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&tE(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=VS(i,t,e,n.positionFixed),s=FS(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),tE(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},hE={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:dE},fE=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=fS(this.update.bind(this)),this.options=OS({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(OS({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=OS({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return OS({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&pS(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return IS(e,[{key:"update",value:function(){return qS.call(this)}},{key:"destroy",value:function(){return QS.call(this)}},{key:"enableEventListeners",value:function(){return JS.call(this)}},{key:"disableEventListeners",value:function(){return ZS.call(this)}}]),e}();fE.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,fE.placements=iE,fE.Defaults=hE;const pE=fE;var mE=["innerHTML","ownerDocument","style","attributes","nodeValue"],gE=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],vE=["bigint","boolean","null","number","string","symbol","undefined"];function yE(e){var t,n=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(n)?"HTMLElement":(t=n,gE.includes(t)?n:void 0)}function bE(e){return function(t){return yE(t)===e}}function wE(e){return function(t){return typeof t===e}}function xE(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(xE.array(e))return"Array";if(xE.plainFunction(e))return"Function";var t=yE(e);return t||"Object"}xE.array=Array.isArray,xE.arrayOf=function(e,t){return!(!xE.array(e)&&!xE.function(t))&&e.every(function(e){return t(e)})},xE.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===yE(e)},xE.asyncFunction=bE("AsyncFunction"),xE.bigint=wE("bigint"),xE.boolean=function(e){return!0===e||!1===e},xE.date=bE("Date"),xE.defined=function(e){return!xE.undefined(e)},xE.domElement=function(e){return xE.object(e)&&!xE.plainObject(e)&&1===e.nodeType&&xE.string(e.nodeName)&&mE.every(function(t){return t in e})},xE.empty=function(e){return xE.string(e)&&0===e.length||xE.array(e)&&0===e.length||xE.object(e)&&!xE.map(e)&&!xE.set(e)&&0===Object.keys(e).length||xE.set(e)&&0===e.size||xE.map(e)&&0===e.size},xE.error=bE("Error"),xE.function=wE("function"),xE.generator=function(e){return xE.iterable(e)&&xE.function(e.next)&&xE.function(e.throw)},xE.generatorFunction=bE("GeneratorFunction"),xE.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},xE.iterable=function(e){return!xE.nullOrUndefined(e)&&xE.function(e[Symbol.iterator])},xE.map=bE("Map"),xE.nan=function(e){return Number.isNaN(e)},xE.null=function(e){return null===e},xE.nullOrUndefined=function(e){return xE.null(e)||xE.undefined(e)},xE.number=function(e){return wE("number")(e)&&!xE.nan(e)},xE.numericString=function(e){return xE.string(e)&&e.length>0&&!Number.isNaN(Number(e))},xE.object=function(e){return!xE.nullOrUndefined(e)&&(xE.function(e)||"object"===typeof e)},xE.oneOf=function(e,t){return!!xE.array(e)&&e.indexOf(t)>-1},xE.plainFunction=bE("Function"),xE.plainObject=function(e){if("Object"!==yE(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},xE.primitive=function(e){return xE.null(e)||(t=typeof e,vE.includes(t));var t},xE.promise=bE("Promise"),xE.propertyOf=function(e,t,n){if(!xE.object(e)||!t)return!1;var r=e[t];return xE.function(n)?n(r):xE.defined(r)},xE.regexp=bE("RegExp"),xE.set=bE("Set"),xE.string=wE("string"),xE.symbol=wE("symbol"),xE.undefined=wE("undefined"),xE.weakMap=bE("WeakMap"),xE.weakSet=bE("WeakSet");const SE=xE;function EE(e){return function(t){return typeof t===e}}var kE=EE("function"),_E=function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},TE=function(e){return!CE(e)&&!function(e){return null===e}(e)&&(kE(e)||"object"===typeof e)},CE=EE("undefined"),NE=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function IE(e,t){if(e===t)return!0;if(e&&TE(e)&&t&&TE(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=n;0!==r--;)if(!IE(e[r],t[r]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){var n,r,i,o;if(e.size!==t.size)return!1;try{for(var s=NE(e.entries()),a=s.next();!a.done;a=s.next()){var l=a.value;if(!t.has(l[0]))return!1}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var c=NE(e.entries()),u=c.next();!u.done;u=c.next())if(!IE((l=u.value)[1],t.get(l[0])))return!1}catch(h){i={error:h}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){var n,r;if(e.size!==t.size)return!1;try{for(var i=NE(e.entries()),o=i.next();!o.done;o=i.next()){var s=o.value;if(!t.has(s[0]))return!1}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),r=new DataView(t.buffer),i=e.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}(e,t);if(_E(e)&&_E(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=n.length;0!==i--;)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(i=n.length;0!==i--;){var o=n[i];if(("_owner"!==o||!e.$$typeof)&&!IE(e[o],t[o]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}function jE(e,t,n){var r=n.actual,i=n.key,o=n.previous,s=n.type,a=FE(e,i),l=FE(t,i),c=[a,l].every(SE.number)&&("increased"===s?a<l:a>l);return SE.undefined(r)||(c=c&&l===r),SE.undefined(o)||(c=c&&a===o),c}function OE(e,t,n){var r=n.key,i=n.type,o=n.value,s=FE(e,r),a=FE(t,r),l="added"===i?s:a,c="added"===i?a:s;return SE.nullOrUndefined(o)?[s,a].every(SE.array)?!c.every(DE(l)):[s,a].every(SE.plainObject)?function(e,t){return t.some(function(t){return!e.includes(t)})}(Object.keys(l),Object.keys(c)):![s,a].every(function(e){return SE.primitive(e)&&SE.defined(e)})&&("added"===i?!SE.defined(s)&&SE.defined(a):SE.defined(s)&&!SE.defined(a)):SE.defined(l)?!(!SE.array(l)&&!SE.plainObject(l))&&function(e,t,n){return!!ME(e,t)&&([e,t].every(SE.array)?!e.some(RE(n))&&t.some(RE(n)):[e,t].every(SE.plainObject)?!Object.entries(e).some(AE(n))&&Object.entries(t).some(AE(n)):t===n)}(l,c,o):IE(c,o)}function PE(e,t,n){var r=(void 0===n?{}:n).key,i=FE(e,r),o=FE(t,r);if(!ME(i,o))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(function(e){return SE.string(e)||SE.array(e)||SE.plainObject(e)})}(i,o))throw new TypeError("Inputs don't have length");return[i,o].every(SE.plainObject)&&(i=Object.keys(i),o=Object.keys(o)),[i,o]}function AE(e){return function(t){var n=t[0],r=t[1];return SE.array(e)?IE(e,r)||e.some(function(e){return IE(e,r)||SE.array(r)&&DE(r)(e)}):SE.plainObject(e)&&e[n]?!!e[n]&&IE(e[n],r):IE(e,r)}}function RE(e){return function(t){return SE.array(e)?e.some(function(e){return IE(e,t)||SE.array(t)&&DE(t)(e)}):IE(e,t)}}function LE(e,t){return SE.array(e)?e.some(function(e){return IE(e,t)}):IE(e,t)}function DE(e){return function(t){return e.some(function(e){return IE(e,t)})}}function ME(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(SE.array)||e.every(SE.number)||e.every(SE.plainObject)||e.every(SE.string)}function FE(e,t){return SE.plainObject(e)||SE.array(e)?SE.string(t)?t.split(".").reduce(function(e,t){return e&&e[t]},e):SE.number(t)?e[t]:e:e}function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function UE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(t){HE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$E(r.key),r)}}function WE(e,t,n){return t&&BE(e.prototype,t),n&&BE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function HE(e,t,n){return(t=$E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qE(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function KE(e){return KE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},KE(e)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},GE(e,t)}function QE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(QR){return!1}}();return function(){var n,r=KE(e);if(t){var i=KE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return YE(e)}(this,n)}}function $E(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var JE={flip:{padding:20},preventOverflow:{padding:10}};function ZE(e,t,n){return function(e,t){if("function"!==typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(Boolean(t)&&"string"!==typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,n),function(r,i,o){for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return function(e,t,n,r){return"boolean"===typeof e?e:"function"===typeof e?e(t,n,r):!0===Boolean(e)&&Boolean(e)}(t,r,i,o)?function(e,t){return Object.hasOwnProperty.call(e,t)}(r,i)?e.apply(void 0,[r,i,o].concat(a)):function(e,t,n,r){return r?new Error(r):new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(n,"`."))}(r,i,o,n):e.apply(void 0,[r,i,o].concat(a))}}var ek={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},tk=void 0!==o.createPortal;function nk(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function rk(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function ik(e){var t=e.title,n=e.data,r=e.warn,i=void 0!==r&&r,o=e.debug,s=void 0!==o&&o,a=i?console.warn||console.error:console.log;s&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(e){SE.plainObject(e)&&e.key?a.apply(console,[e.key,e.value]):a.apply(console,[e])}):a.apply(console,[n]),console.groupEnd())}function ok(){}var sk=function(e){qE(r,e);var n=XE(r);function r(){return zE(this,r),n.apply(this,arguments)}return WE(r,[{key:"componentDidMount",value:function(){nk()&&(this.node||this.appendNode(),tk||this.renderPortal())}},{key:"componentDidUpdate",value:function(){nk()&&(tk||this.renderPortal())}},{key:"componentWillUnmount",value:function(){nk()&&this.node&&(tk||o.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var e=this.props,t=e.id,n=e.zIndex;this.node||(this.node=document.createElement("div"),t&&(this.node.id=t),n&&(this.node.style.zIndex=n),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!nk())return null;var e=this.props,n=e.children,r=e.setRef;return this.node||this.appendNode(),tk?o.createPortal(n,this.node):(r(o.unstable_renderSubtreeIntoContainer(this,n.length>1?t.createElement("div",null,n):n[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,n=e.placement,r=e.target;return t||r||"center"===n?this.renderPortal():null}},{key:"render",value:function(){return tk?this.renderReact16():null}}]),r}(t.Component);HE(sk,"propTypes",{children:uS().oneOfType([uS().element,uS().array]),hasChildren:uS().bool,id:uS().oneOfType([uS().string,uS().number]),placement:uS().string,setRef:uS().func.isRequired,target:uS().oneOfType([uS().object,uS().string]),zIndex:uS().number});var ak=function(e){qE(r,e);var n=XE(r);function r(){return zE(this,r),n.apply(this,arguments)}return WE(r,[{key:"parentStyle",get:function(){var e=this.props,t=e.placement,n=e.styles.arrow.length,r={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(r.bottom=0,r.left=0,r.right=0,r.height=n):t.startsWith("bottom")?(r.left=0,r.right=0,r.top=0,r.height=n):t.startsWith("left")?(r.right=0,r.top=0,r.bottom=0):t.startsWith("right")&&(r.left=0,r.top=0),r}},{key:"render",value:function(){var e,n=this.props,r=n.placement,i=n.setArrowRef,o=n.styles.arrow,s=o.color,a=o.display,l=o.length,c=o.margin,u=o.position,d=o.spread,h={display:a,position:u},f=d,p=l;return r.startsWith("top")?(e="0,0 ".concat(f/2,",").concat(p," ").concat(f,",0"),h.bottom=0,h.marginLeft=c,h.marginRight=c):r.startsWith("bottom")?(e="".concat(f,",").concat(p," ").concat(f/2,",0 0,").concat(p),h.top=0,h.marginLeft=c,h.marginRight=c):r.startsWith("left")?(p=d,e="0,0 ".concat(f=l,",").concat(p/2," 0,").concat(p),h.right=0,h.marginTop=c,h.marginBottom=c):r.startsWith("right")&&(p=d,e="".concat(f=l,",").concat(p," ").concat(f,",0 0,").concat(p/2),h.left=0,h.marginTop=c,h.marginBottom=c),t.createElement("div",{className:"__floater__arrow",style:this.parentStyle},t.createElement("span",{ref:i,style:h},t.createElement("svg",{width:f,height:p,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t.createElement("polygon",{points:e,fill:s}))))}}]),r}(t.Component);HE(ak,"propTypes",{placement:uS().string.isRequired,setArrowRef:uS().func.isRequired,styles:uS().object.isRequired});var lk=["color","height","width"];function ck(e){var n=e.handleClick,r=e.styles,i=r.color,o=r.height,s=r.width,a=QE(r,lk);return t.createElement("button",{"aria-label":"close",onClick:n,style:a,type:"button"},t.createElement("svg",{width:"".concat(s,"px"),height:"".concat(o,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},t.createElement("g",null,t.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:i}))))}function uk(e){var n=e.content,r=e.footer,i=e.handleClick,o=e.open,s=e.positionWrapper,a=e.showCloseButton,l=e.title,c=e.styles,u={content:t.isValidElement(n)?n:t.createElement("div",{className:"__floater__content",style:c.content},n)};return l&&(u.title=t.isValidElement(l)?l:t.createElement("div",{className:"__floater__title",style:c.title},l)),r&&(u.footer=t.isValidElement(r)?r:t.createElement("div",{className:"__floater__footer",style:c.footer},r)),!a&&!s||SE.boolean(o)||(u.close=t.createElement(ck,{styles:c.close,handleClick:i})),t.createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)}ck.propTypes={handleClick:uS().func.isRequired,styles:uS().object.isRequired},uk.propTypes={content:uS().node.isRequired,footer:uS().node,handleClick:uS().func.isRequired,open:uS().bool,positionWrapper:uS().bool.isRequired,showCloseButton:uS().bool.isRequired,styles:uS().object.isRequired,title:uS().node};var dk=function(e){qE(r,e);var n=XE(r);function r(){return zE(this,r),n.apply(this,arguments)}return WE(r,[{key:"style",get:function(){var e=this.props,t=e.disableAnimation,n=e.component,r=e.placement,i=e.hideArrow,o=e.status,s=e.styles,a=s.arrow.length,l=s.floater,c=s.floaterCentered,u=s.floaterClosing,d=s.floaterOpening,h=s.floaterWithAnimation,f=s.floaterWithComponent,p={};return i||(r.startsWith("top")?p.padding="0 0 ".concat(a,"px"):r.startsWith("bottom")?p.padding="".concat(a,"px 0 0"):r.startsWith("left")?p.padding="0 ".concat(a,"px 0 0"):r.startsWith("right")&&(p.padding="0 0 0 ".concat(a,"px"))),-1!==[ek.OPENING,ek.OPEN].indexOf(o)&&(p=UE(UE({},p),d)),o===ek.CLOSING&&(p=UE(UE({},p),u)),o!==ek.OPEN||t||(p=UE(UE({},p),h)),"center"===r&&(p=UE(UE({},p),c)),n&&(p=UE(UE({},p),f)),UE(UE({},l),p)}},{key:"render",value:function(){var e=this.props,n=e.component,r=e.handleClick,i=e.hideArrow,o=e.setFloaterRef,s=e.status,a={},l=["__floater"];return a.content=n?t.isValidElement(n)?t.cloneElement(n,{closeFn:r}):n({closeFn:r}):t.createElement(uk,this.props),s===ek.OPEN&&l.push("__floater__open"),i||(a.arrow=t.createElement(ak,this.props)),t.createElement("div",{ref:o,className:l.join(" "),style:this.style},t.createElement("div",{className:"__floater__body"},a.content,a.arrow))}}]),r}(t.Component);HE(dk,"propTypes",{component:uS().oneOfType([uS().func,uS().element]),content:uS().node,disableAnimation:uS().bool.isRequired,footer:uS().node,handleClick:uS().func.isRequired,hideArrow:uS().bool.isRequired,open:uS().bool,placement:uS().string.isRequired,positionWrapper:uS().bool.isRequired,setArrowRef:uS().func.isRequired,setFloaterRef:uS().func.isRequired,showCloseButton:uS().bool,status:uS().string.isRequired,styles:uS().object.isRequired,title:uS().node});var hk=function(e){qE(r,e);var n=XE(r);function r(){return zE(this,r),n.apply(this,arguments)}return WE(r,[{key:"render",value:function(){var e,n=this.props,r=n.children,i=n.handleClick,o=n.handleMouseEnter,s=n.handleMouseLeave,a=n.setChildRef,l=n.setWrapperRef,c=n.style,u=n.styles;if(r)if(1===t.Children.count(r))if(t.isValidElement(r)){var d=SE.function(r.type)?"innerRef":"ref";e=t.cloneElement(t.Children.only(r),HE({},d,a))}else e=t.createElement("span",null,r);else e=r;return e?t.createElement("span",{ref:l,style:UE(UE({},u),c),onClick:i,onMouseEnter:o,onMouseLeave:s},e):null}}]),r}(t.Component);HE(hk,"propTypes",{children:uS().node,handleClick:uS().func.isRequired,handleMouseEnter:uS().func.isRequired,handleMouseLeave:uS().func.isRequired,setChildRef:uS().func.isRequired,setWrapperRef:uS().func.isRequired,style:uS().object,styles:uS().object.isRequired});var fk={zIndex:100};var pk=["arrow","flip","offset"],mk=["position","top","right","bottom","left"],gk=function(e){qE(r,e);var n=XE(r);function r(e){var t;return zE(this,r),HE(YE(t=n.call(this,e)),"setArrowRef",function(e){t.arrowRef=e}),HE(YE(t),"setChildRef",function(e){t.childRef=e}),HE(YE(t),"setFloaterRef",function(e){t.floaterRef=e}),HE(YE(t),"setWrapperRef",function(e){t.wrapperRef=e}),HE(YE(t),"handleTransitionEnd",function(){var e=t.state.status,n=t.props.callback;t.wrapperPopper&&t.wrapperPopper.instance.update(),t.setState({status:e===ek.OPENING?ek.OPEN:ek.IDLE},function(){var e=t.state.status;n(e===ek.OPEN?"open":"close",t.props)})}),HE(YE(t),"handleClick",function(){var e=t.props,n=e.event,r=e.open;if(!SE.boolean(r)){var i=t.state,o=i.positionWrapper,s=i.status;("click"===t.event||"hover"===t.event&&o)&&(ik({title:"click",data:[{event:n,status:s===ek.OPEN?"closing":"opening"}],debug:t.debug}),t.toggle())}}),HE(YE(t),"handleMouseEnter",function(){var e=t.props,n=e.event,r=e.open;if(!SE.boolean(r)&&!rk()){var i=t.state.status;"hover"===t.event&&i===ek.IDLE&&(ik({title:"mouseEnter",data:[{key:"originalEvent",value:n}],debug:t.debug}),clearTimeout(t.eventDelayTimeout),t.toggle())}}),HE(YE(t),"handleMouseLeave",function(){var e=t.props,n=e.event,r=e.eventDelay,i=e.open;if(!SE.boolean(i)&&!rk()){var o=t.state,s=o.status,a=o.positionWrapper;"hover"===t.event&&(ik({title:"mouseLeave",data:[{key:"originalEvent",value:n}],debug:t.debug}),r?-1===[ek.OPENING,ek.OPEN].indexOf(s)||a||t.eventDelayTimeout||(t.eventDelayTimeout=setTimeout(function(){delete t.eventDelayTimeout,t.toggle()},1e3*r)):t.toggle(ek.IDLE))}}),t.state={currentPlacement:e.placement,needsUpdate:!1,positionWrapper:e.wrapperOptions.position&&!!e.target,status:ek.INIT,statusWrapper:ek.INIT},t._isMounted=!1,t.hasMounted=!1,nk()&&window.addEventListener("load",function(){t.popper&&t.popper.instance.update(),t.wrapperPopper&&t.wrapperPopper.instance.update()}),t}return WE(r,[{key:"componentDidMount",value:function(){if(nk()){var e=this.state.positionWrapper,t=this.props,n=t.children,r=t.open,i=t.target;this._isMounted=!0,ik({title:"init",data:{hasChildren:!!n,hasTarget:!!i,isControlled:SE.boolean(r),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!n&&i&&SE.boolean(r)}}},{key:"componentDidUpdate",value:function(e,t){if(nk()){var n,r=this.props,i=r.autoOpen,o=r.open,s=r.target,a=r.wrapperOptions,l=function(e,t){if([e,t].some(SE.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every(function(e){return SE.plainObject(e)||SE.array(e)}))throw new Error("Expected plain objects or array");var n=function(n,r,i){try{var o=FE(e,n),s=FE(t,n),a=SE.defined(r),l=SE.defined(i);if(a||l){var c=l?LE(i,o):!LE(r,o),u=LE(r,s);return c&&u}return[o,s].every(SE.array)||[o,s].every(SE.plainObject)?!IE(o,s):o!==s}catch(d){return!1}};return{added:function(n,r){try{return OE(e,t,{key:n,type:"added",value:r})}catch(i){return!1}},changed:n,changedFrom:function(n,r,i){if(!SE.defined(n))return!1;try{var o=FE(e,n),s=FE(t,n),a=SE.defined(i);return LE(r,o)&&(a?LE(i,s):!a)}catch(l){return!1}},changedTo:function(e,t){return!!SE.defined(e)&&n(e,t)},decreased:function(n,r,i){if(!SE.defined(n))return!1;try{return jE(e,t,{key:n,actual:r,previous:i,type:"decreased"})}catch(o){return!1}},emptied:function(n){try{var r=PE(e,t,{key:n}),i=r[0],o=r[1];return!!i.length&&!o.length}catch(s){return!1}},filled:function(n){try{var r=PE(e,t,{key:n}),i=r[0],o=r[1];return!i.length&&!!o.length}catch(s){return!1}},increased:function(n,r,i){if(!SE.defined(n))return!1;try{return jE(e,t,{key:n,actual:r,previous:i,type:"increased"})}catch(o){return!1}},removed:function(n,r){try{return OE(e,t,{key:n,type:"removed",value:r})}catch(i){return!1}}}}(t,this.state),c=l.changedFrom,u=l.changed;if(e.open!==o)SE.boolean(o)&&(n=o?ek.OPENING:ek.CLOSING),this.toggle(n);e.wrapperOptions.position===a.position&&e.target===s||this.changeWrapperPosition(this.props),(u("status",ek.IDLE)&&o||c("status",ek.INIT,ek.IDLE)&&i)&&this.toggle(ek.OPEN),this.popper&&u("status",ek.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",ek.OPENING)||u("status",ek.CLOSING))&&function(e,t,n){var r;r=function(i){n(i),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}(e,t,r)},function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r)}(e,t,r,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(this.floaterRef,"transitionend",this.handleTransitionEnd),u("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){nk()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,n=this.state.positionWrapper,r=this.props,i=r.disableFlip,o=r.getPopper,s=r.hideArrow,a=r.offset,l=r.placement,c=r.wrapperOptions,u="top"===l||"bottom"===l?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===l)this.setState({status:ek.IDLE});else if(t&&this.floaterRef){var d=this.options,h=d.arrow,f=d.flip,p=d.offset,m=QE(d,pk);new pE(t,this.floaterRef,{placement:l,modifiers:UE({arrow:UE({enabled:!s,element:this.arrowRef},h),flip:UE({enabled:!i,behavior:u},f),offset:UE({offset:"0, ".concat(a,"px")},p)},m),onCreate:function(t){var n;e.popper=t,null!==(n=e.floaterRef)&&void 0!==n&&n.isConnected?(o(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:ek.IDLE}),l!==t.placement&&setTimeout(function(){t.instance.update()},1)):e.setState({needsUpdate:!0})},onUpdate:function(t){e.popper=t;var n=e.state.currentPlacement;e._isMounted&&t.placement!==n&&e.setState({currentPlacement:t.placement})}})}if(n){var g=SE.undefined(c.offset)?0:c.offset;new pE(this.target,this.wrapperRef,{placement:c.placement||l,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(g,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:ek.IDLE}),o(t,"wrapper"),l!==t.placement&&setTimeout(function(){t.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var e=this;this.floaterRefInterval=setInterval(function(){var t;null!==(t=e.floaterRef)&&void 0!==t&&t.isConnected&&(clearInterval(e.floaterRefInterval),e.setState({needsUpdate:!1}),e.initPopper())},50)}},{key:"changeWrapperPosition",value:function(e){var t=e.target,n=e.wrapperOptions;this.setState({positionWrapper:n.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===ek.OPEN?ek.CLOSING:ek.OPENING;SE.undefined(e)||(t=e),this.setState({status:t})}},{key:"debug",get:function(){return this.props.debug||nk()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,n=e.event;return"hover"===n&&rk()&&!t?"click":n}},{key:"options",get:function(){var e=this.props.options;return lS()(JE,e||{})}},{key:"styles",get:function(){var e,t=this,n=this.state,r=n.status,i=n.positionWrapper,o=n.statusWrapper,s=this.props.styles,a=lS()(function(e){var t=lS()(fk,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(s),s);i&&(e=-1===[ek.IDLE].indexOf(r)||-1===[ek.IDLE].indexOf(o)?a.wrapperPosition:this.wrapperPopper.styles,a.wrapper=UE(UE({},a.wrapper),e));if(this.target){var l=window.getComputedStyle(this.target);this.wrapperStyles?a.wrapper=UE(UE({},a.wrapper),this.wrapperStyles):-1===["relative","static"].indexOf(l.position)&&(this.wrapperStyles={},i||(mk.forEach(function(e){t.wrapperStyles[e]=l[e]}),a.wrapper=UE(UE({},a.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return a}},{key:"target",get:function(){if(!nk())return null;var e=this.props.target;return e?SE.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}},{key:"render",value:function(){var e=this.state,n=e.currentPlacement,r=e.positionWrapper,i=e.status,o=this.props,s=o.children,a=o.component,l=o.content,c=o.disableAnimation,u=o.footer,d=o.hideArrow,h=o.id,f=o.open,p=o.showCloseButton,m=o.style,g=o.target,v=o.title,y=t.createElement(hk,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:m,styles:this.styles.wrapper},s),b={};return r?b.wrapperInPortal=y:b.wrapperAsChildren=y,t.createElement("span",null,t.createElement(sk,{hasChildren:!!s,id:h,placement:n,setRef:this.setFloaterRef,target:g,zIndex:this.styles.options.zIndex},t.createElement(dk,{component:a,content:l,disableAnimation:c,footer:u,handleClick:this.handleClick,hideArrow:d||"center"===n,open:f,placement:n,positionWrapper:r,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:p,status:i,styles:this.styles,title:v}),b.wrapperInPortal),b.wrapperAsChildren)}}]),r}(t.Component);HE(gk,"propTypes",{autoOpen:uS().bool,callback:uS().func,children:uS().node,component:ZE(uS().oneOfType([uS().func,uS().element]),function(e){return!e.content}),content:ZE(uS().node,function(e){return!e.component}),debug:uS().bool,disableAnimation:uS().bool,disableFlip:uS().bool,disableHoverToClick:uS().bool,event:uS().oneOf(["hover","click"]),eventDelay:uS().number,footer:uS().node,getPopper:uS().func,hideArrow:uS().bool,id:uS().oneOfType([uS().string,uS().number]),offset:uS().number,open:uS().bool,options:uS().object,placement:uS().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:uS().bool,style:uS().object,styles:uS().object,target:uS().oneOfType([uS().object,uS().string]),title:uS().node,wrapperOptions:uS().shape({offset:uS().number,placement:uS().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:uS().bool})}),HE(gk,"defaultProps",{autoOpen:!1,callback:ok,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:ok,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});const vk=["mixBlendMode","zIndex"],yk=["styles"],bk=["color","height","width"],wk=["beaconComponent","tooltipComponent"];var xk=Object.defineProperty,Sk=(e,t,n)=>((e,t,n)=>t in e?xk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n),Ek="init",kk="start",_k="stop",Tk="reset",Ck="prev",Nk="next",Ik="go",jk="close",Ok="skip",Pk="update",Ak="tour:start",Rk="step:before",Lk="beacon",Dk="tooltip",Mk="step:after",Fk="tour:end",Vk="tour:status",Uk="error:target_not_found",zk={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Bk={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"};function Wk(){var e;return!("undefined"===typeof window||!(null==(e=window.document)?void 0:e.createElement))}function Hk(e){return e?e.getBoundingClientRect():null}function qk(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{body:t,documentElement:n}=document;if(!t||!n)return 0;if(e){const e=[t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((e,t)=>e-t),r=Math.floor(e.length/2);return e.length%2===0?(e[r-1]+e[r])/2:e[r]}return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function Kk(e){if("string"===typeof e)try{return document.querySelector(e)}catch(t){return null}return e}function Gk(e,t,n){if(!e)return $k();const r=oS(e);if(r){if(r.isSameNode($k()))return n?document:$k();if(!(r.scrollHeight>r.offsetHeight)&&!t)return r.style.overflow="initial",$k()}return r}function Qk(e,t){if(!e)return!1;const n=Gk(e,t);return!!n&&!n.isSameNode($k())}function Yk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed";if(!e||!(e instanceof HTMLElement))return!1;const{nodeName:n}=e,r=function(e){return e&&1===e.nodeType?getComputedStyle(e):null}(e);return"BODY"!==n&&"HTML"!==n&&(!(!r||r.position!==t)||!!e.parentNode&&Yk(e.parentNode,t))}function Xk(e,t,n){var r;if(!e)return 0;const{offsetTop:i=0,scrollTop:o=0}=null!=(r=oS(e))?r:{};let s=e.getBoundingClientRect().top+o;i&&(Qk(e,n)||function(e){return e.offsetParent!==document.body}(e))&&(s-=i);const a=Math.floor(s-t);return a<0?0:a}function $k(){var e;return null!=(e=document.scrollingElement)?e:document.documentElement}var Jk=void 0!==o.createPortal;function Zk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e;return"undefined"===typeof window?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.includes(" OPR/")?t="opera":"undefined"!==typeof window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function e_(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t_(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{defaultValue:r,step:i,steps:o}=n;let s=sS(e);if(s)(s.includes("{step}")||s.includes("{steps}"))&&i&&o&&(s=s.replace("{step}",i.toString()).replace("{steps}",o.toString()));else if((0,t.isValidElement)(e)&&!Object.values(e.props).length&&"function"===e_(e.type)){s=t_(e.type({}),n)}else s=sS(r);return s}function n_(e){const t=e.replace(/^#?([\da-f])([\da-f])([\da-f])$/i,(e,t,n,r)=>t+t+n+n+r+r),n=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function r_(e){return e.disableBeacon||"center"===e.placement}function i_(){return!["chrome","safari","firefox","opera"].includes(Zk())}function o_(e){let{data:t,debug:n=!1,title:r,warn:i=!1}=e;const o=i?console.warn||console.error:console.log;n&&(r&&t?(console.groupCollapsed("%creact-joyride: ".concat(r),"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(e=>{Gx.plainObject(e)&&e.key?o.apply(console,[e.key,e.value]):o.apply(console,[e])}):o.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function s_(e){if(!Gx.plainObject(e))throw new TypeError("Expected an object");const t={};for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const o in e)({}).hasOwnProperty.call(e,o)&&(r.includes(o)||(t[o]=e[o]));return t}function a_(e,n,r){const i=e=>e.replace("{step}",String(n)).replace("{steps}",String(r));if("string"===e_(e))return i(e);if(!(0,t.isValidElement)(e))return e;const{children:o}=e.props;if("string"===e_(o)&&o.includes("{step}"))return(0,t.cloneElement)(e,{children:i(o)});if(Array.isArray(o))return(0,t.cloneElement)(e,{children:o.map(e=>"string"===typeof e?i(e):a_(e,n,r))});if("function"===e_(e.type)&&!Object.values(e.props).length){return a_(e.type({}),n,r)}return e}var l_={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},c_={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},u_={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:c_,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},d_={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},h_={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},f_={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},p_={borderRadius:4,position:"absolute"};function m_(e){return function(e){if(!Gx.plainObject(e))throw new TypeError("Expected an object");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;const i={};for(const o in e)({}).hasOwnProperty.call(e,o)&&n.includes(o)&&(i[o]=e[o]);return i}(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function g_(e,t){var n,r,i,o,s,a;const l=null!=t?t:{},c=aS.all([u_,m_(e),l],{isMergeableObject:Gx.plainObject}),u=function(e,t){var n,r,i,o,s;const{floaterProps:a,styles:l}=e,c=aS(null!=(n=t.floaterProps)?n:{},null!=a?a:{}),u=aS(null!=l?l:{},null!=(r=t.styles)?r:{}),d=aS(h_,u.options||{}),h="center"===t.placement||t.disableBeacon;let{width:f}=d;window.innerWidth>480&&(f=380),"width"in d&&(f="number"===typeof d.width&&window.innerWidth<d.width?window.innerWidth-30:d.width);const p={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:d.zIndex},m={beacon:Nt(Nt({},f_),{},{display:h?"none":"inline-block",height:d.beaconSize,position:"relative",width:d.beaconSize,zIndex:d.zIndex}),beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:d.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(".concat(n_(d.primaryColor).join(","),", 0.2)"),border:"2px solid ".concat(d.primaryColor),borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:d.backgroundColor,borderRadius:5,boxSizing:"border-box",color:d.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:f},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:Nt(Nt({},f_),{},{backgroundColor:d.primaryColor,borderRadius:4,color:"#fff"}),buttonBack:Nt(Nt({},f_),{},{color:d.primaryColor,marginLeft:"auto",marginRight:5}),buttonClose:Nt(Nt({},f_),{},{color:d.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14}),buttonSkip:Nt(Nt({},f_),{},{color:d.textColor,fontSize:14}),overlay:Nt(Nt({},p),{},{backgroundColor:d.overlayColor,mixBlendMode:"hard-light"}),overlayLegacy:Nt({},p),overlayLegacyCenter:Nt(Nt({},p),{},{backgroundColor:d.overlayColor}),spotlight:Nt(Nt({},p_),{},{backgroundColor:"gray"}),spotlightLegacy:Nt(Nt({},p_),{},{boxShadow:"0 0 0 9999px ".concat(d.overlayColor,", ").concat(d.spotlightShadow)}),floaterStyles:{arrow:{color:null!=(s=null==(o=null==(i=null==c?void 0:c.styles)?void 0:i.arrow)?void 0:o.color)?s:d.arrowColor},options:{zIndex:d.zIndex+100}},options:d};return aS(m,u)}(e,c),d=Qk(Kk(c.target),c.disableScrollParentFix),h=aS.all([l_,null!=(n=e.floaterProps)?n:{},null!=(r=c.floaterProps)?r:{}]);return h.offset=c.offset,h.styles=aS(null!=(i=h.styles)?i:{},u.floaterStyles),h.offset+=null!=(s=null!=(o=e.spotlightPadding)?o:c.spotlightPadding)?s:0,c.placementBeacon&&h.wrapperOptions&&(h.wrapperOptions.placement=c.placementBeacon),d&&h.options.preventOverflow&&(h.options.preventOverflow.boundariesElement="window"),Nt(Nt({},c),{},{locale:aS.all([c_,null!=(a=e.locale)?a:{},c.locale||{}]),floaterProps:h,styles:s_(u,"floaterStyles")})}function v_(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Gx.plainObject(e)?!!e.target||(o_({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(o_({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function y_(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Gx.array(e)?e.every(e=>v_(e,t)):(o_({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var b_,w_={action:"init",controlled:!1,index:0,lifecycle:zk.INIT,origin:null,size:0,status:Bk.IDLE},x_=(b_=s_(w_,"controlled","size"),Object.keys(b_)),S_=class{constructor(e){var t=this;Sk(this,"beaconPopper"),Sk(this,"tooltipPopper"),Sk(this,"data",new Map),Sk(this,"listener"),Sk(this,"store",new Map),Sk(this,"addListener",e=>{this.listener=e}),Sk(this,"setSteps",e=>{const{size:t,status:n}=this.getState(),r={size:e.length,status:n};this.data.set("steps",e),n===Bk.WAITING&&!t&&e.length&&(r.status=Bk.RUNNING),this.setState(r)}),Sk(this,"getPopper",e=>"beacon"===e?this.beaconPopper:this.tooltipPopper),Sk(this,"setPopper",(e,t)=>{"beacon"===e?this.beaconPopper=t:this.tooltipPopper=t}),Sk(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),Sk(this,"close",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{index:n,status:r}=t.getState();r===Bk.RUNNING&&t.setState(Nt({},t.getNextState({action:jk,index:n+1,origin:e})))}),Sk(this,"go",e=>{const{controlled:t,status:n}=this.getState();if(t||n!==Bk.RUNNING)return;const r=this.getSteps()[e];this.setState(Nt(Nt({},this.getNextState({action:Ik,index:e})),{},{status:r?n:Bk.FINISHED}))}),Sk(this,"info",()=>this.getState()),Sk(this,"next",()=>{const{index:e,status:t}=this.getState();t===Bk.RUNNING&&this.setState(this.getNextState({action:Nk,index:e+1}))}),Sk(this,"open",()=>{const{status:e}=this.getState();e===Bk.RUNNING&&this.setState(Nt({},this.getNextState({action:Pk,lifecycle:zk.TOOLTIP})))}),Sk(this,"prev",()=>{const{index:e,status:t}=this.getState();t===Bk.RUNNING&&this.setState(Nt({},this.getNextState({action:Ck,index:e-1})))}),Sk(this,"reset",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{controlled:n}=t.getState();n||t.setState(Nt(Nt({},t.getNextState({action:Tk,index:0})),{},{status:e?Bk.RUNNING:Bk.READY}))}),Sk(this,"skip",()=>{const{status:e}=this.getState();e===Bk.RUNNING&&this.setState({action:Ok,lifecycle:zk.INIT,status:Bk.SKIPPED})}),Sk(this,"start",e=>{const{index:t,size:n}=this.getState();this.setState(Nt(Nt({},this.getNextState({action:kk,index:Gx.number(e)?e:t},!0)),{},{status:n?Bk.RUNNING:Bk.WAITING}))}),Sk(this,"stop",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{index:n,status:r}=t.getState();[Bk.FINISHED,Bk.SKIPPED].includes(r)||t.setState(Nt(Nt({},t.getNextState({action:_k,index:n+(e?1:0)})),{},{status:Bk.PAUSED}))}),Sk(this,"update",e=>{var t,n,r,i;if(r=e,i=x_,!(Gx.plainObject(r)&&Gx.array(i)&&Object.keys(r).every(e=>i.includes(e))))throw new Error("State is not valid. Valid keys: ".concat(x_.join(", ")));this.setState(Nt({},this.getNextState(Nt(Nt(Nt({},this.getState()),e),{},{action:null!=(t=e.action)?t:Pk,origin:null!=(n=e.origin)?n:null}),!0)))});const{continuous:n=!1,stepIndex:r,steps:i=[]}=null!=e?e:{};this.setState({action:Ek,controlled:Gx.number(r),continuous:n,index:Gx.number(r)?r:0,lifecycle:zk.INIT,origin:null,status:i.length?Bk.READY:Bk.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(i)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:Nt({},w_)}getNextState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n,r,i,o,s;const{action:a,controlled:l,index:c,size:u,status:d}=this.getState(),h=Gx.number(e.index)?e.index:c,f=l&&!t?c:Math.min(Math.max(h,0),u);return{action:null!=(n=e.action)?n:a,controlled:l,index:f,lifecycle:null!=(r=e.lifecycle)?r:zk.INIT,origin:null!=(i=e.origin)?i:null,size:null!=(o=e.size)?o:u,status:f===u?Bk.FINISHED:null!=(s=e.status)?s:d}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}setState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.getState(),{action:r,index:i,lifecycle:o,origin:s=null,size:a,status:l}=Nt(Nt({},n),e);this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",o),this.store.set("origin",s),this.store.set("size",a),this.store.set("status",l),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};var E_=function(e){let{styles:n}=e;return t.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:n})},k_=class extends t.Component{constructor(){super(...arguments),Sk(this,"isActive",!1),Sk(this,"resizeTimeout"),Sk(this,"scrollTimeout"),Sk(this,"scrollParent"),Sk(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),Sk(this,"hideSpotlight",()=>{const{continuous:e,disableOverlay:t,lifecycle:n}=this.props,r=[zk.INIT,zk.BEACON,zk.COMPLETE,zk.ERROR];return t||(e?r.includes(n):n!==zk.TOOLTIP)}),Sk(this,"handleMouseMove",e=>{const{mouseOverSpotlight:t}=this.state,{height:n,left:r,position:i,top:o,width:s}=this.spotlightStyles,a="fixed"===i?e.clientY:e.pageY,l="fixed"===i?e.clientX:e.pageX,c=l>=r&&l<=r+s&&(a>=o&&a<=o+n);c!==t&&this.updateState({mouseOverSpotlight:c})}),Sk(this,"handleScroll",()=>{const{target:e}=this.props,t=Kk(e);if(this.scrollParent!==document){const{isScrolling:e}=this.state;e||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else Yk(t,"sticky")&&this.updateState({})}),Sk(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:n=!1,target:r}=this.props,i=Kk(r);this.scrollParent=Gk(null!=i?i:document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:o}=this.props,{changed:s}=rS(e,this.props);if(s("target")||s("disableScrollParentFix")){const e=Kk(o);this.scrollParent=Gk(null!=e?e:document.body,n,!0)}s("lifecycle",zk.TOOLTIP)&&(null==(t=this.scrollParent)||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:e}=this.state;e||this.updateState({showSpotlight:!0})},100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(i&&r===zk.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==zk.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),null==(e=this.scrollParent)||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:n,styles:r}=this.props;let i=r.overlay;return i_()&&(i="center"===n?r.overlayLegacyCenter:r.overlayLegacy),Nt({cursor:t?"default":"pointer",height:qk(),pointerEvents:e?"none":"auto"},i)}get spotlightStyles(){var e,t,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:o,spotlightPadding:s=0,styles:a,target:l}=this.props,c=Kk(l),u=Hk(c),d=Yk(c),h=function(e,t,n){var r,i,o;const s=Hk(e),a=Gk(e,n),l=Qk(e,n),c=Yk(e);let u=0,d=null!=(r=null==s?void 0:s.top)?r:0;l&&c?d=(null!=(i=null==e?void 0:e.offsetTop)?i:0)-(null!=(o=null==a?void 0:a.scrollTop)?o:0):a instanceof HTMLElement&&(u=a.scrollTop,l||Yk(e)||(d+=u),a.isSameNode($k())||(d+=$k().scrollTop));return Math.floor(d-t)}(c,s,i);return Nt(Nt({},i_()?a.spotlightLegacy:a.spotlight),{},{height:Math.round((null!=(e=null==u?void 0:u.height)?e:0)+2*s),left:Math.round((null!=(t=null==u?void 0:u.left)?t:0)-s),opacity:r?1:0,pointerEvents:o?"none":"auto",position:d?"fixed":"absolute",top:h,transition:"opacity 0.2s",width:Math.round((null!=(n=null==u?void 0:u.width)?n:0)+2*s)})}updateState(e){this.isActive&&this.setState(t=>Nt(Nt({},t),e))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:n,placement:r}=this.props,{hideSpotlight:i,overlayStyles:o,spotlightStyles:s}=this;if(i())return null;let a="center"!==r&&e&&t.createElement(E_,{styles:s});if("safari"===Zk()){const{mixBlendMode:e,zIndex:n}=o,r=$w(o,vk);a=t.createElement("div",{style:Nt({},r)},a),delete o.backgroundColor}return t.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:n,role:"presentation",style:o},a)}},__=class extends t.Component{constructor(){super(...arguments),Sk(this,"node",null)}componentDidMount(){const{id:e}=this.props;Wk()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),Jk||this.renderReact15())}componentDidUpdate(){Wk()&&(Jk||this.renderReact15())}componentWillUnmount(){Wk()&&this.node&&(Jk||o.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!Wk())return;const{children:e}=this.props;this.node&&o.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!Wk()||!Jk)return null;const{children:e}=this.props;return this.node?o.createPortal(e,this.node):null}render(){return Jk?this.renderReact16():null}},T_=class{constructor(e,t){if(Sk(this,"element"),Sk(this,"options"),Sk(this,"canBeTabbed",e=>{const{tabIndex:t}=e;return!(null===t||t<0)&&this.canHaveFocus(e)}),Sk(this,"canHaveFocus",e=>{const t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&this.isVisible(e)}),Sk(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),Sk(this,"handleKeyDown",e=>{const{code:t="Tab"}=this.options;e.code===t&&this.interceptTab(e)}),Sk(this,"interceptTab",e=>{e.preventDefault();const t=this.findValidTabElements(),{shiftKey:n}=e;if(!t.length)return;let r=document.activeElement?t.indexOf(document.activeElement):0;-1===r||!n&&r+1===t.length?r=0:n&&0===r?r=t.length-1:r+=n?-1:1,t[r].focus()}),Sk(this,"isHidden",e=>{const t=e.offsetWidth<=0&&e.offsetHeight<=0,n=window.getComputedStyle(e);return!(!t||e.innerHTML)||(t&&"visible"!==n.getPropertyValue("overflow")||"none"===n.getPropertyValue("display"))}),Sk(this,"isVisible",e=>{let t=e;for(;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(this.isHidden(t))return!1;t=t.parentNode}return!0}),Sk(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),Sk(this,"checkFocus",e=>{document.activeElement!==e&&(e.focus(),window.requestAnimationFrame(()=>this.checkFocus(e)))}),Sk(this,"setFocus",()=>{const{selector:e}=this.options;if(!e)return;const t=this.element.querySelector(e);t&&window.requestAnimationFrame(()=>this.checkFocus(t))}),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},C_=class extends t.Component{constructor(e){if(super(e),Sk(this,"beacon",null),Sk(this,"setBeaconRef",e=>{this.beacon=e}),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",e.nonce&&n.setAttribute("nonce",e.nonce);n.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),t.appendChild(n)}componentDidMount(){const{shouldFocus:e}=this.props;setTimeout(()=>{Gx.domElement(this.beacon)&&e&&this.beacon.focus()},0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:n,index:r,isLastStep:i,locale:o,onClickOrHover:s,size:a,step:l,styles:c}=this.props,u=t_(o.open),d={"aria-label":u,onClick:s,onMouseEnter:s,ref:this.setBeaconRef,title:u};let h;if(e){const o=e;h=t.createElement(o,Nt({continuous:n,index:r,isLastStep:i,size:a,step:l},d))}else h=t.createElement("button",Nt({key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button"},d),t.createElement("span",{style:c.beaconInner}),t.createElement("span",{style:c.beaconOuter}));return h}};var N_=function(e){let{styles:n}=e,r=$w(e,yk);const{color:i,height:o,width:s}=n,a=$w(n,bk);return t.createElement("button",Nt({style:a,type:"button"},r),t.createElement("svg",{height:"number"===typeof o?"".concat(o,"px"):o,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:"number"===typeof s?"".concat(s,"px"):s,xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",null,t.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:i}))))};var I_=function(e){const{backProps:n,closeProps:r,index:i,isLastStep:o,primaryProps:s,skipProps:a,step:l,tooltipProps:c}=e,{content:u,hideBackButton:d,hideCloseButton:h,hideFooter:f,showSkipButton:p,styles:m,title:g}=l,v={};return v.primary=t.createElement("button",Nt({"data-test-id":"button-primary",style:m.buttonNext,type:"button"},s)),p&&!o&&(v.skip=t.createElement("button",Nt({"aria-live":"off","data-test-id":"button-skip",style:m.buttonSkip,type:"button"},a))),!d&&i>0&&(v.back=t.createElement("button",Nt({"data-test-id":"button-back",style:m.buttonBack,type:"button"},n))),v.close=!h&&t.createElement(N_,Nt({"data-test-id":"button-close",styles:m.buttonClose},r)),t.createElement("div",Nt({key:"JoyrideTooltip","aria-label":t_(null!=g?g:u),className:"react-joyride__tooltip",style:m.tooltip},c),t.createElement("div",{style:m.tooltipContainer},g&&t.createElement("h1",{"aria-label":t_(g),style:m.tooltipTitle},g),t.createElement("div",{style:m.tooltipContent},u)),!f&&t.createElement("div",{style:m.tooltipFooter},t.createElement("div",{style:m.tooltipFooterSpacer},v.skip),v.back,v.primary),v.close)},j_=class extends t.Component{constructor(){super(...arguments),Sk(this,"handleClickBack",e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()}),Sk(this,"handleClickClose",e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")}),Sk(this,"handleClickPrimary",e=>{e.preventDefault();const{continuous:t,helpers:n}=this.props;t?n.next():n.close("button_primary")}),Sk(this,"handleClickSkip",e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()}),Sk(this,"getElementsProps",()=>{const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:i,step:o}=this.props,{back:s,close:a,last:l,next:c,nextLabelWithProgress:u,skip:d}=o.locale,h=t_(s),f=t_(a),p=t_(l),m=t_(c),g=t_(d);let v=a,y=f;if(e){if(v=c,y=m,o.showProgress&&!n){const e=t_(u,{step:t+1,steps:i});v=a_(u,t+1,i),y=e}n&&(v=l,y=p)}return{backProps:{"aria-label":h,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:h},closeProps:{"aria-label":f,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:f},primaryProps:{"aria-label":y,children:v,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:y},skipProps:{"aria-label":g,children:d,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:g},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:e,index:n,isLastStep:r,setTooltipRef:i,size:o,step:s}=this.props,{beaconComponent:a,tooltipComponent:l}=s,c=$w(s,wk);let u;if(l){const s=Nt(Nt({},this.getElementsProps()),{},{continuous:e,index:n,isLastStep:r,size:o,step:c,setTooltipRef:i}),a=l;u=t.createElement(a,Nt({},s))}else u=t.createElement(I_,Nt(Nt({},this.getElementsProps()),{},{continuous:e,index:n,isLastStep:r,size:o,step:s}));return u}},O_=class extends t.Component{constructor(){super(...arguments),Sk(this,"scope",null),Sk(this,"tooltip",null),Sk(this,"handleClickHoverBeacon",e=>{const{step:t,store:n}=this.props;"mouseenter"===e.type&&"hover"!==t.event||n.update({lifecycle:zk.TOOLTIP})}),Sk(this,"setTooltipRef",e=>{this.tooltip=e}),Sk(this,"setPopper",(e,t)=>{var n;const{action:r,lifecycle:i,step:o,store:s}=this.props;"wrapper"===t?s.setPopper("beacon",e):s.setPopper("tooltip",e),s.getPopper("beacon")&&(s.getPopper("tooltip")||"center"===o.placement)&&i===zk.INIT&&s.update({action:r,lifecycle:zk.READY}),(null==(n=o.floaterProps)?void 0:n.getPopper)&&o.floaterProps.getPopper(e,t)}),Sk(this,"renderTooltip",e=>{const{continuous:n,helpers:r,index:i,size:o,step:s}=this.props;return t.createElement(j_,Nt({continuous:n,helpers:r,index:i,isLastStep:i+1===o,setTooltipRef:this.setTooltipRef,size:o,step:s},e))})}componentDidMount(){const{debug:e,index:t}=this.props;o_({title:"step:".concat(t),data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:n,callback:r,continuous:i,controlled:o,debug:s,helpers:a,index:l,lifecycle:c,shouldScroll:u,status:d,step:h,store:f}=this.props,{changed:p,changedFrom:m}=rS(e,this.props),g=a.info(),v=i&&n!==jk&&(l>0||n===Ck),y=p("action")||p("index")||p("lifecycle")||p("status"),b=m("lifecycle",[zk.TOOLTIP,zk.INIT],zk.INIT),w=p("action",[Nk,Ck,Ok,jk]),x=o&&l===e.index;if(w&&(b||x)&&r(Nt(Nt({},g),{},{index:e.index,lifecycle:zk.COMPLETE,step:e.step,type:Mk})),"center"===h.placement&&d===Bk.RUNNING&&p("index")&&n!==kk&&c===zk.INIT&&f.update({lifecycle:zk.READY}),y){const e=Kk(h.target),t=!!e,i=t&&function(e){var t;if(!e)return!1;let n=e;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:e,visibility:t}=getComputedStyle(n);if("none"===e||"hidden"===t)return!1}n=null!=(t=n.parentElement)?t:null}return!0}(e);i?(m("status",Bk.READY,Bk.RUNNING)||m("lifecycle",zk.INIT,zk.READY))&&r(Nt(Nt({},g),{},{step:h,type:Rk})):(console.warn(t?"Target not visible":"Target not mounted",h),r(Nt(Nt({},g),{},{type:Uk,step:h})),o||f.update({index:l+(n===Ck?-1:1)}))}m("lifecycle",zk.INIT,zk.READY)&&f.update({lifecycle:r_(h)||v?zk.TOOLTIP:zk.BEACON}),p("index")&&o_({title:"step:".concat(c),data:[{key:"props",value:this.props}],debug:s}),p("lifecycle",zk.BEACON)&&r(Nt(Nt({},g),{},{step:h,type:Lk})),p("lifecycle",zk.TOOLTIP)&&(r(Nt(Nt({},g),{},{step:h,type:Dk})),u&&this.tooltip&&(this.scope=new T_(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),m("lifecycle",[zk.TOOLTIP,zk.INIT],zk.INIT)&&(null==(t=this.scope)||t.removeScope(),f.cleanupPoppers())}componentWillUnmount(){var e;null==(e=this.scope)||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return r_(t)||e===zk.TOOLTIP}render(){const{continuous:e,debug:n,index:r,nonce:i,shouldScroll:o,size:s,step:a}=this.props,l=Kk(a.target);return v_(a)&&Gx.domElement(l)?t.createElement("div",{key:"JoyrideStep-".concat(r),className:"react-joyride__step"},t.createElement(gk,Nt(Nt({},a.floaterProps),{},{component:this.renderTooltip,debug:n,getPopper:this.setPopper,id:"react-joyride-step-".concat(r),open:this.open,placement:a.placement,target:a.target}),t.createElement(C_,{beaconComponent:a.beaconComponent,continuous:e,index:r,isLastStep:r+1===s,locale:a.locale,nonce:i,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:o,size:s,step:a,styles:a.styles}))):null}},P_=class extends t.Component{constructor(e){super(e),Sk(this,"helpers"),Sk(this,"store"),Sk(this,"callback",e=>{const{callback:t}=this.props;Gx.function(t)&&t(e)}),Sk(this,"handleKeyboard",e=>{const{index:t,lifecycle:n}=this.state,{steps:r}=this.props,i=r[t];n===zk.TOOLTIP&&"Escape"===e.code&&i&&!i.disableCloseOnEsc&&this.store.close("keyboard")}),Sk(this,"handleClickOverlay",()=>{const{index:e}=this.state,{steps:t}=this.props;g_(this.props,t[e]).disableOverlayClose||this.helpers.close("overlay")}),Sk(this,"syncState",e=>{this.setState(e)});const{debug:t,getHelpers:n,run:r=!0,stepIndex:i}=e;var o;this.store=(o=Nt(Nt({},e),{},{controlled:r&&Gx.number(i)}),new S_(o)),this.helpers=this.store.getHelpers();const{addListener:s}=this.store;o_({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),s(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!Wk())return;const{debug:e,disableCloseOnEsc:t,run:n,steps:r}=this.props,{start:i}=this.store;y_(r,e)&&n&&i(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!Wk())return;const{action:n,controlled:r,index:i,status:o}=this.state,{debug:s,run:a,stepIndex:l,steps:c}=this.props,{stepIndex:u,steps:d}=e,{reset:h,setSteps:f,start:p,stop:m,update:g}=this.store,{changed:v}=rS(e,this.props),{changed:y,changedFrom:b}=rS(t,this.state),w=g_(this.props,c[i]),x=!Vx(d,c),S=Gx.number(l)&&v("stepIndex"),E=Kk(w.target);if(x&&(y_(c,s)?f(c):console.warn("Steps are not valid",c)),v("run")&&(a?p(l):m()),S){let e=Gx.number(u)&&u<l?Nk:Ck;n===_k&&(e=kk),[Bk.FINISHED,Bk.SKIPPED].includes(o)||g({action:n===jk?jk:e,index:l,lifecycle:zk.INIT})}r||o!==Bk.RUNNING||0!==i||E||(this.store.update({index:i+1}),this.callback(Nt(Nt({},this.state),{},{type:Uk,step:w})));const k=Nt(Nt({},this.state),{},{index:i,step:w});if(y("action",[Nk,Ck,Ok,jk])&&y("status",Bk.PAUSED)){const e=g_(this.props,c[t.index]);this.callback(Nt(Nt({},k),{},{index:t.index,lifecycle:zk.COMPLETE,step:e,type:Mk}))}if(y("status",[Bk.FINISHED,Bk.SKIPPED])){const e=g_(this.props,c[t.index]);r||this.callback(Nt(Nt({},k),{},{index:t.index,lifecycle:zk.COMPLETE,step:e,type:Mk})),this.callback(Nt(Nt({},k),{},{type:Fk,step:e,index:t.index})),h()}else b("status",[Bk.IDLE,Bk.READY],Bk.RUNNING)?this.callback(Nt(Nt({},k),{},{type:Ak})):(y("status")||y("action",Tk))&&this.callback(Nt(Nt({},k),{},{type:Vk}));this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:o=!1,scrollDuration:s,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:c}=this.props,u=g_(this.props,c[t]),d=Kk(u.target),h=function(e){const{isFirstStep:t,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:o,target:s}=e;return!o.disableScrolling&&(!t||i||n===zk.TOOLTIP)&&"center"!==o.placement&&(!o.isFixed||!Yk(s))&&r!==n&&[zk.BEACON,zk.TOOLTIP].includes(n)}({isFirstStep:0===t,lifecycle:n,previousLifecycle:e.lifecycle,scrollToFirstStep:l,step:u,target:d});if(r===Bk.RUNNING&&h){const e=Qk(d,o),l=Gk(d,o);let c=Math.floor(Xk(d,a,o))||0;o_({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const h=this.store.getPopper("beacon"),f=this.store.getPopper("tooltip");if(n===zk.BEACON&&h){const{offsets:t,placement:n}=h;["bottom"].includes(n)||e||(c=Math.floor(t.popper.top-a))}else if(n===zk.TOOLTIP&&f){const{flipped:t,offsets:n,placement:r}=f;!["top","right","left"].includes(r)||t||e?c-=u.spotlightPadding:c=Math.floor(n.popper.top-a)}c=c>=0?c:0,r===Bk.RUNNING&&function(e,t){const{duration:n,element:r}=t;return new Promise((t,i)=>{const{scrollTop:o}=r,s=e>o?e-o:o-e;iS.top(r,e,{duration:s<100?50:n},e=>e&&"Element already at target scroll position"!==e.message?i(e):t())})}(c,{element:l,duration:s}).then(()=>{setTimeout(()=>{var e;null==(e=this.store.getPopper("tooltip"))||e.instance.update()},10)})}}render(){if(!Wk())return null;const{index:e,lifecycle:n,status:r}=this.state,{continuous:i=!1,debug:o=!1,nonce:s,scrollToFirstStep:a=!1,steps:l}=this.props,c={};if(r===Bk.RUNNING&&l[e]){const r=g_(this.props,l[e]);c.step=t.createElement(O_,Nt(Nt({},this.state),{},{callback:this.callback,continuous:i,debug:o,helpers:this.helpers,nonce:s,shouldScroll:!r.disableScrolling&&(0!==e||a),step:r,store:this.store})),c.overlay=t.createElement(__,{id:"react-joyride-portal"},t.createElement(k_,Nt(Nt({},r),{},{continuous:i,debug:o,lifecycle:n,onClickOverlay:this.handleClickOverlay})))}return t.createElement("div",{className:"react-joyride"},c.step,c.overlay)}};Sk(P_,"defaultProps",d_);var A_=P_;function R_(e){let{usuarioActivo:n}=e;const[r,i]=(0,t.useState)(!1),[o,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>{l(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const c=(0,t.useCallback)(()=>{if(!o.length)return!1;console.log("Checking for target elements...");let e=!0;if(a){const e=document.querySelector(".md\\:hidden");e&&(e.style.display="flex",e.style.visibility="visible",e.style.opacity="1",e.style.zIndex="9999")}return o.forEach((t,n)=>{let r=[];if(r=document.querySelectorAll(t.target),0===r.length&&t.target.startsWith(".")){const e=t.target.replace(".","");r=document.querySelectorAll('[class*="'.concat(e,'"]')),0===r.length&&(r=document.querySelectorAll('[data-tour="'.concat(e,'"]')))}if(console.log("Step ".concat(n+1," (").concat(t.target,"): ").concat(r.length," elements found")),0===r.length){console.warn("Element not found: ".concat(t.target)),e=!1;const n=t.target.replace(".",""),r=document.querySelectorAll("*"),i=[];r.forEach(e=>{var t,r;(e.className&&"string"===typeof e.className&&e.className.includes(n)||e.getAttribute&&e.getAttribute("data-tour")===n)&&i.push({className:e.className,tagName:e.tagName,text:(null===(t=e.textContent)||void 0===t?void 0:t.trim())||"",element:e,rect:e.getBoundingClientRect(),computedStyle:window.getComputedStyle(e),parent:null===(r=e.parentElement)||void 0===r?void 0:r.tagName})}),console.log("Similar elements for ".concat(t.target,":"),i)}else r.forEach((e,n)=>{var r;console.log("Found element ".concat(n+1," for ").concat(t.target,":"),{tagName:e.tagName,className:e.className,rect:e.getBoundingClientRect(),computedStyle:window.getComputedStyle(e),parent:null===(r=e.parentElement)||void 0===r?void 0:r.tagName})})}),e},[o,a]);(0,t.useEffect)(()=>{if(null===n||void 0===n||!n.id)return;console.log("Initializing tour..."),console.log("Is mobile:",a);const e=a?[{target:".tour-inicio",content:"Pulsa aqu\xed para volver al inicio de la aplicaci\xf3n.",disableBeacon:!0,placement:"top"},{target:".tour-billetera",content:"Consulta tu saldo de BUKKcoins y gestiona tu billetera.",placement:"top"},{target:".tour-publicar",content:"Toca aqu\xed para publicar libros que ya no uses y empezar a intercambiar.",placement:"top"},{target:".tour-ofertas",content:"Revisa aqu\xed las ofertas que has recibido y las que has enviado a otros.",placement:"top"},{target:".tour-chat",content:"Accede a tus conversaciones y mantente en contacto con otros usuarios.",placement:"top"},{target:".tour-perfil",content:"Configura tu perfil, revisa tus publicaciones y ajusta tus preferencias.",placement:"top"}]:[{target:".tour-home",content:"Bienvenido a BuKKus. Este es el inicio de la aplicaci\xf3n.",disableBeacon:!0,placement:"bottom"},{target:".tour-destacados",content:"Aqu\xed encontrar\xe1s los libros destacados de la semana.",placement:"bottom"},{target:".tour-card",content:"Cada tarjeta representa un libro disponible para intercambiar. Haz clic para ver m\xe1s detalles.",placement:"top"},{target:".tour-billetera",content:"Tu saldo de BUKKcoins aparece aqu\xed. Podr\xe1s usarlos para canjear libros.",placement:"left"},{target:".tour-publicar",content:"Publica libros que ya no uses para que otros usuarios los vean.",placement:"left"},{target:".tour-ofertas",content:"Revisa el estado de tus ofertas y las que has recibido.",placement:"left"},{target:".tour-chat",content:"Aqu\xed podr\xe1s chatear con otros usuarios cuando hagan match con tus ofertas.",placement:"left"},{target:".tour-perfil",content:"Configura tu perfil y preferencias de usuario.",placement:"left"}];console.log("Tour steps:",e),s(e);if(localStorage.getItem("tourVisto_".concat(n.id)))return void console.log("Tour ya fue mostrado anteriormente");const t=()=>(console.log("Starting tour..."),!!c()&&(console.log("All targets found, starting tour"),i(!0),!0)),r=setTimeout(()=>{if(!t()){const e=setInterval(()=>{console.log("Trying to start tour..."),t()&&clearInterval(e)},500);setTimeout(()=>{clearInterval(e),console.warn("Could not find all tour targets after 10 seconds")},1e4)}},1e3);return()=>{clearTimeout(r)}},[n,a]);if(!o.length||!n)return null;const u={back:"Atr\xe1s",close:"Cerrar",last:"Finalizar",next:"Siguiente",skip:"Omitir"};return(0,rb.jsxs)("div",{className:"joyride-container",children:[(0,rb.jsx)(A_,{steps:o,run:r,continuous:!0,showSkipButton:!0,showProgress:!0,scrollToFirstStep:!0,scrollOffset:100,disableOverlayClose:!1,disableCloseOnEsc:!1,disableScrolling:!1,spotlightClicks:!0,spotlightPadding:5,locale:u,styles:{beacon:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none",display:"inline-block",height:36,position:"relative",width:36,zIndex:1e4},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:"#f7b22a",borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(247,178,42, 0.2)",border:"2px solid #f7b22a",borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:"#ffffff",borderRadius:8,boxSizing:"border-box",color:"#1f2937",fontSize:16,maxWidth:300,padding:16,position:"relative",width:"calc(100vw - 32px)",margin:"0 16px"},tooltipContainer:{lineHeight:1.4,textAlign:"left"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{backgroundColor:"#f7b22a",border:0,borderRadius:20,color:"#000000",cursor:"pointer",fontSize:"14px",lineHeight:1,padding:"8px 16px",WebkitAppearance:"none",fontWeight:"bold"},buttonBack:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#6b7280",cursor:"pointer",fontSize:"14px",lineHeight:1,padding:8,WebkitAppearance:"none",marginLeft:"auto",marginRight:8},buttonClose:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#1f2937",cursor:"pointer",fontSize:16,lineHeight:1,padding:15,WebkitAppearance:"none",height:14,position:"absolute",right:0,top:0,width:14},buttonSkip:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#6b7280",cursor:"pointer",fontSize:"14px",lineHeight:1,padding:8,WebkitAppearance:"none"},overlay:{bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:1e4,backgroundColor:"rgba(0, 0, 0, 0.5)",mixBlendMode:"hard-light"},options:{arrowColor:"#ffffff",backgroundColor:"#ffffff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f7b22a",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#1f2937",width:380,zIndex:1e4}},callback:e=>{const{status:t,action:r,index:s,step:a,type:l}=e;console.log("Tour callback:",{status:t,action:r,index:s,step:a,type:l}),"step:before"===l&&a&&(console.log("Step ".concat(s+1,"/").concat(o.length,": ").concat(a.target)),setTimeout(()=>{let e=document.querySelector(a.target);if(!e){console.warn("Target not found: ".concat(a.target,", trying flexible search..."));const t=a.target.replace(".",""),n=document.querySelectorAll("*");for(const r of n)if(r.className&&"string"===typeof r.className&&r.className.includes(t)){e=r,console.log("Found element with class '".concat(t,"' in:"),r.className);break}}if(e)console.log("Scrolling to ".concat(a.target,"...")),e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),e.style.boxShadow="0 0 0 3px rgba(247, 178, 42, 0.5)",setTimeout(()=>{e&&(e.style.boxShadow="")},2e3),e.offsetHeight;else{console.error("Element not found: ".concat(a.target)),console.log("Available elements with similar classes:");const e=document.querySelectorAll("*"),t=a.target.replace(".",""),n=[];e.forEach(e=>{var r;e.className&&"string"===typeof e.className&&e.className.includes(t)&&n.push({className:e.className,tagName:e.tagName,text:(null===(r=e.textContent)||void 0===r?void 0:r.trim())||"",element:e})}),console.log("Found ".concat(n.length," similar elements:"),n)}},100)),[Bk.FINISHED,Bk.SKIPPED].includes(t)&&(localStorage.setItem("tourVisto_".concat(null===n||void 0===n?void 0:n.id),"true"),i(!1))},floaterProps:{disableAnimation:!1,disableFlip:!0,styles:{arrow:{spread:24,size:12}}}}),(0,rb.jsx)("style",{children:"\n          /* Force Spanish text for all Joyride buttons */\n          .react-joyride__tooltip button[data-action='next']::after {\n            content: '".concat(u.next,"' !important;\n          }\n          .react-joyride__tooltip button[data-action='back']::after {\n            content: '").concat(u.back,"' !important;\n          }\n          .react-joyride__tooltip button[data-action='close']::after {\n            content: '").concat(u.close,"' !important;\n          }\n          .react-joyride__tooltip button[data-action='last']::after {\n            content: '").concat(u.last,"' !important;\n          }\n          .react-joyride__tooltip button[data-action='skip']::after {\n            content: '").concat(u.skip,"' !important;\n          }\n        ")})]})}const L_=function(e){var n;let{busqueda:r=""}=e;const{usuarioActivo:i,cargandoSesion:o}=(0,t.useContext)(ib),[s,a]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=rf(Ud(Xy,"libros"),e=>{const t=e.docs.map(e=>Nt({id:e.id},e.data()));a(t)});return()=>e()},[]),(0,t.useEffect)(()=>{if(null===i||void 0===i||!i.id)return;const e=rf(zd(Xy,"usuarios",i.id),e=>{const t=e.data(),n=Array.isArray(null===t||void 0===t?void 0:t.favoritos)?t.favoritos:[];localStorage.setItem("favoritos_".concat(i.id),JSON.stringify(n)),c(n)});return()=>e()},[i]);const w=()=>d(!0),x=s.filter(e=>!e.destacado).filter(e=>{var t,n,i;if(!r.trim())return!0;const o=r.trim().toLowerCase();return(null===(t=e.nombre)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(n=e.descripcion)||void 0===n?void 0:n.toLowerCase().includes(o))||(null===(i=e.ciudad)||void 0===i?void 0:i.toLowerCase().includes(o))}),S=x.reduce((e,t)=>{var n,r;const i="".concat(null===(n=t.titulo)||void 0===n?void 0:n.toLowerCase(),"__").concat(null===(r=t.autor)||void 0===r?void 0:r.toLowerCase(),"__").concat(t.genero||"Otros"),o=e.find(e=>e.clave===i);return o?o.publicaciones.push(t):e.push({clave:i,titulo:t.titulo,autor:t.autor,genero:t.genero||"Otros",publicaciones:[t]}),e},[]),E=S.reduce((e,t)=>{const n=t.genero||"Otros";return e[n]||(e[n]=[]),e[n].push(t),e},{});return o?(0,rb.jsxs)("div",{className:"flex flex-col items-center justify-center mt-10 text-gray-600",children:[(0,rb.jsx)(Ax,{size:120}),(0,rb.jsx)("p",{className:"mt-4 text-sm",children:"Cargando sesi\xf3n..."})]}):(0,rb.jsxs)("div",{className:"pb-32 no-scrollbar",children:[i&&(0,rb.jsx)(R_,{usuarioActivo:i}),!i&&u&&(0,rb.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 backdrop-blur",children:(0,rb.jsx)("div",{className:"w-full max-w-md p-4 rounded-xl",children:(0,rb.jsx)(Yw,{onClose:()=>d(!1)})})}),!i&&!u&&(0,rb.jsxs)("div",{className:"flex flex-col items-center justify-center mt-8 text-center px-4",children:[(0,rb.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcda"}),(0,rb.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"Bienvenido a BuKKus"}),(0,rb.jsx)("p",{className:"text-gray-600 mb-4 text-sm",children:"Inici\xe1 sesi\xf3n para descubrir libros y comenzar a intercambiar."}),(0,rb.jsx)("button",{onClick:w,className:"bg-yellow-400 text-black px-5 py-2 rounded-full shadow-md hover:bg-yellow-500 transition",children:"Iniciar sesi\xf3n"})]}),p&&i&&(0,rb.jsx)(Xw,{isOpen:p,onClose:()=>m(!1),children:(0,rb.jsx)(Ow,{libro:h,onClose:()=>m(!1),recargarLibros:()=>window.dispatchEvent(new Event("librosActualizados"))})}),(0,rb.jsx)("div",{className:"text-center mt-2 tour-destacados ",children:(0,rb.jsx)("h2",{className:"mb-2 text-lg font-bold text-black",children:"Libros destacados"})}),(0,rb.jsx)(jw,{libros:s.filter(e=>e.destacado),onClickLibro:e=>v(e)}),Object.entries(E).map(e=>{let[t,n]=e;return(0,rb.jsxs)("div",{className:"mt-6",children:[(0,rb.jsx)("h3",{className:"text-lg font-semibold text-gray-800 px-4 mb-2",children:t}),(0,rb.jsx)("div",{className:"overflow-x-auto px-2 no-scrollbar",children:(0,rb.jsx)("div",{className:"flex gap-4",children:n.map((e,t)=>{const n=e.publicaciones[0],r=0===t;return(0,rb.jsxs)("div",{className:"card-libro min-w-[200px] max-w-[240px] w-full relative ".concat(r?"tour-card":""),children:[!i&&(0,rb.jsxs)("div",{onClick:w,className:"absolute inset-0 bg-black bg-opacity-60 text-white flex flex-col items-center justify-center text-xs font-semibold rounded-lg cursor-pointer z-20",children:[(0,rb.jsx)(dw,{className:"text-2xl mb-1"}),"Inici\xe1 sesi\xf3n para interactuar"]}),(0,rb.jsx)(Px,{libro:Nt(Nt({},n),{},{cantidad:e.publicaciones.length}),esMio:(null===i||void 0===i?void 0:i.id)===n.usuarioId,onEditar:()=>{f(n),m(!0)},onLoginClick:w,favoritos:l,setFavoritos:c,usuarioActivo:i,abrirModalUsuario:()=>(e=>{v(e),b(!0)})(e)})]},t)})})})]},t)}),g&&(0,rb.jsx)(Nw,{libro:g,onClose:()=>v(null)}),y&&g&&(0,rb.jsxs)(Xw,{onClose:()=>b(!1),children:[(0,rb.jsx)("h2",{className:"text-2xl font-bold",children:g.titulo}),(0,rb.jsx)("p",{className:"text-xl text-gray-700",children:g.autor}),(0,rb.jsx)("img",{src:null===(n=g.publicaciones[0])||void 0===n?void 0:n.imagen,alt:g.titulo,className:"w-full h-64 object-cover mt-4 rounded-lg"}),(0,rb.jsx)("h3",{className:"mt-4 text-xl font-semibold",children:"Usuarios que lo publicaron:"}),(0,rb.jsx)("ul",{className:"mt-2",children:g.publicaciones.map((e,t)=>(0,rb.jsxs)("li",{className:"flex justify-between items-center py-1",children:[(0,rb.jsx)("span",{children:e.usuario||"An\xf3nimo"}),(0,rb.jsx)("span",{children:e.ciudad||"Sin ciudad"})]},t))})]})]})},D_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],M_=(()=>new Set(D_))(),F_=e=>180*e/Math.PI,V_=e=>{const t=F_(Math.atan2(e[1],e[0]));return z_(t)},U_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:V_,rotateZ:V_,skewX:e=>F_(Math.atan(e[1])),skewY:e=>F_(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},z_=e=>((e%=360)<0&&(e+=360),e),B_=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),W_=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),H_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B_,scaleY:W_,scale:e=>(B_(e)+W_(e))/2,rotateX:e=>z_(F_(Math.atan2(e[6],e[5]))),rotateY:e=>z_(F_(Math.atan2(-e[2],e[0]))),rotateZ:V_,rotate:V_,skewX:e=>F_(Math.atan(e[4])),skewY:e=>F_(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function q_(e){return e.includes("scale")?1:0}function K_(e,t){if(!e||"none"===e)return q_(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,i;if(n)r=H_,i=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=U_,i=t}if(!i)return q_(t);const o=r[t],s=i[1].split(",").map(G_);return"function"===typeof o?o(s):s[o]}function G_(e){return parseFloat(e.trim())}const Q_=e=>t=>"string"===typeof t&&t.startsWith(e),Y_=Q_("--"),X_=Q_("var(--"),$_=e=>!!X_(e)&&J_.test(e.split("/*")[0].trim()),J_=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Z_(e){let{top:t,left:n,right:r,bottom:i}=e;return{x:{min:n,max:r},y:{min:t,max:i}}}const eT=(e,t,n)=>e+(t-e)*n;function tT(e){return void 0===e||1===e}function nT(e){let{scale:t,scaleX:n,scaleY:r}=e;return!tT(t)||!tT(n)||!tT(r)}function rT(e){return nT(e)||iT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iT(e){return oT(e.x)||oT(e.y)}function oT(e){return e&&"0%"!==e}function sT(e,t,n){return n+t*(e-n)}function aT(e,t,n,r,i){return void 0!==i&&(e=sT(e,i,r)),sT(e,n,r)+t}function lT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=aT(e.min,t,n,r,i),e.max=aT(e.max,t,n,r,i)}function cT(e,t){let{x:n,y:r}=t;lT(e.x,n.translate,n.scale,n.originPoint),lT(e.y,r.translate,r.scale,r.originPoint)}const uT=.999999999999,dT=1.0000000000001;function hT(e,t){e.min=e.min+t,e.max=e.max+t}function fT(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;lT(e,t,n,eT(e.min,e.max,i),r)}function pT(e,t){fT(e.x,t.x,t.scaleX,t.scale,t.originX),fT(e.y,t.y,t.scaleY,t.scale,t.originY)}function mT(e,t){return Z_(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const gT=new Set(["width","height","top","left","right","bottom",...D_]),vT=(e,t,n)=>n>t?t:n<e?e:n,yT={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},bT=Nt(Nt({},yT),{},{transform:e=>vT(0,1,e)}),wT=Nt(Nt({},yT),{},{default:1}),xT=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),ST=xT("deg"),ET=xT("%"),kT=xT("px"),_T=xT("vh"),TT=xT("vw"),CT=(()=>Nt(Nt({},ET),{},{parse:e=>ET.parse(e)/100,transform:e=>ET.transform(100*e)}))(),NT=e=>t=>t.test(e),IT=[yT,kT,ET,ST,TT,_T,{test:e=>"auto"===e,parse:e=>e}],jT=e=>IT.find(NT(e));const OT=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),PT=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function AT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');const[r,i]=function(e){const t=PT.exec(e);if(!t)return[,];const[,n,r,i]=t;return["--".concat(null!==n&&void 0!==n?n:r),i]}(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const e=o.trim();return OT(e)?parseFloat(e):e}return $_(i)?AT(i,t,n+1):i}const RT=e=>e===yT||e===kT,LT=new Set(["x","y","z"]),DT=D_.filter(e=>!LT.has(e));const MT={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:i="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(i)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return K_(n,"x")},y:(e,t)=>{let{transform:n}=t;return K_(n,"y")}};MT.translateX=MT.x,MT.translateY=MT.y;const FT=e=>e,VT={},UT=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],zT={value:null,addProjectionMetrics:null};function BT(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=UT.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(a)}const u={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{a=e,i?o=!0:(i=!0,[n,r]=[r,n],n.forEach(c),t&&zT.value&&zT.value.frameloop[t].push(l),l=0,n.clear(),i=!1,o&&(o=!1,u.process(e)))}};return u}(o,t?n:void 0),e),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=s,m=()=>{const o=VT.useManualTiming?i.timestamp:performance.now();n=!1,VT.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(o-i.timestamp,40),1)),i.timestamp=o,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))},g=UT.reduce((t,o)=>{const a=s[o];return t[o]=function(t){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,i.isProcessing||e(m)),a.schedule(t,o,s)},t},{});return{schedule:g,cancel:e=>{for(let t=0;t<UT.length;t++)s[UT[t]].cancel(e)},state:i,steps:s}}const{schedule:WT,cancel:HT,state:qT,steps:KT}=BT("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:FT,!0),GT=new Set;let QT=!1,YT=!1,XT=!1;function $T(){if(YT){const e=Array.from(GT).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return DT.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(t=>{var n;let[r,i]=t;null===(n=e.getValue(r))||void 0===n||n.set(i)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}YT=!1,QT=!1,GT.forEach(e=>e.complete(XT)),GT.clear()}function JT(){GT.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(YT=!0)})}class ZT{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(GT.add(this),QT||(QT=!0,WT.read(JT),WT.resolveKeyframes($T))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=null===r||void 0===r?void 0:r.get(),o=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,o);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=o),r&&void 0===i&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),GT.delete(this)}cancel(){"scheduled"===this.state&&(GT.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const eC=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);function tC(e){return"number"===typeof e?0===e:null===e||("none"===e||"0"===e||eC(e))}const nC=e=>Math.round(1e5*e)/1e5,rC=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const iC=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,oC=(e,t)=>n=>Boolean("string"===typeof n&&iC.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),sC=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[i,o,s,a]=r.match(rC);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},aC=Nt(Nt({},yT),{},{transform:e=>Math.round((e=>vT(0,255,e))(e))}),lC={test:oC("rgb","red"),parse:sC("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:i=1}=e;return"rgba("+aC.transform(t)+", "+aC.transform(n)+", "+aC.transform(r)+", "+nC(bT.transform(i))+")"}};const cC={test:oC("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:lC.transform},uC={test:oC("hsl","hue"),parse:sC("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:i=1}=e;return"hsla("+Math.round(t)+", "+ET.transform(nC(n))+", "+ET.transform(nC(r))+", "+nC(bT.transform(i))+")"}},dC={test:e=>lC.test(e)||cC.test(e)||uC.test(e),parse:e=>lC.test(e)?lC.parse(e):uC.test(e)?uC.parse(e):cC.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?lC.transform(e):uC.transform(e),getAnimatableNone:e=>{const t=dC.parse(e);return t.alpha=0,dC.transform(t)}},hC=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const fC="number",pC="color",mC=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function gC(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const s=t.replace(mC,e=>(dC.test(e)?(r.color.push(o),i.push(pC),n.push(dC.parse(e))):e.startsWith("var(")?(r.var.push(o),i.push("var"),n.push(e)):(r.number.push(o),i.push(fC),n.push(parseFloat(e))),++o,"${}")).split("${}");return{values:n,split:s,indexes:r,types:i}}function vC(e){return gC(e).values}function yC(e){const{split:t,types:n}=gC(e),r=t.length;return e=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],void 0!==e[o]){const t=n[o];i+=t===fC?nC(e[o]):t===pC?dC.transform(e[o]):e[o]}return i}}const bC=e=>"number"===typeof e?0:dC.test(e)?dC.getAnimatableNone(e):e;const wC={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(rC))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(hC))||void 0===n?void 0:n.length)||0)>0},parse:vC,createTransformer:yC,getAnimatableNone:function(e){const t=vC(e);return yC(e)(t.map(bC))}},xC=new Set(["brightness","contrast","saturate","opacity"]);function SC(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(rC)||[];if(!r)return e;const i=n.replace(r,"");let o=xC.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const EC=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,kC=Nt(Nt({},wC),{},{getAnimatableNone:e=>{const t=e.match(EC);return t?t.map(SC).join(" "):e}}),_C=Nt(Nt({},yT),{},{transform:Math.round}),TC=Nt(Nt({borderWidth:kT,borderTopWidth:kT,borderRightWidth:kT,borderBottomWidth:kT,borderLeftWidth:kT,borderRadius:kT,radius:kT,borderTopLeftRadius:kT,borderTopRightRadius:kT,borderBottomRightRadius:kT,borderBottomLeftRadius:kT,width:kT,maxWidth:kT,height:kT,maxHeight:kT,top:kT,right:kT,bottom:kT,left:kT,padding:kT,paddingTop:kT,paddingRight:kT,paddingBottom:kT,paddingLeft:kT,margin:kT,marginTop:kT,marginRight:kT,marginBottom:kT,marginLeft:kT,backgroundPositionX:kT,backgroundPositionY:kT},{rotate:ST,rotateX:ST,rotateY:ST,rotateZ:ST,scale:wT,scaleX:wT,scaleY:wT,scaleZ:wT,skew:ST,skewX:ST,skewY:ST,distance:kT,translateX:kT,translateY:kT,translateZ:kT,x:kT,y:kT,z:kT,perspective:kT,transformPerspective:kT,opacity:bT,originX:CT,originY:CT,originZ:kT}),{},{zIndex:_C,fillOpacity:bT,strokeOpacity:bT,numOctaves:_C}),CC=Nt(Nt({},TC),{},{color:dC,backgroundColor:dC,outlineColor:dC,fill:dC,stroke:dC,borderColor:dC,borderTopColor:dC,borderRightColor:dC,borderBottomColor:dC,borderLeftColor:dC,filter:kC,WebkitFilter:kC}),NC=e=>CC[e];function IC(e,t){let n=NC(e);return n!==kC&&(n=wC),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const jC=new Set(["auto","none","0"]);class OC extends ZT{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),$_(n))){const r=AT(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!gT.has(n)||2!==e.length)return;const[r,i]=e,o=jT(r),s=jT(i);if(o!==s)if(RT(o)&&RT(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else MT[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||tC(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"===typeof t&&!jC.has(t)&&gC(t).values.length&&(r=e[i]),i++}if(r&&n)for(const o of t)e[o]=IC(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=MT[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=MT[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach(e=>{let[n,r]=e;t.getValue(n).set(r)}),this.resolveNoneKeyframes()}}const PC=e=>Boolean(e&&e.getVelocity);let AC;function RC(){AC=void 0}const LC={now:()=>(void 0===AC&&LC.set(qT.isProcessing||VT.useManualTiming?qT.timestamp:performance.now()),AC),set:e=>{AC=e,queueMicrotask(RC)}};function DC(e,t){-1===e.indexOf(t)&&e.push(t)}function MC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class FC{constructor(){this.subscriptions=[]}add(e){return DC(this.subscriptions,e),()=>MC(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function VC(e,t){return t?e*(1e3/t):0}const UC={current:void 0};class zC{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=LC.now();var i,o;if((t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev)&&(null===(i=t.events.change)||void 0===i||i.notify(t.current),t.dependents))for(const s of t.dependents)s.dirty();n&&(null===(o=t.events.renderRequest)||void 0===o||o.notify(t.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=LC.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new FC);const n=this.events[e].add(t);return"change"===e?()=>{n(),WT.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return UC.current&&UC.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=LC.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return VC(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function BC(e,t){return new zC(e,t)}const WC=[...IT,dC,wC],{schedule:HC,cancel:qC}=BT(queueMicrotask,!1),KC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},GC={};for(const n in KC)GC[n]={isEnabled:e=>KC[n].some(t=>!!e[t])};const QC=()=>({x:{min:0,max:0},y:{min:0,max:0}}),YC="undefined"!==typeof window,XC={current:null},$C={current:!1};const JC=new WeakMap;function ZC(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function eN(e){return"string"===typeof e||Array.isArray(e)}const tN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nN=["initial",...tN];function rN(e){return ZC(e.animate)||nN.some(t=>eN(e[t]))}function iN(e){return Boolean(rN(e)||e.variants)}function oN(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function sN(e,t,n,r){if("function"===typeof t){const[i,o]=oN(r);t=t(void 0!==n?n:e.custom,i,o)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[i,o]=oN(r);t=t(void 0!==n?n:e.custom,i,o)}return t}const aN=["willChange"],lN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cN{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ZT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=LC.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,WT.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget=Nt({},l),this.initialValues=n.initial?Nt({},l):{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=Boolean(o),this.isControllingVariants=rN(n),this.isVariantNode=iN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const u=this.scrapeMotionValuesFromProps(n,{},this),{willChange:d}=u,h=$w(u,aN);for(const f in h){const e=h[f];void 0!==l[f]&&PC(e)&&e.set(l[f],!1)}}mount(e){this.current=e,JC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),$C.current||function(){if($C.current=!0,YC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>XC.current=e.matches;e.addEventListener("change",t),t()}else XC.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||XC.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),HT(this.notifyUpdate),HT(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=M_.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&WT.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in GC){const t=GC[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<lN.length;n++){const t=lN[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],o=n[r];if(PC(i))e.addValue(r,i);else if(PC(o))e.addValue(r,BC(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,BC(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=BC(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];return void 0!==r&&null!==r&&("string"===typeof r&&(OT(r)||eC(r))?r=parseFloat(r):!(e=>WC.find(NT(e)))(r)&&wC.test(t)&&(r=IC(e,t)),this.setBaseTarget(e,PC(r)?r.get():r)),PC(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const i=sN(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);i&&(n=i[e])}if(t&&void 0!==n)return n;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||PC(i)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new FC),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){HC.render(this.render)}}class uN extends cN{constructor(){super(...arguments),this.KeyframeResolver=OC}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;PC(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}}const dN=(e,t)=>t&&"number"===typeof e?t.transform(e):e,hN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fN=D_.length;function pN(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(M_.has(l))s=!0;else if(Y_(l))i[l]=e;else{const t=dN(e,TC[l]);l.startsWith("origin")?(a=!0,o[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",i=!0;for(let o=0;o<fN;o++){const s=D_[o],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=dN(a,TC[s]);l||(i=!1,r+="".concat(hN[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function mN(e,t,n,r){let{style:i,vars:o}=t;const s=e.style;let a;for(a in i)s[a]=i[a];for(a in null===r||void 0===r||r.applyProjectionStyles(s,n),o)s.setProperty(a,o[a])}const gN={};function vN(e,t){let{layout:n,layoutId:r}=t;return M_.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!gN[e]||"opacity"===e)}function yN(e,t,n){const{style:r}=e,i={};for(const s in r){var o;(PC(r[s])||t.style&&PC(t.style[s])||vN(s,e)||void 0!==(null===n||void 0===n||null===(o=n.getValue(s))||void 0===o?void 0:o.liveStyle))&&(i[s]=r[s])}return i}class bN extends uN{constructor(){super(...arguments),this.type="html",this.renderInstance=mN}readValueFromInstance(e,t){var n,r;if(M_.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?q_(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return K_(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),i=(Y_(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return mT(e,n)}build(e,t,n){pN(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return yN(e,t,n)}}const wN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),xN={offset:"stroke-dashoffset",array:"stroke-dasharray"},SN={offset:"strokeDashoffset",array:"strokeDasharray"};const EN=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"];function kN(e,t,n,r,i){let{attrX:o,attrY:s,attrScale:a,pathLength:l,pathSpacing:c=1,pathOffset:u=0}=t;if(pN(e,$w(t,EN),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;var f,p;(d.transform&&(h.transform=d.transform,delete d.transform),h.transform||d.transformOrigin)&&(h.transformOrigin=null!==(f=d.transformOrigin)&&void 0!==f?f:"50% 50%",delete d.transformOrigin);h.transform&&(h.transformBox=null!==(p=null===i||void 0===i?void 0:i.transformBox)&&void 0!==p?p:"fill-box",delete d.transformBox);void 0!==o&&(d.x=o),void 0!==s&&(d.y=s),void 0!==a&&(d.scale=a),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const o=i?xN:SN;e[o.offset]=kT.transform(-r);const s=kT.transform(t),a=kT.transform(n);e[o.array]="".concat(s," ").concat(a)}(d,l,c,u,!1)}const _N=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),TN=e=>"string"===typeof e&&"svg"===e.toLowerCase();function CN(e,t,n){const r=yN(e,t,n);for(const i in e)if(PC(e[i])||PC(t[i])){r[-1!==D_.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}class NN extends uN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=QC}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(M_.has(t)){const e=NC(t);return e&&e.default||0}return t=_N.has(t)?t:wN(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return CN(e,t,n)}build(e,t,n){kN(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){mN(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(_N.has(i)?i:wN(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=TN(e.tagName),super.mount(e)}}const IN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jN(e){return"string"===typeof e&&!e.includes("-")&&!!(IN.indexOf(e)>-1||/[A-Z]/.test(e))}const ON=(e,n)=>jN(e)?new NN(n):new bN(n,{allowProjection:e!==t.Fragment}),PN=(0,t.createContext)({}),AN=(0,t.createContext)({strict:!1}),RN=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),LN=(0,t.createContext)({});function DN(e){const{initial:n,animate:r}=function(e,t){if(rN(e)){const{initial:t,animate:n}=e;return{initial:!1===t||eN(t)?t:void 0,animate:eN(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(LN));return(0,t.useMemo)(()=>({initial:n,animate:r}),[MN(n),MN(r)])}function MN(e){return Array.isArray(e)?e.join(" "):e}const FN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VN(e,t,n){for(const r in t)PC(t[r])||vN(r,n)||(e[r]=t[r])}function UN(e,n){const r={};return VN(r,e.style||{},e),Object.assign(r,function(e,n){let{transformTemplate:r}=e;return(0,t.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return pN(e,n,r),Object.assign({},e.vars,e.style)},[n])}(e,n)),r}function zN(e,t){const n={},r=UN(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const BN=()=>Nt(Nt({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function WN(e,n,r,i){const o=(0,t.useMemo)(()=>{const t=BN();return kN(t,n,TN(i),e.transformTemplate,e.style),Nt(Nt({},t.attrs),{},{style:Nt({},t.style)})},[n]);if(e.style){const t={};VN(t,e.style,e),o.style=Nt(Nt({},t),o.style)}return o}const HN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qN(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HN.has(e)}let KN=e=>!qN(e);try{"function"===typeof(GN=require("@emotion/is-prop-valid").default)&&(KN=e=>e.startsWith("on")?!qN(e):GN(e))}catch(YR){}var GN;function QN(e,n,r,i,o){let{latestValues:s}=i,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const l=(jN(e)?WN:zN)(n,s,o,e),c=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"===typeof e.values||(KN(i)||!0===n&&qN(i)||!t&&!qN(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof e,a),u=e!==t.Fragment?Nt(Nt(Nt({},c),l),{},{ref:r}):{},{children:d}=n,h=(0,t.useMemo)(()=>PC(d)?d.get():d,[d]);return(0,t.createElement)(e,Nt(Nt({},u),{},{children:h}))}const YN=(0,t.createContext)(null);function XN(e){const n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}function $N(e){return PC(e)?e.get():e}const JN=["transitionEnd","transition"];function ZN(e,t,n,r){const i={},o=r(e,{});for(const h in o)i[h]=$N(o[h]);let{initial:s,animate:a}=e;const l=rN(e),c=iN(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===s;const d=u?a:s;if(d&&"boolean"!==typeof d&&!ZC(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=sN(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=$w(r,JN);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const eI=e=>(n,r)=>{const i=(0,t.useContext)(LN),o=(0,t.useContext)(YN),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:i,createRenderState:o}=e;return{latestValues:ZN(t,n,r,i),renderState:o()}}(e,n,i,o);return r?s():XN(s)},tI=eI({scrapeMotionValuesFromProps:yN,createRenderState:FN}),nI=eI({scrapeMotionValuesFromProps:CN,createRenderState:BN});const rI=Symbol.for("motionComponentSymbol");function iI(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function oI(e,n,r){return(0,t.useCallback)(t=>{t&&e.onMount&&e.onMount(t),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):iI(r)&&(r.current=t))},[n])}const sI="data-"+wN("framerAppearId"),aI=(0,t.createContext)({}),lI=YC?t.useLayoutEffect:t.useEffect;function cI(e,n,r,i,o){var s,a,l,c;const{visualElement:u}=(0,t.useContext)(LN),d=(0,t.useContext)(AN),h=(0,t.useContext)(YN),f=(0,t.useContext)(RN).reducedMotion,p=(0,t.useRef)(null);i=i||d.renderer,!p.current&&i&&(p.current=i(e,{visualState:n,parent:u,props:r,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:f}));const m=p.current,g=(0,t.useContext)(aI);!m||m.projection||!o||"html"!==m.type&&"svg"!==m.type||function(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:uI(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:Boolean(s)||a&&iI(a),visualElement:e,animationType:"string"===typeof o?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(p.current,r,o,g);const v=(0,t.useRef)(!1);(0,t.useInsertionEffect)(()=>{m&&v.current&&m.update(r,h)});const y=r[sI],b=(0,t.useRef)(Boolean(y)&&!(null!==(s=(a=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(a,y))&&(null===(l=(c=window).MotionHasOptimisedAnimation)||void 0===l?void 0:l.call(c,y)));return lI(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),(0,t.useEffect)(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,y)}),b.current=!1))}),m}function uI(e){if(e)return!1!==e.options.allowProjection?e.projection:uI(e.parent)}function dI(e){var n,r;let{forwardMotionProps:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;o&&function(e){for(const t in e)GC[t]=Nt(Nt({},GC[t]),e[t])}(o);const a=jN(e)?nI:tI;function l(n,r){let o;const l=Nt(Nt(Nt({},(0,t.useContext)(RN)),n),{},{layoutId:hI(n)}),{isStatic:c}=l,u=DN(n),d=a(n,c);if(!c&&YC){!function(){(0,t.useContext)(AN).strict;0}();const n=function(e){const{drag:t,layout:n}=GC;if(!t&&!n)return{};const r=Nt(Nt({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=n.MeasureLayout,u.visualElement=cI(e,d,l,s,n.ProjectionNode)}return(0,rb.jsxs)(LN.Provider,{value:u,children:[o&&u.visualElement?(0,rb.jsx)(o,Nt({visualElement:u.visualElement},l)):null,QN(e,n,oI(d,u.visualElement,r),d,c,i)]})}l.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(n=null!==(r=e.displayName)&&void 0!==r?r:e.name)&&void 0!==n?n:"",")"));const c=(0,t.forwardRef)(l);return c[rI]=e,c}function hI(e){let{layoutId:n}=e;const r=(0,t.useContext)(PN).id;return r&&void 0!==n?r+"-"+n:n}function fI(e,t){if("undefined"===typeof Proxy)return dI;const n=new Map,r=(n,r)=>dI(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,o)=>"create"===o?r:(n.has(o)||n.set(o,dI(o,void 0,e,t)),n.get(o))})}function pI(e,t,n){const r=e.getProps();return sN(r,t,void 0!==n?n:r.custom,e)}function mI(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const gI=e=>Array.isArray(e),vI=["transitionEnd","transition"];function yI(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,BC(n))}function bI(e){return gI(e)?e[e.length-1]||0:e}function wI(e,t){const n=e.getValue("willChange");if(r=n,Boolean(PC(r)&&r.add))return n.add(t);if(!n&&VT.WillChange){const n=new VT.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function xI(e){return e.props[sI]}const SI=(e,t)=>n=>t(e(n)),EI=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(SI)},kI=e=>1e3*e,_I=e=>e/1e3,TI={layout:0,mainThread:0,waapi:0};function CI(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function NI(e,t){return n=>n>0?t:e}const II=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},jI=[cC,lC,uC];function OI(e){const t=(e=>jI.find(t=>t.test(e)))(e);if(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),!Boolean(t))return!1;let n=t.parse(e);return t===uC&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:i}=e;t/=360,n/=100,r/=100;let o=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,i=2*r-e;o=CI(i,e,t+1/3),s=CI(i,e,t),a=CI(i,e,t-1/3)}else o=s=a=r;return{red:Math.round(255*o),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(n)),n}const PI=(e,t)=>{const n=OI(e),r=OI(t);if(!n||!r)return NI(e,t);const i=Nt({},n);return e=>(i.red=II(n.red,r.red,e),i.green=II(n.green,r.green,e),i.blue=II(n.blue,r.blue,e),i.alpha=eT(n.alpha,r.alpha,e),lC.transform(i))},AI=new Set(["none","hidden"]);function RI(e,t){return n=>eT(e,t,n)}function LI(e){return"number"===typeof e?RI:"string"===typeof e?$_(e)?NI:dC.test(e)?PI:FI:Array.isArray(e)?DI:"object"===typeof e?dC.test(e)?PI:MI:NI}function DI(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>LI(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function MI(e,t){const n=Nt(Nt({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=LI(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const FI=(e,t)=>{const n=wC.createTransformer(t),r=gC(e),i=gC(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?AI.has(e)&&!i.values.length||AI.has(t)&&!r.values.length?function(e,t){return AI.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):EI(DI(function(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){var i;const s=t.types[o],a=e.indexes[s][r[s]],l=null!==(i=e.values[a])&&void 0!==i?i:0;n[o]=l,r[s]++}return n}(r,i),i.values),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),NI(e,t))};function VI(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return eT(e,t,n);return LI(e)(e,t)}const UI=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return WT.update(t,e)},stop:()=>HT(t),now:()=>qT.isProcessing?qT.timestamp:LC.now()}},zI=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(1e4*e(o/(i-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},BI=2e4;function WI(e){let t=0;let n=e.next(t);for(;!n.done&&t<BI;)t+=50,n=e.next(t);return t>=BI?1/0:t}function HI(e,t,n){const r=Math.max(t-5,0);return VC(n-e(r),t-r)}const qI={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KI=.001;function GI(e){let t,n,{duration:r=qI.duration,bounce:i=qI.bounce,velocity:o=qI.velocity,mass:s=qI.mass}=e;kI(qI.maxDuration);let a=1-i;a=vT(qI.minDamping,qI.maxDamping,a),r=vT(qI.minDuration,qI.maxDuration,_I(r)),a<1?(t=e=>{const t=e*a,n=t*r,i=t-o,s=YI(e,a),l=Math.exp(-n);return KI-i/s*l},n=e=>{const n=e*a*r,i=n*o+o,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=YI(Math.pow(e,2),a);return(-t(e)+KI>0?-1:1)*((i-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-o)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(o-e)));const l=function(e,t,n){let r=n;for(let i=1;i<QI;i++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=kI(r),isNaN(l))return{stiffness:qI.stiffness,damping:qI.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const QI=12;function YI(e,t){return e*Math.sqrt(1-t*t)}const XI=["duration","bounce"],$I=["stiffness","damping","mass"];function JI(e,t){return t.some(t=>void 0!==e[t])}function ZI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qI.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qI.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=Nt({velocity:qI.velocity,stiffness:qI.stiffness,damping:qI.damping,mass:qI.mass,isResolvedFromDuration:!1},e);if(!JI(e,$I)&&JI(e,XI))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,o=2*vT(.05,1,1-(e.bounce||0))*Math.sqrt(i);t=Nt(Nt({},t),{},{mass:qI.mass,stiffness:i,damping:o})}else{const n=GI(e);t=Nt(Nt(Nt({},t),n),{},{mass:qI.mass}),t.isResolvedFromDuration=!0}return t}(Nt(Nt({},n),{},{velocity:-_I(n.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=s-o,v=_I(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?qI.restSpeed.granular:qI.restSpeed.default),i||(i=y?qI.restDelta.granular:qI.restDelta.default),m<1){const e=YI(v,m);b=t=>{const n=Math.exp(-m*v*t);return s-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>s-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return s-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const w={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)a.done=e>=d;else{let n=0===e?p:0;m<1&&(n=0===e?kI(p):HI(b,e,t));const o=Math.abs(n)<=r,l=Math.abs(s-t)<=i;a.done=o&&l}return a.value=a.done?s:t,a},toString:()=>{const e=Math.min(WI(w),BI),t=zI(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function ej(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===a?g:a(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/i),b=e=>v+y(e),w=e=>{const t=y(e),n=b(e);f.done=Math.abs(t)<=u,f.value=f.done?v:n};let x,S;const E=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(x=e,S=ZI({keyframes:[f.value,p(f.value)],velocity:HI(b,e,f.value),damping:o,stiffness:s,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return S||void 0!==x||(t=!0,w(e),E(e)),void 0!==x&&e>=x?S.next(e-x):(!t&&w(e),f)}}}ZI.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(Nt(Nt({},e),{},{keyframes:[0,t]})),r=Math.min(WI(n),BI);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:_I(r)}}(e,100,ZI);return e.ease=t.ease,e.duration=kI(t.duration),e.type="keyframes",e};const tj=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function nj(e,t,n,r){if(e===t&&n===r)return FT;const i=t=>function(e,t,n,r,i){let o,s,a=0;do{s=t+(n-t)/2,o=tj(s,r,i)-e,o>0?n=s:t=s}while(Math.abs(o)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:tj(i(e),t,r)}const rj=nj(.42,0,1,1),ij=nj(0,0,.58,1),oj=nj(.42,0,.58,1),sj=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,aj=e=>t=>1-e(1-t),lj=nj(.33,1.53,.69,.99),cj=aj(lj),uj=sj(cj),dj=e=>(e*=2)<1?.5*cj(e):.5*(2-Math.pow(2,-10*(e-1))),hj=e=>1-Math.sin(Math.acos(e)),fj=aj(hj),pj=sj(hj),mj=e=>Array.isArray(e)&&"number"===typeof e[0],gj={linear:FT,easeIn:rj,easeInOut:oj,easeOut:ij,circIn:hj,circInOut:pj,circOut:fj,backIn:cj,backInOut:uj,backOut:lj,anticipate:dj},vj=e=>{if(mj(e)){e.length;const[t,n,r,i]=e;return nj(t,n,r,i)}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),gj[e]):e},yj=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function bj(e,t){let{clamp:n=!0,ease:r,mixer:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=e.length;if(t.length,1===o)return()=>t[0];if(2===o&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],i=n||VT.mix||VI,o=e.length-1;for(let s=0;s<o;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||FT:t;n=EI(e,n)}r.push(n)}return r}(t,r,i),l=a.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=yj(e[r],e[r+1],n);return a[r](i)};return n?t=>c(vT(e[0],e[o-1],t)):c}function wj(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=yj(0,t,r);e.push(eT(n,1,i))}}(t,e.length-1),t}function xj(e){let{duration:t=300,keyframes:n,times:r,ease:i="easeInOut"}=e;const o=(e=>Array.isArray(e)&&"number"!==typeof e[0])(i)?i.map(vj):vj(i),s={done:!1,value:n[0]},a=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:wj(n),t),l=bj(a,n,{ease:Array.isArray(o)?o:(c=n,u=o,c.map(()=>u||oj).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const Sj=e=>null!==e;function Ej(e,t,n){let{repeat:r,repeatType:i="loop"}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(Sj),a=o<0||r&&"loop"!==i&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}const kj={decay:ej,inertia:ej,tween:xj,keyframes:xj,spring:ZI};function _j(e){"string"===typeof e.type&&(e.type=kj[e.type])}class Tj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Cj=e=>e/100;class Nj extends Tj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==LC.now()&&this.tick(LC.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},TI.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;_j(e);const{type:t=xj,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:s}=e;const a=t||xj;a!==xj&&"number"!==typeof s[0]&&(this.mixKeyframes=EI(Cj,VI(s[0],s[1])),s=[0,100]);const l=a(Nt(Nt({},e),{},{keyframes:s}));"mirror"===i&&(this.mirroredGenerator=a(Nt(Nt({},e),{},{keyframes:[...s].reverse(),velocity:-o}))),null===l.calculatedDuration&&(l.calculatedDuration=WI(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:s,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/s)):"mirror"===d&&(b=o)),y=vT(0,1,n)*s}const w=v?{done:!1,value:c[0]}:b.next(y);i&&(w.value=i(w.value));let{done:x}=w;v||null===a||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return S&&f!==ej&&(w.value=Ej(c,this.options,m,this.speed)),p&&p(w.value),S&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return _I(this.calculatedDuration)}get time(){return _I(this.currentTime)}set time(e){var t;e=kI(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(LC.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=_I(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=UI,startTime:r}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const i=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=i):null!==this.holdTime?this.startTime=i-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:i),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(LC.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,TI.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function Ij(e){let t;return()=>(void 0===t&&(t=e()),t)}const jj=Ij(()=>void 0!==window.ScrollTimeline),Oj={};function Pj(e,t){const n=Ij(e);return()=>{var e;return null!==(e=Oj[t])&&void 0!==e?e:n()}}const Aj=Pj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(QR){return!1}return!0},"linearEasing"),Rj=e=>{let[t,n,r,i]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(i,")")},Lj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rj([0,.65,.55,1]),circOut:Rj([.55,0,1,.45]),backIn:Rj([.31,.01,.66,-.59]),backOut:Rj([.33,1.53,.69,.99])};function Dj(e,t){return e?"function"===typeof e?Aj()?zI(e,t):"ease-out":mj(e)?Rj(e):Array.isArray(e)?e.map(e=>Dj(e,t)||Lj.easeOut):Lj[e]:void 0}function Mj(e,t,n){let{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const u={[t]:n};l&&(u.offset=l);const d=Dj(a,i);Array.isArray(d)&&(u.easing=d),zT.value&&TI.waapi++;const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);const f=e.animate(u,h);return zT.value&&f.finished.finally(()=>{TI.waapi--}),f}function Fj(e){return"function"===typeof e&&"applyToOptions"in e}const Vj=["type"];class Uj extends Tj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:s,onComplete:a}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=o,this.options=e,e.type;const l=function(e){let{type:t}=e,n=$w(e,Vj);return Fj(t)&&Aj()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(i=n.ease)&&void 0!==i||(n.ease="easeOut"),n);var r,i}(e);this.animation=Mj(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=Ej(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===a||void 0===a||a(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(QR){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return _I(Number(n))}get time(){return _I(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=kI(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&jj()?(this.animation.timeline=t,FT):n(this)}}const zj={anticipate:dj,backInOut:uj,circInOut:pj};function Bj(e){"string"===typeof e.ease&&e.ease in zj&&(e.ease=zj[e.ease])}const Wj=["motionValue","onUpdate","onComplete","element"];class Hj extends Uj{constructor(e){Bj(e),_j(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:i,onComplete:o,element:s}=n,a=$w(n,Wj);if(!r)return;if(void 0!==e)return void r.set(e);const l=new Nj(Nt(Nt({},a),{},{autoplay:!1})),c=kI(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(l.sample(c-10).value,l.sample(c).value,10),l.stop()}}const qj=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!wC.test(e)&&"0"!==e||e.startsWith("url(")));const Kj=new Set(["opacity","clipPath","filter","transform"]),Gj=Ij(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));const Qj=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Yj extends Tj{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d}=e,h=$w(e,Qj);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=LC.now();const f=Nt({autoplay:n,delay:r,type:i,repeat:o,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d},h),p=(null===d||void 0===d?void 0:d.KeyframeResolver)||ZT;this.keyframeResolver=new p(l,(e,t,n)=>this.onKeyframesResolved(e,t,f,!n),c,u,d),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:s,delay:a,isHandoff:l,onUpdate:c}=n;this.resolvedAt=LC.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const o=e[e.length-1],s=qj(i,t),a=qj(o,t);return"You are trying to animate ".concat(t,' from "').concat(i,'" to "').concat(o,'". "').concat(s?o:i,'" is not an animatable value.'),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Fj(n))&&r)}(e,i,o,s)||(!VT.instantAnimations&&a||null===c||void 0===c||c(Ej(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const u=Nt(Nt({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),d=!l&&function(e){var t;const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Gj()&&r&&Kj.has(r)&&("transform"!==r||!c)&&!l&&!i&&"mirror"!==o&&0!==s&&"inertia"!==a}(u)?new Hj(Nt(Nt({},u),{},{element:u.motionValue.owner.current})):new Nj(u);d.finished.then(()=>this.notifyFinished()).catch(FT),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),XT=!0,JT(),$T(),XT=!1);return this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Xj=e=>null!==e;const $j={type:"spring",stiffness:500,damping:25,restSpeed:10},Jj={type:"keyframes",duration:.8},Zj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eO=(e,t)=>{let{keyframes:n}=t;return n.length>2?Jj:M_.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:$j:Zj},tO=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const nO=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return s=>{const a=mI(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=kI(l);const u=Nt(Nt({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},a),{},{delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u}=e,d=$w(e,tO);return!!Object.keys(d).length})(a)||Object.assign(u,eO(e,u)),u.duration&&(u.duration=kI(u.duration)),u.repeatDelay&&(u.repeatDelay=kI(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(u.duration=0,0===u.delay&&(d=!0)),(VT.instantAnimations||VT.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!o&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:i="loop"}=t;const o=e.filter(Xj),s=r&&"loop"!==i&&r%2===1?0:o.length-1;return s&&void 0!==n?n:o[s]}(u.keyframes,a);if(void 0!==e)return void WT.update(()=>{u.onUpdate(e),u.onComplete()})}return a.isSync?new Nj(u):new Yj(u)}},rO=["transition","transitionEnd"];function iO(e,t){let{protectedKeys:n,needsAnimating:r}=e;const i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}function oO(e,t){let{delay:n=0,transitionOverride:r,type:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:o=e.getDefaultTransition(),transitionEnd:s}=t,a=$w(t,rO);r&&(o=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){var u;const t=e.getValue(d,null!==(u=e.latestValues[d])&&void 0!==u?u:null),r=a[d];if(void 0===r||c&&iO(c,d))continue;const i=Nt({delay:n},mI(o||{},d)),s=t.get();if(void 0!==s&&!t.isAnimating&&!Array.isArray(r)&&r===s&&!i.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=xI(e);if(t){const e=window.MotionHandoffAnimation(t,d,WT);null!==e&&(i.startTime=e,h=!0)}}wI(e,d),t.start(nO(d,t,r,e.shouldReduceMotion&&gT.has(d)?{type:!1}:i,e,h));const f=t.animation;f&&l.push(f)}return s&&Promise.all(l).then(()=>{WT.update(()=>{s&&function(e,t){let n=pI(e,t)||{},{transitionEnd:r={},transition:i={}}=n,o=$w(n,vI);o=Nt(Nt({},o),r);for(const s in o)yI(e,s,bI(o[s]))}(e,s)})}),l}function sO(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=pI(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);const s=i?()=>Promise.all(oO(e,i,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:s,staggerDirection:a}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const a=[],l=e.variantChildren.size,c=(l-1)*i,u="function"===typeof r,d=u?e=>r(e,l):1===o?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i}:function(){return c-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*i};return Array.from(e.variantChildren).sort(aO).forEach((e,i)=>{e.notify("AnimationStart",t),a.push(sO(e,t,Nt(Nt({},s),{},{delay:n+(u?0:r)+d(i)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,n,i,s,a,r)}:()=>Promise.resolve(),{when:l}=o;if(l){const[e,t]="beforeChildren"===l?[s,a]:[a,s];return e().then(()=>t())}return Promise.all([s(),a(r.delay)])}function aO(e,t){return e.sortNodePosition(t)}function lO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const cO=nN.length;function uO(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&uO(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<cO;n++){const r=nN[n],i=e.props[r];(eN(i)||!1===i)&&(t[r]=i)}return t}const dO=["transition","transitionEnd"],hO=[...tN].reverse(),fO=tN.length;function pO(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>sO(e,t,r));n=Promise.all(i)}else if("string"===typeof t)n=sO(e,t,r);else{const i="function"===typeof t?pI(e,t,r.custom):t;n=Promise.all(oO(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,r)}))}function mO(e){let t=pO(e),n=yO(),r=!0;const i=t=>(n,r)=>{var i;const o=pI(e,r,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(o){const{transition:e,transitionEnd:t}=o,r=$w(o,dO);n=Nt(Nt(Nt({},n),r),t)}return n};function o(o){const{props:s}=e,a=uO(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<fO;t++){const h=hO[t],f=n[h],p=void 0!==s[h]?s[h]:a[h],m=eN(p),g=h===o?f.isActive:null;!1===g&&(d=t);let v=p===a[h]&&p!==s[h]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys=Nt({},u),!f.isActive&&null===g||!p&&!f.prevProp||ZC(p)||"boolean"===typeof p)continue;const y=gO(f.prevProp,p);let b=y||h===o&&f.isActive&&!v&&m||t>d&&m,w=!1;const x=Array.isArray(p)?p:[p];let S=x.reduce(i(h),{});!1===g&&(S={});const{prevResolvedValues:E={}}=f,k=Nt(Nt({},E),S),_=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=S[e],n=E[e];if(u.hasOwnProperty(e))continue;let r=!1;r=gI(t)&&gI(n)?!lO(t,n):t!==n,r?void 0!==t&&null!==t?_(e):c.add(e):void 0!==t&&c.has(e)?_(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=S,f.isActive&&(u=Nt(Nt({},u),S)),r&&e.blockInitialAnimation&&(b=!1);b&&(!(v&&y)||w)&&l.push(...x.map(e=>({animation:e,options:{type:h}})))}if(c.size){const t={};if("boolean"!==typeof s.initial){const n=pI(e,Array.isArray(s.initial)?s.initial[0]:s.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==s.initial&&s.initial!==s.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:o,setActive:function(t,r){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const s=o(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=yO(),r=!0}}}function gO(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!lO(t,e)}function vO(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yO(){return{animate:vO(!0),whileInView:vO(),whileHover:vO(),whileTap:vO(),whileDrag:vO(),whileFocus:vO(),exit:vO()}}class bO{constructor(e){this.isMounted=!1,this.node=e}update(){}}let wO=0;const xO={animation:{Feature:class extends bO{constructor(e){super(e),e.animationState||(e.animationState=mO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ZC(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends bO{constructor(){super(...arguments),this.id=wO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},SO={x:!1,y:!1};function EO(){return SO.x||SO.y}function kO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const _O=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function TO(e){return{point:{x:e.pageX,y:e.pageY}}}function CO(e,t,n,r){return kO(e,t,(e=>t=>_O(t)&&e(t,TO(t)))(n),r)}function NO(e){return e.max-e.min}function IO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=eT(t.min,t.max,e.origin),e.scale=NO(n)/NO(t),e.translate=eT(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function jO(e,t,n,r){IO(e.x,t.x,n.x,r?r.originX:void 0),IO(e.y,t.y,n.y,r?r.originY:void 0)}function OO(e,t,n){e.min=n.min+t.min,e.max=e.min+NO(t)}function PO(e,t,n){e.min=t.min-n.min,e.max=e.min+NO(t)}function AO(e,t,n){PO(e.x,t.x,n.x),PO(e.y,t.y,n.y)}function RO(e){return[e("x"),e("y")]}const LO=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},DO=(e,t)=>Math.abs(e-t);class MO{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=UO(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=DO(e.x,t.x),r=DO(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=qT;this.history.push(Nt(Nt({},r),{},{timestamp:i}));const{onStart:o,onMove:s}=this.handlers;t||(o&&o(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=FO(t,this.transformPagePoint),WT.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=UO("pointercancel"===e.type?this.lastMoveEventInfo:FO(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},!_O(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=r||window;const s=FO(TO(e),this.transformPagePoint),{point:a}=s,{timestamp:l}=qT;this.history=[Nt(Nt({},a),{},{timestamp:l})];const{onSessionStart:c}=t;c&&c(e,UO(s,this.history)),this.removeListeners=EI(CO(this.contextWindow,"pointermove",this.handlePointerMove),CO(this.contextWindow,"pointerup",this.handlePointerUp),CO(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),HT(this.updatePoint)}}function FO(e,t){return t?{point:t(e.point)}:e}function VO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function UO(e,t){let{point:n}=e;return{point:n,delta:VO(n,BO(t)),offset:VO(n,zO(t)),velocity:WO(t,.1)}}function zO(e){return e[0]}function BO(e){return e[e.length-1]}function WO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=BO(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>kI(t)));)n--;if(!r)return{x:0,y:0};const o=_I(i.timestamp-r.timestamp);if(0===o)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function HO(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function qO(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const KO=.35;function GO(e,t,n){return{min:QO(e,t),max:QO(e,n)}}function QO(e,t){return"number"===typeof e?e:e[t]||0}const YO=new WeakMap;class XO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new MO(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(TO(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(o=n)||"y"===o?SO[o]?null:(SO[o]=!0,()=>{SO[o]=!1}):SO.x||SO.y?null:(SO.x=SO.y=!0,()=>{SO.x=SO.y=!1}),!this.openDragLock))return;var o;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),RO(e=>{let t=this.getAxisMotionValue(e).get()||0;if(ET.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=NO(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&WT.postRender(()=>i(e,t)),wI(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:o}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),o&&o(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>RO(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:LO(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&WT.postRender(()=>s(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!$O(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){let{min:r,max:i}=t;return void 0!==r&&e<r?e=n?eT(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?eT(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&iI(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:i,right:o}=t;return{x:HO(e.x,r,o),y:HO(e.y,n,i)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KO;return!1===e?e=0:!0===e&&(e=KO),{x:GO(e,"left","right"),y:GO(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&RO(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!iI(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=mT(e,n),{scroll:i}=t;return i&&(hT(r.x,i.offset.x),hT(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let o=function(e,t){return{x:qO(e.x,t.x),y:qO(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!e,e&&(o=Z_(e))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},l=RO(s=>{if(!$O(s,t,this.currentDirection))return;let l=a&&a[s]||{};o&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=Nt(Nt({type:"inertia",velocity:n?e[s]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},i),l);return this.startAxisValueAnimation(s,d)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return wI(this.visualElement,e),n.start(nO(e,n,0,t,this.visualElement,!1))}stopAnimation(){RO(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){RO(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){RO(t=>{const{drag:n}=this.getProps();if(!$O(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:o}=r.layout.layoutBox[t];i.set(e[t]-eT(n,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!iI(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};RO(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=NO(e),i=NO(t);return i>r?n=yj(t.min,t.max-r,e.min):r>i&&(n=yj(e.min,e.max-i,t.min)),vT(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),RO(t=>{if(!$O(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:o}=this.constraints[t];n.set(eT(i,o,r[t]))})}addListeners(){if(!this.visualElement.current)return;YO.set(this.visualElement,this);const e=CO(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();iI(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),WT.read(t);const i=kO(window,"resize",()=>this.scalePositionWithinConstraints()),o=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(RO(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=KO,dragMomentum:s=!0}=e;return Nt(Nt({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:s})}}function $O(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const JO=e=>(t,n)=>{e&&WT.postRender(()=>e(t,n))};function ZO(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const n=(0,t.useContext)(YN);if(null===n)return[!0,null];const{isPresent:r,onExitComplete:i,register:o}=n,s=(0,t.useId)();(0,t.useEffect)(()=>{if(e)return o(s)},[e]);const a=(0,t.useCallback)(()=>e&&i&&i(s),[s,i,e]);return!r&&i?[!1,a]:[!0]}const eP={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nP={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!kT.test(e))return e;e=parseFloat(e)}const n=tP(e,t.target.x),r=tP(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},rP={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const i=e,o=wC.parse(e);if(o.length>5)return i;const s=wC.createTransformer(e),a="number"!==typeof o[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;o[0+a]/=l,o[1+a]/=c;const u=eT(l,c,.5);return"number"===typeof o[2+a]&&(o[2+a]/=u),"number"===typeof o[3+a]&&(o[3+a]/=u),s(o)}};let iP=!1;class oP extends t.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)gN[t]=e[t],Y_(t)&&(gN[t].isCSSVariable=!0)}(aP),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),iP&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions(Nt(Nt({},i.options),{},{onExitComplete:()=>this.safeToRemove()}))),eP.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:o}=n;return o?(o.isPresent=i,iP=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||WT.postRender(()=>{const e=o.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),HC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sP(e){const[n,r]=ZO(),i=(0,t.useContext)(PN);return(0,rb.jsx)(oP,Nt(Nt({},e),{},{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(aI),isPresent:n,safeToRemove:r}))}const aP={borderRadius:Nt(Nt({},nP),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:nP,borderTopRightRadius:nP,borderBottomLeftRadius:nP,borderBottomRightRadius:nP,boxShadow:rP};function lP(e){return"object"===typeof e&&null!==e}function cP(e){return lP(e)&&"ownerSVGElement"in e}const uP=(e,t)=>e.depth-t.depth;class dP{constructor(){this.children=[],this.isDirty=!1}add(e){DC(this.children,e),this.isDirty=!0}remove(e){MC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uP),this.isDirty=!1,this.children.forEach(e)}}function hP(e,t){const n=LC.now(),r=i=>{let{timestamp:o}=i;const s=o-n;s>=t&&(HT(r),e(s-t))};return WT.setup(r,!0),()=>HT(r)}const fP=["TopLeft","TopRight","BottomLeft","BottomRight"],pP=fP.length,mP=e=>"string"===typeof e?parseFloat(e):e,gP=e=>"number"===typeof e||kT.test(e);function vP(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const yP=wP(0,.5,fj),bP=wP(.5,.95,FT);function wP(e,t,n){return r=>r<e?0:r>t?1:n(yj(e,t,r))}function xP(e,t){e.min=t.min,e.max=t.max}function SP(e,t){xP(e.x,t.x),xP(e.y,t.y)}function EP(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function kP(e,t,n,r,i){return e=sT(e-=t,1/n,r),void 0!==i&&(e=sT(e,1/i,r)),e}function _P(e,t,n,r,i){let[o,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;ET.test(t)&&(t=parseFloat(t),t=eT(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=eT(o.min,o.max,r);e===o&&(a-=t),e.min=kP(e.min,t,n,a,i),e.max=kP(e.max,t,n,a,i)}(e,t[o],t[s],t[a],t.scale,r,i)}const TP=["x","scaleX","originX"],CP=["y","scaleY","originY"];function NP(e,t,n,r){_P(e.x,t,TP,n?n.x:void 0,r?r.x:void 0),_P(e.y,t,CP,n?n.y:void 0,r?r.y:void 0)}function IP(e){return 0===e.translate&&1===e.scale}function jP(e){return IP(e.x)&&IP(e.y)}function OP(e,t){return e.min===t.min&&e.max===t.max}function PP(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function AP(e,t){return PP(e.x,t.x)&&PP(e.y,t.y)}function RP(e){return NO(e.x)/NO(e.y)}function LP(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class DP{constructor(){this.members=[]}add(e){DC(this.members,e),e.scheduleRender()}remove(e){if(MC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const MP={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},FP=["","X","Y","Z"];let VP=0;function UP(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function zP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=xI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",WT,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&zP(r)}function BP(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=VP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zT.value&&(MP.nodes=MP.calculatedTargetDeltas=MP.calculatedProjections=0),this.nodes.forEach(qP),this.nodes.forEach(JP),this.nodes.forEach(ZP),this.nodes.forEach(KP),zT.addProjectionMetrics&&zT.addProjectionMetrics(MP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new dP)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new FC),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=cP(e)&&!(cP(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;WT.read(()=>{r=window.innerWidth}),t(e,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=hP(i,250),eP.hasAnimatedSinceResize&&(eP.hasAnimatedSinceResize=!1,this.nodes.forEach($P)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&o&&(r||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:i}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||o.getDefaultTransition()||oA,{onLayoutAnimationStart:a,onLayoutAnimationComplete:l}=o.getProps(),c=!this.targetLayout||!AP(this.targetLayout,i),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=Nt(Nt({},mI(s,"layout")),{},{onPlay:a,onComplete:l});(o.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||$P(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),HT(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eA),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(QP);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(YP);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(XP),this.nodes.forEach(WP),this.nodes.forEach(HP)):this.nodes.forEach(YP),this.clearAllSnapshots();const e=LC.now();qT.delta=vT(0,1e3/60,e-qT.timestamp),qT.timestamp=e,qT.isProcessing=!0,KT.update.process(qT),KT.preRender.process(qT),KT.render.process(qT),qT.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,HC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GP),this.sharedNodes.forEach(tA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,WT.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){WT.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||NO(this.snapshot.measuredBox.x)||NO(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!o)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!jP(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||rT(this.latestValues)||i)&&(o(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),lA((r=n).x),lA(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(uA))){const{scroll:e}=this.root;e&&(hT(n.x,e.offset.x),hT(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(SP(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:i,options:o}=t;t!==this.root&&i&&o.layoutScroll&&(i.wasRoot&&SP(n,e),hT(n.x,i.offset.x),hT(n.y,i.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};SP(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&pT(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),rT(e.latestValues)&&pT(n,e.latestValues)}return rT(this.latestValues)&&pT(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};SP(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!rT(e.latestValues))continue;nT(e.latestValues)&&e.updateSnapshot();const r=QC();SP(r,e.measurePageBox()),NP(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return rT(this.latestValues)&&NP(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Nt(Nt(Nt({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qT.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:o}=this.options;if(this.layout&&(i||o)){if(this.resolvedRelativeTargetAt=qT.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},AO(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),SP(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,a=this.relativeTarget,l=this.relativeParent.target,OO(s.x,a.x,l.x),OO(s.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):SP(this.target,this.layout.layoutBox),cT(this.target,this.targetDelta)):SP(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},AO(this.relativeTargetOrigin,this.target,e.target),SP(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zT.value&&MP.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!nT(this.parent.latestValues)&&!iT(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===qT.timestamp&&(r=!1),r)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;SP(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=n.length;if(!i)return;let o,s;t.x=t.y=1;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:i}=o.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&pT(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,cT(e,s)),r&&rT(o.latestValues)&&pT(e,o.latestValues))}t.x<dT&&t.x>uT&&(t.x=1),t.y<dT&&t.y>uT&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(EP(this.prevProjectionDelta.x,this.projectionDelta.x),EP(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),jO(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&LP(this.projectionDelta.x,this.prevProjectionDelta.x)&&LP(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),zT.value&&MP.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},i=Nt({},this.latestValues),o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(iA));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;nA(o.x,e.x,n),nA(o.y,e.y,n),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(AO(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){rA(e.x,t.x,n.x,r),rA(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,s,n),d&&function(e,t){return OP(e.x,t.x)&&OP(e.y,t.y)}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),SP(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,o){var s,a;if(i)e.opacity=eT(0,null!==(s=n.opacity)&&void 0!==s?s:1,yP(r)),e.opacityExit=eT(null!==(a=t.opacity)&&void 0!==a?a:1,0,bP(r));else if(o){var l,c;e.opacity=eT(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let u=0;u<pP;u++){const i="border".concat(fP[u],"Radius");let o=vP(t,i),s=vP(n,i);void 0===o&&void 0===s||(o||(o=0),s||(s=0),0===o||0===s||gP(o)===gP(s)?(e[i]=Math.max(eT(mP(o),mP(s),r),0),(ET.test(s)||ET.test(o))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=eT(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(HT(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=WT.update(()=>{eP.hasAnimatedSinceResize=!0,TI.layout++,this.motionValue||(this.motionValue=BC(0)),this.currentAnimation=function(e,t,n){const r=PC(e)?e:BC(e);return r.start(nO("",r,t,n)),r.animation}(this.motionValue,[0,1e3],Nt(Nt({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{TI.layout--},onComplete:()=>{TI.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&cA(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=NO(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=NO(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}SP(t,n),pT(t,i),jO(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new DP);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&UP("z",e,r,this.animationValues);for(let i=0;i<FP.length;i++)UP("rotate".concat(FP[i]),e,r,this.animationValues),UP("skew".concat(FP[i]),e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=$N(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=$N(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!rT(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let o=function(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((i||o||s)&&(r="translate3d(".concat(i,"px, ").concat(o,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:o,skewX:s,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),i&&(r+="rotateX(".concat(i,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(o=n(i,o)),e.transform=o;const{x:s,y:a}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*s.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=i.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const u in gN){if(void 0===i[u])continue;const{correct:t,applyTo:n,isCSSVariable:s}=gN[u],a="none"===o?i[u]:t(i[u],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else s?this.options.visualElement.renderState.vars[u]=a:e[u]=a}this.options.layoutId&&(e.pointerEvents=r===this?$N(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(QP),this.root.sharedNodes.clear()}}}function WP(e){e.updateLayout()}function HP(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;"size"===i?RO(e=>{const r=o?n.measuredBox[e]:n.layoutBox[e],i=NO(r);r.min=t[e].min,r.max=r.min+i}):cA(i,n.layoutBox,t)&&RO(r=>{const i=o?n.measuredBox[r]:n.layoutBox[r],s=NO(t[r]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};jO(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?jO(a,e.applyTransform(r,!0),n.measuredBox):jO(a,t,n.layoutBox);const l=!jP(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:o}=r;if(i&&o){const s={x:{min:0,max:0},y:{min:0,max:0}};AO(s,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};AO(a,t,o.layoutBox),AP(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function qP(e){zT.value&&MP.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function KP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function GP(e){e.clearSnapshot()}function QP(e){e.clearMeasurements()}function YP(e){e.isLayoutDirty=!1}function XP(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $P(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function JP(e){e.resolveTargetDelta()}function ZP(e){e.calcProjection()}function eA(e){e.resetSkewAndRotation()}function tA(e){e.removeLeadSnapshot()}function nA(e,t,n){e.translate=eT(t.translate,0,n),e.scale=eT(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rA(e,t,n,r){e.min=eT(t.min,n.min,r),e.max=eT(t.max,n.max,r)}function iA(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const oA={duration:.45,ease:[.4,0,.1,1]},sA=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),aA=sA("applewebkit/")&&!sA("chrome/")?Math.round:FT;function lA(e){e.min=aA(e.min),e.max=aA(e.max)}function cA(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=RP(t),i=RP(n),o=.2,!(Math.abs(r-i)<=o));var r,i,o}function uA(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const dA=BP({attachResizeListener:(e,t)=>kO(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hA={current:void 0},fA=BP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hA.current){const e=new dA({});e.mount(window),e.setOptions({layoutScroll:!0}),hA.current=e}return hA.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),pA={pan:{Feature:class extends bO{constructor(){super(...arguments),this.removePointerDownListener=FT}onPointerDown(e){this.session=new MO(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LO(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:JO(e),onStart:JO(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&WT.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=CO(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends bO{constructor(e){super(e),this.removeGroupControls=FT,this.removeListeners=FT,this.controls=new XO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||FT}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:fA,MeasureLayout:sP}};function mA(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let i=document;t&&(i=t.current);const o=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}(e),r=new AbortController;return[n,Nt(Nt({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function gA(e){return!("touch"===e.pointerType||EO())}function vA(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&WT.postRender(()=>i(t,TO(t)))}function yA(e){return lP(e)&&"offsetHeight"in e}const bA=(e,t)=>!!t&&(e===t||bA(e,t.parentElement)),wA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const xA=new WeakSet;function SA(e){return t=>{"Enter"===t.key&&e(t)}}function EA(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function kA(e){return _O(e)&&!EO()}function _A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=mA(e,n),s=e=>{const r=e.currentTarget;if(!kA(e))return;xA.add(r);const o=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),xA.has(r)&&xA.delete(r),kA(e)&&"function"===typeof o&&o(e,{success:t})},a=e=>{s(e,r===window||r===document||n.useGlobalTarget||bA(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),yA(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=SA(()=>{if(xA.has(n))return;EA(n,"down");const e=SA(()=>{EA(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>EA(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,wA.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),o}function TA(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&WT.postRender(()=>i(t,TO(t)))}const CA=["root"],NA=new WeakMap,IA=new WeakMap,jA=e=>{const t=NA.get(e.target);t&&t(e)},OA=e=>{e.forEach(jA)};function PA(e,t,n){const r=function(e){let{root:t}=e,n=$w(e,CA);const r=t||document;IA.has(r)||IA.set(r,{});const i=IA.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(OA,Nt({root:t},n))),i[o]}(t);return NA.set(e,n),r.observe(e),()=>{NA.delete(e),r.unobserve(e)}}const AA={some:0,all:1};const RA={inView:{Feature:class extends bO{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:AA[r]};return PA(this.node.current,o,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),o=t?n:r;o&&o(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends bO{mount(){const{current:e}=this.node;e&&(this.unmount=_A(e,(e,t)=>(TA(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return TA(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends bO{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(QR){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=EI(kO(this.node.current,"focus",()=>this.onFocus()),kO(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends bO{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,i,o]=mA(e,n),s=e=>{if(!gA(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const o=e=>{gA(e)&&(r(e),n.removeEventListener("pointerleave",o))};n.addEventListener("pointerleave",o,i)};return r.forEach(e=>{e.addEventListener("pointerenter",s,i)}),o}(e,(e,t)=>(vA(this.node,t,"Start"),e=>vA(this.node,e,"End"))))}unmount(){}}}},LA={layout:{ProjectionNode:fA,MeasureLayout:sP}},DA=fI(Nt(Nt(Nt(Nt({},xO),RA),pA),LA),ON),MA=e=>{const t={seed:e||"default",top:"hat",accessories:"round",hairColor:"a95f34",facialHair:"none",clothes:"shirtVNeck",eyes:"winkWacky",eyebrow:"upDown",mouth:"smile",skin:"light",backgroundType:"gradientLinear",backgroundColor:["b6e3f4","c0aede","d1d4f9"],features:["hat","glasses","earrings"],randomizeIds:!0},n=new URLSearchParams;return Object.entries(t).forEach(e=>{let[t,r]=e;Array.isArray(r)?r.forEach(e=>n.append(t,e)):n.append(t,r)}),"".concat("https://api.dicebear.com/7.x/avataaars/svg","?").concat(n.toString())},FA=e=>{let{onSelectBook:n,selectedBook:r,currentUserId:i}=e;const[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)("Todos"),[c,u]=(0,t.useState)("Todas"),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)([]),[m,g]=(0,t.useState)(!0),[v,y]=(0,t.useState)((null===r||void 0===r?void 0:r.id)||null),b=(0,t.useCallback)(async()=>{try{g(!0);const n=await Jh(Ud(Xy,"libros")),r=[],o=new Set;for(const s of n.docs){var e;const n=s.data();if(n.usuarioId===i)continue;let a=null;try{const e=await Xh(zd(Xy,"usuarios",n.usuarioId));e.exists()&&(a=e.data())}catch(t){console.error("Error fetching user data:",t)}null!==(e=a)&&void 0!==e&&e.ciudad&&o.add(a.ciudad),r.push(Nt(Nt({id:s.id},n),{},{user:a}))}h(r),p(["Todas",...Array.from(o)])}catch(t){console.error("Error fetching books:",t)}finally{g(!1)}},[i]);(0,t.useEffect)(()=>{i?b():g(!1)},[i,b]);const w=d.filter(e=>{var t,n,r,i;const s=(null===(t=e.titulo)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(n=e.autor)||void 0===n?void 0:n.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.genero)||void 0===r?void 0:r.toLowerCase().includes(o.toLowerCase())),l="Todos"===a||e.genero===a,u="Todas"===c||(null===(i=e.user)||void 0===i?void 0:i.ciudad)===c;return s&&l&&u});return m?(0,rb.jsx)("div",{className:"flex justify-center items-center p-8",children:(0,rb.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-yellow-500"})}):(0,rb.jsxs)("div",{className:"space-y-4",children:[(0,rb.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 px-2 sm:px-0 mt-2",children:[(0,rb.jsxs)("div",{className:"relative flex-1",children:[(0,rb.jsx)(Ab,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,rb.jsx)("input",{type:"text",placeholder:"Buscar por t\xedtulo, autor o g\xe9nero...",className:"pl-10 pr-3 py-2 border border-gray-300 rounded-md w-full text-sm",value:o,onChange:e=>s(e.target.value)}),o&&(0,rb.jsx)(Ub,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer",onClick:()=>s("")})]}),(0,rb.jsx)("select",{className:"sm:w-48 rounded-md border-gray-300 text-sm py-2",value:a,onChange:e=>l(e.target.value),children:["Todos","Ficci\xf3n","No Ficci\xf3n","Ciencia Ficci\xf3n","Fantas\xeda","Romance","Misterio","Terror","Aventura","Biograf\xeda","Historia","Ciencia","Autoayuda","Negocios","Infantil","Juvenil","Otro"].map(e=>(0,rb.jsx)("option",{children:e},e))}),(0,rb.jsx)("select",{className:"sm:w-48 rounded-md border-gray-300 text-sm py-2",value:c,onChange:e=>u(e.target.value),children:f.map(e=>(0,rb.jsx)("option",{children:e},e))})]}),0===w.length?(0,rb.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,rb.jsx)(Eb,{className:"mx-auto h-12 w-12 text-gray-300 mb-2"}),(0,rb.jsx)("p",{children:"No se encontraron libros que coincidan con tu b\xfasqueda."})]}):(0,rb.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:w.map(e=>{var t,r,i;const o=Array.isArray(e.imagenes)?e.imagenes[0]:null,s=(null===(t=e.user)||void 0===t?void 0:t.avatar)||MA(e.usuarioId);return(0,rb.jsxs)(DA.div,{whileHover:{scale:1.02},onClick:()=>(e=>{var t,r;y(e.id),n&&n({id:e.id,title:e.titulo,author:e.autor,image:(null===(t=e.imagenes)||void 0===t?void 0:t[0])||null,ownerName:(null===(r=e.user)||void 0===r?void 0:r.nombre)||"Usuario",ownerId:e.usuarioId})})(e),className:"relative bg-white rounded-xl shadow-sm cursor-pointer transition-all duration-200 \n                  p-4 w-full max-w-sm mx-auto sm:max-w-full min-h-[320px] ".concat(v===e.id?"ring-2 ring-yellow-500":"hover:shadow-md"),children:[(0,rb.jsx)("div",{className:"h-48 bg-gray-100 flex items-center justify-center overflow-hidden rounded",children:o?(0,rb.jsx)("img",{src:o,alt:e.titulo,className:"h-48 w-full object-cover"}):(0,rb.jsxs)("div",{className:"text-center text-gray-400",children:[(0,rb.jsx)(Eb,{className:"h-10 w-10 mx-auto"}),(0,rb.jsx)("p",{className:"text-sm",children:"Sin imagen"})]})}),(0,rb.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,rb.jsx)("h3",{className:"text-gray-900 font-semibold text-sm break-words line-clamp-2",children:e.titulo}),(0,rb.jsx)("p",{className:"text-gray-600 text-xs break-words line-clamp-1",children:e.autor}),e.quiere&&(0,rb.jsxs)("p",{className:"text-xs text-yellow-600 italic break-words line-clamp-1",children:["Busca: ",e.quiere]}),(0,rb.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,rb.jsx)("img",{src:s,alt:"Avatar",className:"h-6 w-6 rounded-full object-cover"}),(0,rb.jsx)("span",{className:"text-xs text-gray-600 truncate",children:(null===(r=e.user)||void 0===r?void 0:r.nombre)||"Usuario"}),(null===(i=e.user)||void 0===i?void 0:i.ciudad)&&(0,rb.jsxs)("span",{className:"flex items-center gap-1 text-xs text-gray-400 truncate",children:[(0,rb.jsx)(jb,{className:"text-gray-400"})," ",e.user.ciudad]})]})]}),v===e.id&&(0,rb.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white rounded-full p-1",children:(0,rb.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,rb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},e.id)})})]})};var VA,UA=new Uint8Array(16);function zA(){if(!VA&&!(VA="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return VA(UA)}const BA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const WA=function(e){return"string"===typeof e&&BA.test(e)};for(var HA=[],qA=0;qA<256;++qA)HA.push((qA+256).toString(16).substr(1));const KA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(HA[e[t+0]]+HA[e[t+1]]+HA[e[t+2]]+HA[e[t+3]]+"-"+HA[e[t+4]]+HA[e[t+5]]+"-"+HA[e[t+6]]+HA[e[t+7]]+"-"+HA[e[t+8]]+HA[e[t+9]]+"-"+HA[e[t+10]]+HA[e[t+11]]+HA[e[t+12]]+HA[e[t+13]]+HA[e[t+14]]+HA[e[t+15]]).toLowerCase();if(!WA(n))throw TypeError("Stringified UUID is invalid");return n};const GA=function(e,t,n){var r=(e=e||{}).random||(e.rng||zA)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return KA(r)},QA=["Ficci\xf3n","No ficci\xf3n","Biograf\xeda","Poes\xeda","Autoayuda","Fantas\xeda","Historia","Terror","Romance"],YA=Array.from({length:100},(e,t)=>"".concat(2025-t)),XA=["Sudamericana","Planeta","Penguin","Alfaguara","Emec\xe9","Otras"];function $A(){const e=ee(),{usuarioActivo:n}=(0,t.useContext)(ib),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(null),[b,w]=(0,t.useState)(!1),[x,S]=(0,t.useState)("Ficci\xf3n"),[E,k]=(0,t.useState)(""),[_,T]=(0,t.useState)(""),[C,N]=(0,t.useState)(""),[I,j]=(0,t.useState)([]),[O,P]=(0,t.useState)([]),[A,R]=(0,t.useState)([]),[L,D]=(0,t.useState)(null),[M,F]=(0,t.useState)(!1);return(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsxs)("div",{className:"w-full pb-32 px-4 max-w-xl mx-auto space-y-6 overflow-y-auto",children:[(0,rb.jsx)("h1",{className:"text-xl font-bold text-center text-black drop-shadow-sm",children:"\ud83d\udcda Publicar un libro"}),(0,rb.jsxs)("div",{className:"flex items-center gap-2 bg-cream border rounded-full px-4 py-2 shadow-sm",children:[(0,rb.jsx)("input",{value:r,onChange:e=>i(e.target.value),className:"input-bukkus flex-grow bg-transparent border-none focus:ring-0",placeholder:"Ingres\xe1 un t\xedtulo para buscar..."}),(0,rb.jsx)("button",{onClick:async()=>{if(!r)return D("error");try{const e=await fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(encodeURIComponent(r))),t=await e.json();R(t.items||[])}catch(YR){D("error")}},className:"text-[#f7b22a] hover:text-yellow-600 transition",children:(0,rb.jsx)(yw,{size:20})})]}),A.length>0&&(0,rb.jsx)("div",{className:"bg-cream border rounded p-2 space-y-2 max-h-60 overflow-y-auto shadow-sm",children:A.map(e=>{var t;return(0,rb.jsxs)("div",{className:"p-2 border-b hover:bg-yellow-50 cursor-pointer",onClick:()=>(e=>{var t,n,r;const o=e.volumeInfo;i(o.title||""),s((null===(t=o.authors)||void 0===t?void 0:t.join(", "))||""),l(o.publisher||""),p((null===(n=o.publishedDate)||void 0===n?void 0:n.split("-")[0])||""),N(o.description||""),null!==(r=o.imageLinks)&&void 0!==r&&r.thumbnail&&(P([o.imageLinks.thumbnail]),j([o.imageLinks.thumbnail]))})(e),children:[(0,rb.jsx)("strong",{children:e.volumeInfo.title}),(0,rb.jsx)("br",{}),(0,rb.jsx)("span",{className:"text-sm text-gray-600",children:null===(t=e.volumeInfo.authors)||void 0===t?void 0:t.join(", ")})]},e.id)})}),(0,rb.jsx)("div",{className:"grid grid-cols-3 gap-2",children:O.map((e,t)=>(0,rb.jsx)("img",{src:e,className:"h-32 w-full object-cover rounded-lg border shadow-sm"},t))}),(0,rb.jsxs)("div",{children:[(0,rb.jsxs)("label",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[(0,rb.jsx)(kw,{})," Im\xe1genes del libro (m\xe1x 5)"]}),(0,rb.jsxs)("div",{className:"relative",children:[(0,rb.jsx)("button",{onClick:()=>document.getElementById("upload-imagenes").click(),className:"bg-[#f7b22a] text-black px-4 py-2 rounded-full shadow hover:bg-yellow-600 transition",children:(0,rb.jsx)(kw,{className:"inline-block mr-2"})}),(0,rb.jsx)("input",{id:"upload-imagenes",type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const t=Array.from(e.target.files).slice(0,5).map(e=>new Promise((t,n)=>{if(!e.type.startsWith("image/"))return n("Archivo no es imagen");const r=new FileReader;r.onloadend=()=>t(r.result.toString()),r.onerror=()=>n("Error al leer archivo"),r.readAsDataURL(e)}));try{const e=await Promise.all(t);j(e),P(e)}catch(n){console.error("Error cargando im\xe1genes:",n)}},className:"hidden"})]})]}),(0,rb.jsx)(JA,{texto:"Autor",val:o,setVal:s,icon:(0,rb.jsx)(_w,{}),placeholder:"Ej: Gabriel Garc\xeda M\xe1rquez"}),(0,rb.jsxs)("div",{className:"space-y-2",children:[(0,rb.jsxs)("label",{className:"text-sm font-semibold flex items-center gap-2",children:[(0,rb.jsx)(Zb,{})," \xbfQu\xe9 quer\xe9s a cambio?"]}),v?(0,rb.jsxs)("div",{className:"relative p-3 border border-yellow-300 bg-yellow-50 rounded-lg",children:[(0,rb.jsxs)("div",{className:"flex items-start gap-3",children:[v.image?(0,rb.jsx)("img",{src:v.image,alt:v.title,className:"w-12 h-16 object-cover rounded"}):(0,rb.jsx)("div",{className:"w-12 h-16 bg-gray-200 rounded flex items-center justify-center",children:(0,rb.jsx)(Zb,{className:"text-gray-400"})}),(0,rb.jsxs)("div",{className:"flex-1",children:[(0,rb.jsx)("h4",{className:"font-medium text-sm",children:v.title}),(0,rb.jsx)("p",{className:"text-xs text-gray-600",children:v.author}),(0,rb.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Ofrecido por: ",v.ownerName||"Usuario"]})]}),(0,rb.jsx)("button",{onClick:()=>{y(null),g("")},className:"text-gray-400 hover:text-red-500",children:(0,rb.jsx)(Cw,{})})]}),(0,rb.jsx)("input",{type:"hidden",value:v.title,onChange:()=>{}})]}):(0,rb.jsxs)("div",{className:"flex gap-2",children:[(0,rb.jsx)("div",{className:"flex-1",children:(0,rb.jsx)(JA,{texto:"",val:m,setVal:g,placeholder:"Ej: Otro libro, BUKKcoins, etc."})}),(0,rb.jsx)("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm whitespace-nowrap",children:"Seleccionar libro"})]})]}),b&&(0,rb.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,rb.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-3xl max-h-[80vh] flex flex-col",children:[(0,rb.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,rb.jsx)("h3",{className:"text-lg font-semibold",children:"Seleccionar libro para intercambio"}),(0,rb.jsx)("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700",children:(0,rb.jsx)(Cw,{size:24})})]}),(0,rb.jsx)("div",{className:"p-4 overflow-y-auto flex-1",children:(0,rb.jsx)(FA,{onSelectBook:e=>{y(e),g("Quiero intercambiar por: ".concat(e.title)),w(!1)},selectedBook:v,currentUserId:null===n||void 0===n?void 0:n.id})})]})}),(0,rb.jsx)(JA,{texto:"\ud83d\udcb0 Valor estimado en BUKKcoins",val:_,setVal:T,icon:(0,rb.jsx)(ow,{}),placeholder:"Ej: 50"}),(0,rb.jsx)(ZA,{texto:"Editorial",val:a,setVal:l,opciones:XA,icon:(0,rb.jsx)(lw,{})}),"Otras"===a&&(0,rb.jsx)(JA,{texto:"Ingres\xe1 la editorial",val:c,setVal:u,icon:(0,rb.jsx)(lw,{}),placeholder:"Ej: Ediciones B"}),(0,rb.jsx)(ZA,{texto:"A\xf1o",val:f,setVal:p,opciones:YA,icon:(0,rb.jsx)(ew,{})}),(0,rb.jsx)(ZA,{texto:"Estado",val:d,setVal:h,opciones:["Usado","Muy usado","Subrayado"],icon:(0,rb.jsx)(gw,{})}),(0,rb.jsx)(ZA,{texto:"G\xe9nero",val:x,setVal:S,opciones:[...QA,"Otro"],icon:(0,rb.jsx)(aw,{})}),"Otro"===x&&(0,rb.jsx)(JA,{texto:"Ingres\xe1 un g\xe9nero personalizado",val:E,setVal:k,icon:(0,rb.jsx)(aw,{}),placeholder:"Ej: Filosof\xeda, Ciencia, etc."}),(0,rb.jsxs)("div",{children:[(0,rb.jsx)("label",{className:"text-sm font-semibold text-black mb-1 block",children:"Sinopsis"}),(0,rb.jsx)("textarea",{value:C,onChange:e=>N(e.target.value),rows:6,className:"input-bukkus resize-none min-h-[140px] bg-zinc-800 text-white border border-zinc-600 rounded-md w-full p-2",placeholder:"Contanos de qu\xe9 trata el libro..."})]}),(0,rb.jsx)("div",{className:"text-right",children:(0,rb.jsx)("button",{onClick:async()=>{if(M)return;F(!0);if(!a||"Otras"===a&&!c||!d||!f||0===I.length||!(null!==n&&void 0!==n&&n.id))return D("error"),void F(!1);if(v)try{const e=GA(),t=zd(Xy,"notifications",e);await Zh(t,{id:e,userId:v.ownerId,type:"book_interest",message:"".concat(n.nombre||"Alguien",' est\xe1 interesado en tu libro "').concat(v.title,'"'),bookId:v.id,fromUserId:n.id,fromUserName:n.nombre||"Usuario",read:!1,createdAt:oi.now(),updatedAt:oi.now()})}catch(y){console.error("Error al crear notificaci\xf3n:",y)}const t={tipo:"libro",nombre:r||"Sin t\xedtulo",autor:o,editorial:"Otras"===a?c:a,estadoLibro:d,anio:f,quiere:m||"A convenir",genero:"Otro"===x?E:x,sinopsis:C,valorBukkcoins:Number(_)||0,fechaCreacion:oi.now(),imagenes:I,usuarioId:(null===n||void 0===n?void 0:n.id)||"desconocido",nombreUsuario:(null===n||void 0===n?void 0:n.nombre)||(null===n||void 0===n?void 0:n.email)||"An\xf3nimo"};try{await nf(Ud(Xy,"libros"),t),D("exito"),i(""),s(""),l(""),u(""),h(""),p(""),g(""),S("Ficci\xf3n"),k(""),T(""),N(""),j([]),P([]),R([]),setTimeout(()=>{D(null),e("/"),setTimeout(()=>localStorage.setItem("tabActivo","mios"),50)},2e3)}catch(b){D("error")}F(!1)},disabled:M,className:"px-6 py-2 rounded-full shadow-md transition flex items-center justify-center gap-2 ".concat(M?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-[#f7b22a] text-black hover:bg-yellow-600"),children:M?(0,rb.jsxs)(rb.Fragment,{children:["Publicando...",(0,rb.jsx)("span",{className:"animate-spin inline-block border-2 border-white border-t-transparent rounded-full w-4 h-4"})]}):"Publicar"})})]}),"error"===L&&(0,rb.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 backdrop-blur-sm",children:(0,rb.jsxs)("div",{className:"bg-zinc-900 rounded-lg px-6 py-5 w-full max-w-sm text-center shadow-xl",children:[(0,rb.jsxs)("p",{className:"text-sm text-[#f7b22a] mb-4 flex items-center justify-center gap-2",children:[(0,rb.jsx)(Tw,{className:"text-[#f7b22a] text-lg"}),"Faltan datos obligatorios o fall\xf3 la publicaci\xf3n."]}),(0,rb.jsx)("button",{onClick:()=>D(null),className:"px-4 py-1.5 bg-[#f7b22a] text-black rounded-full text-sm hover:bg-yellow-600",children:"Cerrar"})]})}),"exito"===L&&(0,rb.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 backdrop-blur-sm",children:(0,rb.jsxs)("div",{className:"bg-white rounded-lg px-6 py-5 w-full max-w-sm text-center shadow-xl",children:[(0,rb.jsxs)("p",{className:"text-sm text-green-600 mb-4 flex items-center justify-center gap-2",children:[(0,rb.jsx)(nw,{className:"text-green-600 text-lg"}),"Libro publicado correctamente"]}),(0,rb.jsx)("button",{onClick:()=>{D(null),e("/mios")},className:"px-4 py-1.5 bg-green-600 text-white rounded-full text-sm hover:bg-green-700",children:"Ver mis libros"})]})})]})}function JA(e){let{texto:t,val:n,setVal:r,icon:i,placeholder:o}=e;return(0,rb.jsxs)("div",{children:[(0,rb.jsxs)("label",{className:"text-sm font-semibold flex items-center gap-2 mb-1",children:[i," ",t]}),(0,rb.jsx)("input",{value:n,onChange:e=>r(e.target.value),placeholder:o,className:"input-bukkus"})]})}function ZA(e){let{texto:t,val:n,setVal:r,opciones:i,icon:o}=e;return(0,rb.jsxs)("div",{children:[(0,rb.jsxs)("label",{className:"text-sm font-semibold flex items-center gap-2 mb-1",children:[o," ",t]}),(0,rb.jsxs)("select",{value:n,onChange:e=>r(e.target.value),className:"input-bukkus",children:[(0,rb.jsx)("option",{value:"",children:"Seleccionar"}),i.map((e,t)=>(0,rb.jsx)("option",{value:e,children:e},t))]})]})}const eR=["Fantas\xeda","Ciencia Ficci\xf3n","Terror","Romance","Autoayuda","Biograf\xeda","Historia","Filosof\xeda","Policial","Poes\xeda"];function tR(){const e=ee(),{usuarioActivo:n,setUsuarioActivo:r}=(0,t.useContext)(ib),[i,o]=(0,t.useState)({nombre:"",alias:"",ciudad:"",bio:"",avatar:"",telefono:"",emailAlternativo:"",gustos:[],lema:""}),[s,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(null===n||void 0===n||!n.id)return;const e=rf(zd(Xy,"usuarios",n.id),e=>{if(e.exists()){const t=e.data();o(e=>{var n;return Nt(Nt(Nt({},e),t),{},{ciudad:e.ciudad||t.ciudad||"",gustos:Array.isArray(t.gustos)?t.gustos:(null===(n=t.gustos)||void 0===n?void 0:n.split(",").map(e=>e.trim()))||[]})}),c(t.avatar||"")}});return()=>e()},[n]);const h=e=>{const{name:t,value:n}=e.target;o(e=>Nt(Nt({},e),{},{[t]:n}))},f=e=>{const t=(null===e||void 0===e?void 0:e.split("@")[0])||"usuario",n=Math.floor(1e3+9e3*Math.random());return"".concat(t).concat(n).replace(/[^a-zA-Z0-9]/g,"")};return(0,rb.jsxs)("div",{className:"space-y-6 pb-12 relative",children:[u&&(0,rb.jsx)("div",{className:"absolute inset-0 z-50  bg-opacity-80 flex items-center justify-center",children:(0,rb.jsx)("div",{className:"animate-spin h-10 w-10 border-4 border-yellow-500 border-t-transparent rounded-full"})}),(0,rb.jsxs)("div",{className:"flex items-center gap-4",children:[(0,rb.jsxs)("div",{className:"relative",children:[(0,rb.jsx)("img",{src:l||"/default-avatar.png",alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border border-yellow-300"}),(0,rb.jsxs)("label",{className:"absolute bottom-0 right-0 bg-yellow-400 p-1 rounded-full cursor-pointer shadow-md",children:[(0,rb.jsx)(tw,{size:16}),(0,rb.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onloadend=()=>{c(n.result),o(e=>Nt(Nt({},e),{},{avatar:n.result}))},n.readAsDataURL(t)},className:"hidden"})]})]}),(0,rb.jsx)("p",{className:"text-sm text-gray-600",children:"Toc\xe1 para cambiar tu avatar"})]}),(0,rb.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,rb.jsx)(nR,{label:"Nombre completo",icon:(0,rb.jsx)(_w,{}),name:"nombre",value:i.nombre,onChange:h}),(0,rb.jsx)(nR,{label:"Alias",icon:(0,rb.jsx)(sw,{}),name:"alias",value:i.alias,onChange:h}),(0,rb.jsx)(nR,{label:"Zona",icon:(0,rb.jsx)(fw,{}),name:"ciudad",value:i.ciudad,onChange:h}),(0,rb.jsx)(nR,{label:"Tel\xe9fono",icon:(0,rb.jsx)(mw,{}),name:"telefono",value:i.telefono,onChange:h}),(0,rb.jsx)(nR,{label:"Email alternativo",icon:(0,rb.jsx)(hw,{}),name:"emailAlternativo",value:i.emailAlternativo,onChange:h}),(0,rb.jsx)(nR,{label:"Frase o lema personal",icon:(0,rb.jsx)(ww,{}),name:"lema",value:i.lema,onChange:h}),(0,rb.jsx)(nR,{label:"Bio",name:"bio",value:i.bio,onChange:h,textarea:!0})]}),(0,rb.jsxs)("div",{children:[(0,rb.jsx)("label",{className:"text-sm text-gray-500",children:"Gustos literarios"}),(0,rb.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:eR.map(e=>(0,rb.jsx)("span",{onClick:()=>(e=>{o(t=>Nt(Nt({},t),{},{gustos:t.gustos.includes(e)?t.gustos.filter(t=>t!==e):[...t.gustos,e]}))})(e),className:"cursor-pointer px-3 py-1 rounded-full text-sm border transition-all ".concat(i.gustos.includes(e)?"bg-[#f7b22a] text-black border-yellow-400":"bg-white text-gray-600 border-gray-300 hover:bg-yellow-100"),children:e},e))}),(0,rb.jsx)("input",{type:"text",placeholder:"Agregar otros gustos (separados por coma)",value:s,onChange:e=>a(e.target.value),className:"w-full mt-3 border-b border-gray-300 bg-transparent outline-none text-sm"})]}),(0,rb.jsxs)("div",{className:"pt-6",children:[(0,rb.jsx)("button",{onClick:async()=>{if(null!==n&&void 0!==n&&n.id){d(!0);try{const t=zd(Xy,"usuarios",n.id),o=[...i.gustos,...s.split(",").map(e=>e.trim()).filter(e=>""!==e)],a={nombre:i.nombre,alias:i.alias||f(n.email),ciudad:i.ciudad||(null===n||void 0===n?void 0:n.ciudad)||"",bio:i.bio,avatar:i.avatar||l,telefono:i.telefono,emailAlternativo:i.emailAlternativo,gustos:[...new Set(o)],lema:i.lema,notificaciones:!1!==i.notificaciones,sonido:!1!==i.sonido};await Zh(t,a,{merge:!0}),r(e=>Nt(Nt({},e),a)),e("/")}catch(t){console.error("Error al guardar perfil:",t)}finally{d(!1)}}},className:"bg-[#f7b22a] text-black px-6 py-2 rounded-full shadow hover:bg-yellow-500 transition-all",children:"Guardar cambios"}),(0,rb.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pt-8",children:[(0,rb.jsxs)("div",{className:"flex flex-col gap-2 text-sm text-gray-600",children:[(0,rb.jsxs)("label",{className:"flex items-center gap-2",children:[(0,rb.jsx)("input",{type:"checkbox",checked:!1!==i.notificaciones,onChange:e=>o(t=>Nt(Nt({},t),{},{notificaciones:e.target.checked}))}),"Activar notificaciones push"]}),(0,rb.jsxs)("label",{className:"flex items-center gap-2",children:[(0,rb.jsx)("input",{type:"checkbox",checked:!1!==i.sonido,onChange:e=>o(t=>Nt(Nt({},t),{},{sonido:e.target.checked}))}),"Activar sonido de notificaci\xf3n"]})]}),(0,rb.jsx)("button",{onClick:()=>{localStorage.clear(),r(null),e("/")},className:"bg-red-500 text-white px-5 py-1.5 rounded-full shadow hover:bg-red-600 transition-all text-sm",children:"Cerrar sesi\xf3n"})]})]}),(0,rb.jsxs)("div",{className:"pt-4 border-t border-gray-200 mt-6",children:[(0,rb.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Opciones de ayuda"}),n&&(0,rb.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[(0,rb.jsxs)("button",{onClick:()=>{localStorage.removeItem("tourVisto_".concat(n.id)),alert("\xa1Listo! El tour de bienvenida se reiniciar\xe1 cuando recargues la p\xe1gina.")},className:"flex items-center gap-2 px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-colors text-sm font-medium",title:"Reiniciar el recorrido de bienvenida",children:[(0,rb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,rb.jsx)("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),"Repetir tour de bienvenida"]}),(0,rb.jsx)("p",{className:"text-sm text-gray-500 mt-2 sm:mt-0",children:"\xbfNeitas ayuda? Reinicia el recorrido guiado de la aplicaci\xf3n."})]})]})]})}function nR(e){let{label:t,icon:n,name:r,value:i,onChange:o,textarea:s=!1}=e;return(0,rb.jsxs)("div",{children:[(0,rb.jsx)("label",{className:"text-sm text-gray-500",children:t}),(0,rb.jsxs)("div",{className:"flex items-start gap-2 border-b py-1",children:[n&&(0,rb.jsx)("div",{className:"mt-1 text-yellow-500",children:n}),s?(0,rb.jsx)("textarea",{name:r,value:i,onChange:o,rows:3,className:"w-full bg-transparent outline-none text-sm resize-none",placeholder:"Escrib\xed algo..."}):(0,rb.jsx)("input",{type:"text",name:r,value:i,onChange:o,className:"w-full bg-transparent outline-none text-sm",placeholder:"Escrib\xed aqu\xed..."})]})]})}function rR(e){let{size:t=140}=e;return(0,rb.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:20},children:[(0,rb.jsx)("style",{children:"\n          .llanto {\n            animation: lagrima 1.8s ease-in-out infinite;\n            transform-origin: center;\n            opacity: 0.8;\n          }\n\n          @keyframes lagrima {\n            0% { transform: translateY(0); opacity: 0.6; }\n            50% { transform: translateY(6px); opacity: 1; }\n            100% { transform: translateY(0); opacity: 0.6; }\n          }\n\n          .alas-tristes {\n            animation: alasDesilusion 3.5s ease-in-out infinite;\n            transform-origin: center;\n          }\n\n          @keyframes alasDesilusion {\n            0%, 100% { transform: rotate(0deg); }\n            50% { transform: rotate(2deg); }\n          }\n        "}),(0,rb.jsxs)("svg",{width:t,height:t+40,viewBox:"0 0 100 130",xmlns:"http://www.w3.org/2000/svg",children:[(0,rb.jsx)("circle",{cx:"80",cy:"30",r:"18",fill:"#f7b22a22"}),(0,rb.jsx)("rect",{x:"20",y:"105",width:"60",height:"6",rx:"3",fill:"#654321"}),(0,rb.jsx)("line",{x1:"38",y1:"102",x2:"36",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"40",y1:"102",x2:"40",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"42",y1:"102",x2:"44",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"56",y1:"102",x2:"54",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"58",y1:"102",x2:"58",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"60",y1:"102",x2:"62",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("ellipse",{cx:"50",cy:"70",rx:"22",ry:"30",fill:"#111"}),(0,rb.jsx)("path",{d:"M38 88 Q50 84, 62 88",stroke:"#444",strokeWidth:"1",fill:"none"}),(0,rb.jsx)("path",{d:"M38 92 Q50 88, 62 92",stroke:"#444",strokeWidth:"1",fill:"none"}),(0,rb.jsxs)("g",{className:"alas-tristes",children:[(0,rb.jsx)("path",{d:"M28 66 Q22 85, 32 96",fill:"#111"}),(0,rb.jsx)("path",{d:"M72 66 Q78 85, 68 96",fill:"#111"})]}),(0,rb.jsx)("path",{d:"M38 48 L42 34 L44 50 Z",fill:"#111"}),(0,rb.jsx)("path",{d:"M62 48 L58 34 L56 50 Z",fill:"#111"}),(0,rb.jsx)("path",{d:"M38 54 Q50 58, 62 54",stroke:"#f7b22a",strokeWidth:"2",strokeLinecap:"round"}),(0,rb.jsx)("path",{d:"M42 60 Q44 62, 46 60",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),(0,rb.jsx)("path",{d:"M54 60 Q56 62, 58 60",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),(0,rb.jsx)("circle",{className:"llanto",cx:"44",cy:"64",r:"1.8",fill:"#f7b22a"}),(0,rb.jsx)("path",{d:"M48 66 Q50 68, 52 66 Q50 70, 48 66",fill:"#f7b22a"})]}),(0,rb.jsx)("div",{style:{marginTop:10,fontSize:14,color:"#777",textAlign:"center"},children:"Sin libros todav\xeda..."})]})}function iR(){const{usuarioActivo:e}=(0,t.useContext)(ib),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)({}),[s,a]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(()=>"galeria"===localStorage.getItem("vistaMisLibros")),[p,m]=(0,t.useState)({abierto:!1,libroId:null}),[g,v]=(0,t.useState)(""),y=ee();(0,t.useEffect)(()=>{if(null===e||void 0===e||!e.id)return;const t=rf(jh(Ud(Xy,"libros"),Ph("usuarioId","==",e.id)),e=>{const t=e.docs.map(e=>Nt({id:e.id},e.data()));r(t);const n={};t.forEach(e=>{const t=e.genero||"Sin g\xe9nero";n[t]||(n[t]=[]),n[t].push(e)}),o(n)});return()=>t()},[e]);const b=e=>{c(e),d(!0)},w=e=>{const t="".concat(window.location.origin,"/libro/").concat(e);navigator.clipboard.writeText(t),Ox.info("Enlace copiado \ud83d\udcce")},x=e=>{const t="".concat(window.location.origin,"/libro/").concat(e),n="\xa1Mir\xe1 este libro que publiqu\xe9 en BuKKus! \ud83d\udc49 ".concat(t);window.open("https://wa.me/?text=".concat(encodeURIComponent(n)),"_blank")},S=e=>{m({abierto:!0,libroId:e})},E=async t=>{try{const n=Nt(Nt({},t),{},{creadoEn:oi.now(),vendido:!1,bloqueado:!1,usuarioId:e.id,creadorId:e.id});delete n.id,await nf(Ud(Xy,"libros"),n),Ox.success("Libro duplicado \u2728")}catch(n){console.error("Error al duplicar libro:",n),Ox.error("No se pudo duplicar")}};return s?(0,rb.jsx)(Ow,{libro:s,onClose:()=>a(null)}):0===n.length?(0,rb.jsx)("div",{className:"text-center mt-10 text-gray-500",children:(0,rb.jsx)(rR,{size:140})}):(0,rb.jsxs)("div",{className:"pt-[calc(var(--top-nav-height,3.5rem)+1rem)] pb-20",children:[(0,rb.jsxs)("div",{className:"flex justify-between items-center px-4 mb-4",children:[(0,rb.jsx)("h1",{className:"text-xl font-bold",children:"Mis Libros"}),(0,rb.jsxs)("button",{onClick:()=>{const e=!h;f(e),localStorage.setItem("vistaMisLibros",e?"galeria":"genero")},className:"bg-[#f7b22a] text-white px-3 py-1 rounded-full flex items-center gap-2",children:[h?(0,rb.jsx)(Nb,{}):(0,rb.jsx)(Vb,{})," ",h?"Ver por g\xe9nero":"Ver como galer\xeda"]})]}),h?(0,rb.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 px-4",children:n.map(t=>(0,rb.jsxs)("div",{className:"relative",children:[(0,rb.jsx)(Px,{libro:t,usuarioActivo:e,esMio:!0,onEditar:()=>a(t)}),(0,rb.jsx)("div",{className:"absolute top-2 right-2 space-y-1 z-20 flex flex-col items-end",children:(0,rb.jsx)(oR,{libro:t,eliminarLibro:b,copiarLink:w,compartirWhatsApp:x,enviarAUsuario:S,duplicarLibro:E})})]},t.id))}):Object.entries(i).map(t=>{let[n,r]=t;return(0,rb.jsxs)("div",{className:"mb-6",children:[(0,rb.jsx)("h2",{className:"text-lg font-bold text-gray-800 px-4 mb-2",children:n}),(0,rb.jsx)("div",{className:"flex overflow-x-auto no-scrollbar space-x-4 px-4",children:r.map(t=>(0,rb.jsxs)("div",{className:"relative flex-shrink-0 w-[220px]",children:[(0,rb.jsx)(Px,{libro:t,usuarioActivo:e,esMio:!0,onEditar:()=>a(t)}),(0,rb.jsx)("div",{className:"absolute top-2 right-2 space-y-1 z-20 flex flex-col items-end",children:(0,rb.jsx)(oR,{libro:t,eliminarLibro:b,copiarLink:w,compartirWhatsApp:x,enviarAUsuario:S,duplicarLibro:E})})]},t.id))})]},n)}),u&&l&&(0,rb.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:(0,rb.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 relative",children:[(0,rb.jsx)("h2",{className:"text-lg font-semibold text-center text-gray-800 mb-4",children:"\xbfEliminar este libro?"}),(0,rb.jsxs)("p",{className:"text-sm text-center text-gray-500 mb-6",children:["Esta acci\xf3n no se puede deshacer. Se eliminar\xe1 la publicaci\xf3n: ",(0,rb.jsx)("strong",{children:l.nombre||"Sin t\xedtulo"}),"."]}),(0,rb.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,rb.jsx)("button",{onClick:()=>{d(!1),c(null)},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-full text-sm hover:bg-gray-300 transition",children:"Cancelar"}),(0,rb.jsx)("button",{onClick:async()=>{try{await tf(zd(Xy,"libros",l.id)),Ox.success("Libro eliminado")}catch(QR){console.error(QR),Ox.error("Error al eliminar")}finally{d(!1),c(null)}},className:"bg-red-600 text-white px-4 py-2 rounded-full text-sm hover:bg-red-700 transition",children:"Eliminar"})]})]})}),p.abierto&&(0,rb.jsx)(Xw,{isOpen:!0,onClose:()=>m({abierto:!1,libroId:null}),children:(0,rb.jsxs)("div",{className:"p-4",children:[(0,rb.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Enviar libro a otro usuario"}),(0,rb.jsx)("input",{value:g,onChange:e=>v(e.target.value),placeholder:"Alias del usuario (sin @)",className:"w-full border p-2 rounded mb-4"}),(0,rb.jsx)("button",{onClick:async()=>{if(!g)return;const t=zd(Xy,"usuarios",g),n=await Xh(t);if(!n.exists())return void Ox.error("Alias no encontrado");const r=n.data().id,i=[e.id,r,p.libroId].sort().join("_"),o=zd(Xy,"chats",i);(await Xh(o)).exists()||await Zh(o,{participantes:[e.id,r],libroId:p.libroId,creadoEn:oi.now(),mensajes:[]}),m({abierto:!1,libroId:null}),v(""),y("/chat/".concat(i))},className:"bg-[#f7b22a] text-white px-4 py-2 rounded-full w-full",children:"Enviar"})]})})]})}function oR(e){let{libro:t,eliminarLibro:n,copiarLink:r,compartirWhatsApp:i,enviarAUsuario:o,duplicarLibro:s}=e;return(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsx)("button",{onClick:()=>n(t),className:"bg-white text-red-600 p-1 rounded-full border border-red-500 hover:bg-red-100 shadow",title:"Eliminar",children:(0,rb.jsx)(zb,{size:16})}),(0,rb.jsx)("button",{onClick:()=>r(t.id),className:"bg-white text-blue-600 p-1 rounded-full border border-blue-500 hover:bg-blue-100 shadow",title:"Copiar enlace",children:(0,rb.jsx)(Rb,{size:16})}),(0,rb.jsx)("button",{onClick:()=>i(t.id),className:"bg-white text-green-600 p-1 rounded-full border border-green-500 hover:bg-green-100 shadow",title:"WhatsApp",children:(0,rb.jsx)(yb,{size:16})}),(0,rb.jsx)("button",{onClick:()=>o(t.id),className:"bg-white text-purple-600 p-1 rounded-full border border-purple-500 hover:bg-purple-100 shadow",title:"Enviar a otro usuario",children:(0,rb.jsx)(Ob,{size:16})}),(0,rb.jsx)("button",{onClick:()=>s(t),className:"bg-white text-gray-600 p-1 rounded-full border border-gray-400 hover:bg-gray-100 shadow",title:"Duplicar publicaci\xf3n",children:(0,rb.jsx)(kb,{size:16})})]})}function sR(){const{usuarioActivo:e}=(0,t.useContext)(ib),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)({}),[s,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(!1),[,u]=(0,t.useState)(!0),d=ee(),h=t.useRef(new Map),f=(0,t.useCallback)(async e=>{const t=[...new Set(e)].filter(e=>e&&!h.current.has(e));if(0===t.length)return;for(let n=0;n<t.length;n+=10){const e=t.slice(n,n+10),r=jh(Ud(Xy,"usuarios"),Ph("__name__","in",e));(await Jh(r)).forEach(e=>{e.exists()&&h.current.set(e.id,e.data())})}},[]);(0,t.useEffect)(()=>{(async()=>{if(null!==e&&void 0!==e&&e.id){u(!0),h.current.clear();try{var t;const n=await Xh(zd(Xy,"usuarios",e.id));if(!n.exists())return r([]),void u(!1);const i=(null===(t=n.data())||void 0===t?void 0:t.favoritos)||[];if(0===i.length)return r([]),void u(!1);const s=10,a=[];for(let e=0;e<i.length;e+=s){const t=i.slice(e,e+s),n=jh(Ud(Xy,"libros"),Ph("__name__","in",t));a.push(Jh(n))}const l=await Promise.all(a),c=[],d=new Set;l.forEach(e=>{e.forEach(e=>{if(e.exists()){const t=e.data(),n=t.creadorId||t.usuarioId;n&&d.add(n),c.push(Nt({id:e.id},t))}})}),await f([...d]);const p=c.map(e=>Nt(Nt({},e),{},{datosUsuario:Nt(Nt({},h.current.get(e.creadorId||e.usuarioId)||{}),{},{id:e.creadorId||e.usuarioId})}));p.sort((e,t)=>(e.nombre||"").localeCompare(t.nombre||"")),r(p);const m={};p.forEach(e=>{const t=e.genero||"Sin g\xe9nero";m[t]||(m[t]=[]),m[t].push(e)}),o(m)}catch(n){console.error("Error al cargar favoritos:",n)}finally{u(!1)}}})()},[null===e||void 0===e?void 0:e.id]);const p=async t=>{if(null!==e&&void 0!==e&&e.id)try{const n=zd(Xy,"usuarios",e.id),i=await Xh(n);if(i.exists()){const e=(i.data().favoritos||[]).filter(e=>e!==t);await ef(n,{favoritos:e}),r(e=>e.filter(e=>e.id!==t)),a("Libro eliminado de favoritos"),setTimeout(()=>a(""),2e3)}}catch(n){console.error("Error al quitar favorito:",n),a("Ocurri\xf3 un error"),setTimeout(()=>a(""),2e3)}},m=e=>{const t="".concat(window.location.origin,"/libro/").concat(e);navigator.clipboard.writeText(t),a("Enlace copiado \ud83d\udcce"),setTimeout(()=>a(""),2e3)},g=e=>{const t="".concat(window.location.origin,"/libro/").concat(e),n="\xa1Mir\xe1 este libro que marqu\xe9 como favorito en BuKKus! \ud83d\udc49 ".concat(t);window.open("https://wa.me/?text=".concat(encodeURIComponent(n)),"_blank")};return 0===n.length?(0,rb.jsxs)("div",{className:"pt-[calc(var(--top-nav-height,3.5rem)+1rem)] pb-20 text-center text-gray-600 flex flex-col items-center",children:[(0,rb.jsx)(rR,{size:140}),(0,rb.jsx)("p",{className:"mt-4 text-sm",children:"Todav\xeda no agregaste libros a tus favoritos."})]}):(0,rb.jsxs)("div",{className:"pt-[calc(var(--top-nav-height,3.5rem)+1rem)] pb-20",children:[(0,rb.jsxs)("div",{className:"flex justify-between items-center px-4 mb-4",children:[(0,rb.jsx)("h1",{className:"text-xl font-bold",children:"Mis Favoritos"}),(0,rb.jsxs)("button",{onClick:()=>c(e=>!e),className:"bg-[#f7b22a] text-white px-3 py-1 rounded-full flex items-center gap-2",children:[l?(0,rb.jsx)(Nb,{}):(0,rb.jsx)(Vb,{}),l?"Ver por g\xe9nero":"Ver como galer\xeda"]})]}),l?(0,rb.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 px-4",children:n.map(t=>(0,rb.jsxs)("div",{className:"relative",children:[(0,rb.jsx)(Px,{libro:t,usuarioActivo:e}),(0,rb.jsxs)("div",{className:"absolute top-2 right-2 space-y-1 z-20 flex flex-col items-end",children:[(0,rb.jsx)("button",{onClick:()=>p(t.id),className:"bg-white text-red-600 p-1 rounded-full border border-red-500 hover:bg-red-100 shadow",title:"Quitar favorito",children:(0,rb.jsx)(zb,{size:16})}),(0,rb.jsx)("button",{onClick:()=>m(t.id),className:"bg-white text-blue-600 p-1 rounded-full border border-blue-500 hover:bg-blue-100 shadow",title:"Copiar enlace",children:(0,rb.jsx)(Rb,{size:16})}),(0,rb.jsx)("button",{onClick:()=>g(t.id),className:"bg-white text-green-600 p-1 rounded-full border border-green-500 hover:bg-green-100 shadow",title:"WhatsApp",children:(0,rb.jsx)(yb,{size:16})})]})]},t.id))}):Object.entries(i).map(t=>{let[n,r]=t;return(0,rb.jsxs)("div",{className:"mb-6",children:[(0,rb.jsxs)("div",{className:"flex justify-between items-center px-4 mb-2",children:[(0,rb.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:n}),(0,rb.jsxs)("span",{className:"text-sm text-gray-500",children:[r.length," favorito(s)"]})]}),(0,rb.jsx)("div",{className:"flex overflow-x-auto no-scrollbar space-x-4 px-4",children:r.map(t=>(0,rb.jsxs)("div",{className:"relative flex-shrink-0 w-[220px]",children:[(0,rb.jsx)(Px,{libro:t,usuarioActivo:e}),(0,rb.jsxs)("div",{className:"absolute top-2 right-2 space-y-1 z-20 flex flex-col items-end",children:[(0,rb.jsx)("button",{onClick:()=>p(t.id),className:"bg-white text-red-600 p-1 rounded-full border border-red-500 hover:bg-red-100 shadow",title:"Quitar favorito",children:(0,rb.jsx)(zb,{size:16})}),(0,rb.jsx)("button",{onClick:()=>m(t.id),className:"bg-white text-blue-600 p-1 rounded-full border border-blue-500 hover:bg-blue-100 shadow",title:"Copiar enlace",children:(0,rb.jsx)(Rb,{size:16})}),(0,rb.jsx)("button",{onClick:()=>g(t.id),className:"bg-white text-green-600 p-1 rounded-full border border-green-500 hover:bg-green-100 shadow",title:"WhatsApp",children:(0,rb.jsx)(yb,{size:16})})]})]},t.id))})]},n)}),s&&(0,rb.jsx)("div",{className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-[#f7b22a] text-white px-5 py-2 rounded-full shadow-lg z-50 text-sm",children:s}),(0,rb.jsx)("button",{onClick:()=>d(-1),className:"fixed bottom-5 left-5 bg-[#f7b22a] text-white p-3 rounded-full shadow-lg z-50 md:hidden",title:"Volver",children:(0,rb.jsx)(wb,{})})]})}function aR(e){let{size:t=140}=e;return(0,rb.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:20},children:[(0,rb.jsx)("style",{children:"\n          .monedita {\n            animation: caerMoneda 1.8s ease-in-out infinite;\n            transform-origin: center;\n          }\n\n          @keyframes caerMoneda {\n            0% { transform: translateY(0); opacity: 0.6; }\n            50% { transform: translateY(6px); opacity: 1; }\n            100% { transform: translateY(0); opacity: 0.6; }\n          }\n\n          .ala-izq {\n            animation: alaNoTengo 3s ease-in-out infinite;\n            transform-origin: top right;\n          }\n\n          .ala-der {\n            animation: alaNoTengo 3s ease-in-out infinite;\n            animation-delay: 0.4s;\n            transform-origin: top left;\n          }\n\n          @keyframes alaNoTengo {\n            0%, 100% { transform: rotate(0deg); }\n            50% { transform: rotate(5deg); }\n          }\n        "}),(0,rb.jsxs)("svg",{width:t,height:t+40,viewBox:"0 0 100 130",xmlns:"http://www.w3.org/2000/svg",children:[(0,rb.jsx)("rect",{x:"20",y:"105",width:"60",height:"6",rx:"3",fill:"#654321"}),(0,rb.jsx)("line",{x1:"38",y1:"102",x2:"36",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"40",y1:"102",x2:"40",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"42",y1:"102",x2:"44",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"56",y1:"102",x2:"54",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"58",y1:"102",x2:"58",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("line",{x1:"60",y1:"102",x2:"62",y2:"108",stroke:"#f7b22a",strokeWidth:"2"}),(0,rb.jsx)("ellipse",{cx:"50",cy:"70",rx:"22",ry:"30",fill:"#111"}),(0,rb.jsx)("path",{d:"M38 88 Q50 84, 62 88",stroke:"#444",strokeWidth:"1",fill:"none"}),(0,rb.jsx)("path",{d:"M38 92 Q50 88, 62 92",stroke:"#444",strokeWidth:"1",fill:"none"}),(0,rb.jsx)("path",{className:"ala-izq",d:"M28 66 Q22 80, 34 96",fill:"#111"}),(0,rb.jsx)("path",{className:"ala-der",d:"M72 66 Q78 80, 66 96",fill:"#111"}),(0,rb.jsx)("path",{d:"M38 48 L42 34 L44 50 Z",fill:"#111"}),(0,rb.jsx)("path",{d:"M62 48 L58 34 L56 50 Z",fill:"#111"}),(0,rb.jsx)("path",{d:"M38 54 Q50 58, 62 54",stroke:"#f7b22a",strokeWidth:"2",strokeLinecap:"round"}),(0,rb.jsx)("path",{d:"M42 60 Q44 62, 46 60",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),(0,rb.jsx)("path",{d:"M54 60 Q56 62, 58 60",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round"}),(0,rb.jsx)("path",{d:"M48 66 Q50 68, 52 66 Q50 70, 48 66",fill:"#f7b22a"}),(0,rb.jsx)("circle",{className:"monedita",cx:"50",cy:"40",r:"3",fill:"#f7b22a"}),(0,rb.jsx)("text",{x:"49",y:"42",fontSize:"4",fill:"#111",fontWeight:"bold",children:"$"})]}),(0,rb.jsx)("div",{className:"mt-4 text-sm text-gray-600 text-center",children:"Sin BUKKcoins disponibles..."})]})}function lR(){const{usuarioActivo:e}=(0,t.useContext)(ib),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[s,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{if(null===e||void 0===e||!e.id)return;o(!0),r([]),c(null),d(!0);const t=rf(jh(Ud(Xy,"movimientos"),Ph("usuarioId","==",e.id),Lh("fecha","desc"),Mh(15)),e=>{if(e.empty)r([]),d(!1);else{const t=e.docs.map(e=>Nt({id:e.id},e.data()));r(t),c(e.docs[e.docs.length-1]),d(15===e.docs.length)}o(!1)},e=>{console.error("Error al cargar movimientos:",e),o(!1)});return()=>t()},[e]);const h=(0,t.useCallback)(async()=>{if(null!==e&&void 0!==e&&e.id&&l&&u){a(!0);try{const t=jh(Ud(Xy,"movimientos"),Ph("usuarioId","==",e.id),Lh("fecha","desc"),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fh._create("startAfter",t,!1)}(l),Mh(15)),n=await Jh(t);if(n.empty)d(!1);else{const e=n.docs.map(e=>Nt({id:e.id},e.data()));r(t=>[...t,...e]),c(n.docs[n.docs.length-1]),d(15===n.docs.length)}}catch(t){console.error("Error al cargar m\xe1s movimientos:",t)}finally{a(!1)}}},[e,l,u]);return(0,t.useEffect)(()=>{const e=()=>{window.innerHeight+document.documentElement.scrollTop<document.documentElement.offsetHeight-300||s||!u||h()};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[s,u,h]),i&&0===n.length?(0,rb.jsxs)("div",{className:"flex flex-col items-center justify-center py-10",children:[(0,rb.jsx)(Mb,{className:"animate-spin text-2xl text-gray-400"}),(0,rb.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Cargando movimientos..."})]}):0===n.length?(0,rb.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-center text-gray-600",children:[(0,rb.jsx)(aR,{size:140}),(0,rb.jsx)("p",{className:"mt-4 text-sm",children:"Todav\xeda no hay movimientos en tu billetera."})]}):(0,rb.jsxs)("div",{className:"space-y-3 mt-2",children:[n.map(e=>{var t,n;return(0,rb.jsxs)("div",{className:"flex items-center justify-between border rounded-xl px-4 py-2 shadow-sm bg-white/80 ".concat("ingreso"===e.tipo?"border-green-300":"border-red-300"),children:[(0,rb.jsxs)("div",{className:"flex items-center gap-3",children:[(0,rb.jsx)("div",{className:"text-lg p-2 rounded-full ".concat("ingreso"===e.tipo?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:"ingreso"===e.tipo?(0,rb.jsx)(bb,{}):(0,rb.jsx)(xb,{})}),(0,rb.jsxs)("div",{children:[(0,rb.jsx)("p",{className:"font-medium text-gray-800",children:e.descripcion}),(0,rb.jsx)("p",{className:"text-xs text-gray-500",children:new Date(null===(t=e.fecha)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t)).toLocaleString()})]})]}),(0,rb.jsxs)("div",{className:"flex items-center gap-1 text-yellow-600 font-bold text-sm",children:[(0,rb.jsx)(_b,{}),e.monto]})]},e.id)}),s&&(0,rb.jsx)("div",{className:"flex justify-center py-4",children:(0,rb.jsx)(Mb,{className:"animate-spin text-gray-400"})}),!u&&n.length>0&&(0,rb.jsx)("div",{className:"text-center py-4 text-sm text-gray-500",children:"No hay m\xe1s movimientos para mostrar"})]})}function cR(){const[e,n]=(0,t.useState)("perfil"),r=[{id:"perfil",label:"Perfil",icon:(0,rb.jsx)(_w,{})},{id:"libros",label:"Mis Libros",icon:(0,rb.jsx)(Zb,{})},{id:"favoritos",label:"Favoritos",icon:(0,rb.jsx)(xw,{})},{id:"movimientos",label:"Billetera",icon:(0,rb.jsx)(ow,{})}];return(0,rb.jsxs)("div",{className:"max-w-5xl mx-auto px-4 pt-4",children:[(0,rb.jsx)("div",{className:"flex flex-wrap justify-center gap-4 border-b pb-3 text-sm font-medium text-gray-600",children:r.map(t=>(0,rb.jsxs)("button",{onClick:()=>n(t.id),className:"flex items-center gap-2 px-3 py-1 rounded-full transition-all ".concat(e===t.id?"bg-yellow-200 text-yellow-800 shadow-sm":"hover:text-yellow-700"),children:[t.icon,(0,rb.jsx)("span",{className:"hidden sm:inline",children:t.label})]},t.id))}),(0,rb.jsxs)("div",{className:"mt-6",children:["perfil"===e&&(0,rb.jsx)(tR,{}),"libros"===e&&(0,rb.jsx)(iR,{}),"favoritos"===e&&(0,rb.jsx)(sR,{}),"movimientos"===e&&(0,rb.jsx)(lR,{})]})]})}function uR(){const{usuarioActivo:e}=(0,t.useContext)(ib),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[l,c]=(0,t.useState)("recibidas"),[u,d]=(0,t.useState)(!1),h=ee();(0,t.useEffect)(()=>{if(null===e||void 0===e||!e.id)return;const t=rf(jh(Ud(Xy,"ofertas")),async t=>{const n=[],i=[],s=[];for(const r of t.docs){const t=r.data(),o=r.id;let a=null;if(t.libroId)try{const e=await Xh(zd(Xy,"libros",t.libroId));e.exists()&&(a=e.data())}catch(QR){console.error("Error cargando libro:",QR)}let l=null;const c=t.de===e.id?t.para:t.de;if(c)try{const e=await Xh(zd(Xy,"usuarios",c));e.exists()&&(l=e.data())}catch(QR){console.error("Error cargando usuario:",QR)}const u=Nt(Nt({},t),{},{id:o,libro:a,usuario:l});t.para===e.id&&"pendiente"===t.estado?n.push(u):t.de===e.id&&"pendiente"===t.estado&&i.push(u),t.para!==e.id&&t.de!==e.id||"aceptada"!==t.estado&&"rechazada"!==t.estado||s.push(u)}r(n),o(i),a(s)});return()=>t()},[e]);const f=(e,t)=>{var n,r,i,o;return(0,rb.jsxs)("div",{className:"border border-gray-200 rounded-xl p-5 bg-white shadow-sm hover:shadow-md transition-shadow duration-200 space-y-3",children:[(0,rb.jsxs)("div",{className:"flex items-center gap-3",children:[(null===(n=e.libro)||void 0===n||null===(r=n.imagenes)||void 0===r?void 0:r[0])&&(0,rb.jsx)("img",{src:e.libro.imagenes[0],alt:"Libro",className:"w-14 h-14 object-cover rounded-md"}),(0,rb.jsxs)("div",{className:"flex-1",children:[(0,rb.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,rb.jsx)("strong",{children:(null===(i=e.usuario)||void 0===i?void 0:i.nombre)||"Usuario"})," ",t?"te ofrece":"recibi\xf3 tu propuesta",":"]}),(0,rb.jsx)("p",{className:"text-gray-800 font-semibold",children:e.oferta}),e.comentario&&(0,rb.jsx)("p",{className:"text-sm italic text-gray-500",children:e.comentario}),(null===(o=e.libro)||void 0===o?void 0:o.nombre)&&(0,rb.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Por el libro: ",(0,rb.jsx)("strong",{children:e.libro.nombre})]})]}),(0,rb.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de eliminar esta oferta?"))try{await tf(zd(Xy,"ofertas",e))}catch(QR){console.error("Error al eliminar oferta:",QR),alert("\u274c No se pudo eliminar la oferta")}})(e.id),className:"text-red-500 hover:text-red-700",children:(0,rb.jsx)(Sw,{})})]}),"aceptada"===e.estado&&(0,rb.jsxs)("button",{onClick:()=>h("/chat/".concat(e.id)),className:"mt-2 bg-yellow-400 text-black px-3 py-1 rounded text-sm flex items-center gap-1",children:[(0,rb.jsx)(pw,{})," Ir al chat"]}),t&&"pendiente"===e.estado&&(0,rb.jsxs)("div",{className:"flex gap-3 mt-2",children:[(0,rb.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfQuer\xe9s aceptar esta oferta?")){d(!0);try{await ef(zd(Xy,"ofertas",e.id),{estado:"aceptada"});const t=[...new Set([e.de,e.para])];await Zh(zd(Xy,"chats",e.id),{participantes:t,creado:oi.now(),libroId:e.libroId,ofertaId:e.id})}catch(t){console.error("Error al aceptar oferta:",t),alert("\u274c Hubo un error al aceptar la oferta")}finally{d(!1)}}})(e),disabled:u,className:"bg-green-500 text-white px-3 py-1 rounded text-sm flex items-center gap-1 disabled:opacity-50",children:[(0,rb.jsx)(rw,{})," Aceptar"]}),(0,rb.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfQuer\xe9s rechazar esta oferta?")){d(!0);try{await ef(zd(Xy,"ofertas",e.id),{estado:"rechazada"})}catch(t){console.error("Error al rechazar oferta:",t),alert("\u274c Hubo un error al rechazar la oferta")}finally{d(!1)}}})(e),disabled:u,className:"bg-red-500 text-white px-3 py-1 rounded text-sm flex items-center gap-1 disabled:opacity-50",children:[(0,rb.jsx)(Cw,{})," Rechazar"]})]})]},e.id)},p=[{id:"recibidas",label:"Recibidas",icon:(0,rb.jsx)(uw,{})},{id:"enviadas",label:"Enviadas",icon:(0,rb.jsx)(bw,{})},{id:"historial",label:"Historial",icon:(0,rb.jsx)(iw,{})}],m="recibidas"===l?n:"enviadas"===l?i:s.sort((e,t)=>{var n,r;return(null===(n=t.timestamp)||void 0===n?void 0:n.seconds)-(null===(r=e.timestamp)||void 0===r?void 0:r.seconds)});return(0,rb.jsxs)("div",{className:"tour-ofertas max-w-5xl mx-auto px-4 pt-6 pb-8 min-h-screen",children:[(0,rb.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Mis Ofertas"}),(0,rb.jsx)("div",{className:"sticky top-0 z-10 bg-[#fdf6ec] pt-2 pb-2 mb-6",children:(0,rb.jsx)("div",{className:"flex flex-wrap justify-center gap-2 border-b border-gray-200 pb-2 text-sm font-medium text-gray-600",children:p.map(e=>(0,rb.jsxs)("button",{onClick:()=>c(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-full transition-all ".concat(l===e.id?"bg-yellow-200 text-yellow-800 shadow-sm font-semibold":"hover:bg-gray-100 text-gray-600"),children:[(0,rb.jsx)("span",{className:"text-base",children:e.icon}),(0,rb.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id))})}),u&&(0,rb.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,rb.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl text-center",children:[(0,rb.jsx)("p",{className:"text-lg font-medium text-yellow-700",children:"Procesando solicitud..."}),(0,rb.jsx)("div",{className:"mt-4 w-12 h-12 border-4 border-yellow-200 border-t-yellow-500 rounded-full animate-spin mx-auto"})]})}),(0,rb.jsx)("div",{className:"grid gap-6",children:0===m.length?(0,rb.jsxs)("div",{className:"flex flex-col items-center mt-10 text-center text-gray-500",children:[(0,rb.jsx)(Ax,{size:130}),(0,rb.jsx)("p",{className:"italic mt-4",children:"recibidas"===l?"A\xfan no recibiste ofertas de otros lectores.":"enviadas"===l?"Todav\xeda no enviaste ninguna propuesta.":"Tu historial est\xe1 vac\xedo por ahora."})]}):m.map(e=>f(e,"recibidas"===l))})]})}function dR(e){let{onSelect:n,libroSeleccionado:r}=e;const{usuarioActivo:i}=(0,t.useContext)(ib),[o,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!0),[c,u]=(0,t.useState)(1),d=Math.ceil(o.length/6),h=o.slice(6*(c-1),6*c);return(0,t.useEffect)(()=>{if(null===i||void 0===i||!i.id)return;(async()=>{const e=jh(Ud(Xy,"libros"),Ph("usuarioId","==",i.id)),t=(await Jh(e)).docs.map(e=>Nt({id:e.id},e.data()));s(t),l(!1)})()},[i]),a?(0,rb.jsx)("p",{className:"text-center text-sm text-gray-500",children:"Cargando tus libros..."}):0===o.length?(0,rb.jsx)("p",{className:"text-center text-sm text-gray-400",children:"No ten\xe9s libros publicados a\xfan."}):(0,rb.jsxs)("div",{className:"space-y-4",children:[(0,rb.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:h.map(e=>{const t=Array.isArray(e.imagenes)?e.imagenes[0]:null,i=(null===r||void 0===r?void 0:r.id)===e.id;return(0,rb.jsxs)(DA.div,{whileHover:{scale:1.02},onClick:()=>n(e),className:"relative bg-white rounded-md sm:rounded-xl shadow-none sm:shadow-sm cursor-pointer transition-all duration-200 \n                p-2 sm:p-4 w-full max-w-sm mx-auto sm:mx-0 min-h-[300px] ".concat(i?"ring-2 ring-yellow-500":"hover:shadow-sm"),children:[(0,rb.jsx)("div",{className:"h-48 bg-gray-100 flex items-center justify-center overflow-hidden rounded",children:t?(0,rb.jsx)("img",{src:t,alt:e.nombre,className:"h-48 w-full object-cover"}):(0,rb.jsxs)("div",{className:"text-center text-gray-400",children:[(0,rb.jsx)(Eb,{className:"h-10 w-10 mx-auto"}),(0,rb.jsx)("p",{className:"text-sm",children:"Sin imagen"})]})}),(0,rb.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,rb.jsx)("h3",{className:"text-gray-900 font-semibold text-sm break-words line-clamp-2",children:e.nombre}),(0,rb.jsx)("p",{className:"text-gray-600 text-xs break-words line-clamp-1",children:e.autor}),e.editorial&&(0,rb.jsxs)("p",{className:"text-xs text-gray-400 line-clamp-1",children:["Editorial: ",e.editorial]}),e.anio&&(0,rb.jsxs)("p",{className:"text-xs text-gray-400 line-clamp-1",children:["A\xf1o: ",e.anio]}),e.estadoLibro&&(0,rb.jsxs)("p",{className:"text-xs text-gray-500 italic line-clamp-1",children:["Estado: ",e.estadoLibro]})]}),i&&(0,rb.jsx)("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white rounded-full p-1",children:(0,rb.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,rb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},e.id)})}),d>1&&(0,rb.jsx)("div",{className:"flex justify-center mt-2 gap-2 text-sm",children:Array.from({length:d},(e,t)=>(0,rb.jsx)("button",{onClick:()=>u(t+1),className:"px-3 py-1 rounded-full border transition ".concat(c===t+1?"bg-yellow-400 text-black border-yellow-500":"bg-white text-gray-600 border-gray-300 hover:bg-gray-100"),children:t+1},t))})]})}function hR(){var e;const{libroId:n}=te(),r=ee(),{usuarioActivo:i}=(0,t.useContext)(ib),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(""),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1),[b,w]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{const e=zd(Xy,"libros",n),t=await Xh(e);if(!t.exists())return r("/");const o=t.data();s(Nt(Nt({},o),{},{id:t.id}));const a=jh(Ud(Xy,"libros"),Ph("nombre","==",o.nombre)),c=await Jh(a),u=[];for(const n of c.docs){const e=n.data();if(!e.usuarioId||e.usuarioId===(null===i||void 0===i?void 0:i.id))continue;const t=zd(Xy,"usuarios",e.usuarioId),r=await Xh(t);if(r.exists()){const t=r.data();u.push({usuarioId:e.usuarioId,avatarUrl:t.avatar||"https://via.placeholder.com/40",nombre:t.nombre||"Usuario",ciudad:t.ciudad||"Sin ciudad",quiere:e.quiere||"No especificado"})}}l(u)})()},[n,r,null===i||void 0===i?void 0:i.id]);return o?(0,rb.jsxs)("div",{className:"max-w-xl mx-auto p-4 space-y-6 text-gray-800",children:[(0,rb.jsx)("h2",{className:"text-xl font-bold text-center text-black",children:"\ud83d\udcda Propuesta de intercambio"}),(0,rb.jsxs)("div",{className:"flex gap-4 items-start bg-gray-100 rounded-lg p-3",children:[(0,rb.jsx)("img",{src:(null===(e=o.imagenes)||void 0===e?void 0:e[0])||"https://via.placeholder.com/100x150",alt:o.nombre,className:"w-24 h-32 object-cover rounded"}),(0,rb.jsxs)("div",{className:"flex-1",children:[(0,rb.jsx)("h3",{className:"text-lg font-semibold",children:o.nombre}),(0,rb.jsx)("p",{className:"text-sm text-gray-600",children:o.autor}),o.editorial&&(0,rb.jsxs)("p",{className:"text-xs text-gray-500",children:["Editorial: ",o.editorial]}),o.anio&&(0,rb.jsxs)("p",{className:"text-xs text-gray-500",children:["A\xf1o: ",o.anio]}),o.sinopsis&&(0,rb.jsxs)("div",{className:"text-xs text-gray-700 mt-2 max-h-24 overflow-y-auto pr-1 border-t pt-2",children:[(0,rb.jsx)("p",{className:"text-[10px] font-semibold text-gray-500 mb-1 uppercase",children:"Sinopsis"}),o.sinopsis]})]})]}),(0,rb.jsxs)("div",{children:[(0,rb.jsx)("p",{className:"font-semibold mb-2",children:"Eleg\xed a qui\xe9n le quer\xe9s enviar la propuesta:"}),(0,rb.jsx)("div",{className:"space-y-2",children:a.map(e=>(0,rb.jsxs)("button",{onClick:()=>u(e),className:"flex items-center gap-3 p-3 w-full rounded-lg border transition ".concat((null===c||void 0===c?void 0:c.usuarioId)===e.usuarioId?"bg-yellow-100 border-yellow-400":"bg-white border-gray-300 hover:bg-gray-100"),children:[(0,rb.jsx)("img",{src:e.avatarUrl,alt:e.nombre,className:"w-10 h-10 rounded-full object-cover border"}),(0,rb.jsxs)("div",{className:"flex-1 text-left",children:[(0,rb.jsx)("p",{className:"font-semibold text-sm",children:e.nombre}),(0,rb.jsx)("p",{className:"text-xs text-gray-500",children:e.ciudad}),(0,rb.jsxs)("p",{className:"text-xs text-gray-500 italic",children:["Quiere: ",e.quiere]})]}),(null===c||void 0===c?void 0:c.usuarioId)===e.usuarioId&&(0,rb.jsx)("span",{className:"text-[10px] bg-green-600 text-black px-2 py-[1px] rounded-full",children:"\u2705"})]},e.usuarioId))})]}),c&&(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsxs)("div",{children:[(0,rb.jsx)("p",{className:"font-semibold mb-1",children:"\ud83d\udcd8 Eleg\xed uno de tus libros para ofrecer a cambio:"}),(0,rb.jsx)(dR,{onSelect:e=>h(e),libroSeleccionado:d})]}),(0,rb.jsxs)("div",{children:[(0,rb.jsx)("label",{className:"block font-semibold",children:"Comentario (opcional)"}),(0,rb.jsx)("textarea",{value:f,onChange:e=>p(e.target.value),className:"w-full border p-2 rounded text-sm mt-1",rows:2})]}),(0,rb.jsxs)("div",{children:[(0,rb.jsx)("label",{className:"block font-semibold mb-1",children:"Adjuntar imagen (opcional)"}),(0,rb.jsxs)("label",{className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded cursor-pointer hover:bg-gray-100 text-sm",children:[(0,rb.jsx)(kw,{className:"mr-2"}),"Examinar imagen",(0,rb.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onloadend=()=>g(n.result),n.readAsDataURL(t)},className:"hidden",accept:"image/*"})]}),m&&(0,rb.jsxs)("div",{className:"relative mt-3",children:[(0,rb.jsx)("img",{src:m,alt:"Preview",className:"rounded max-h-48 border"}),(0,rb.jsx)("button",{onClick:()=>g(null),className:"absolute top-1 right-1 bg-white border p-1 rounded-full",children:(0,rb.jsx)(Cw,{size:14})})]})]}),(0,rb.jsxs)("label",{className:"flex items-center gap-2",children:[(0,rb.jsx)("input",{type:"checkbox",checked:v,onChange:e=>y(e.target.checked)}),"Confirmo que esta propuesta es seria"]}),b&&(0,rb.jsx)("p",{className:"text-sm text-red-600",children:b}),(0,rb.jsx)("div",{className:"pt-4 text-center",children:(0,rb.jsx)("button",{onClick:async()=>{if(!c)return w("Seleccion\xe1 un usuario.");if(!d)return w("Seleccion\xe1 un libro para ofrecer.");if(!v)return w("Confirm\xe1 que tu propuesta es seria.");try{await nf(Ud(Xy,"ofertas"),{libroId:n,libroOfertaId:d.id,de:i.id,para:c.usuarioId,oferta:"Ofrece el libro: ".concat(d.nombre),comentario:f,imagen:m||null,estado:"pendiente",timestamp:oi.now()});const e=[i.id,c.usuarioId,n].sort().join("_"),t=zd(Xy,"chats",e);(await Xh(t)).exists()||await Zh(t,{participantes:[i.id,c.usuarioId],libroId:n,creado:oi.now(),ultimaActividad:oi.now()}),await nf(Ud(Xy,"notificaciones"),{usuarioId:c.usuarioId,tipo:"oferta",mensaje:"".concat(i.nombre||"Un usuario",' te envi\xf3 una propuesta por el libro "').concat(o.nombre,'"'),leido:!1,timestamp:oi.now()}),Ox.success("\ud83c\udf89 Propuesta enviada con \xe9xito"),setTimeout(()=>{r("/ofertas")},2e3)}catch(e){console.error("Error al enviar oferta:",e),w("Hubo un error al enviar la propuesta. Intent\xe1 de nuevo.")}},className:"bg-[#f7b22a] text-black px-6 py-2 rounded-full hover:bg-[#fcd88c] transition",children:"Enviar propuesta"})})]}),(0,rb.jsx)(xx,{position:"top-center",autoClose:2e3})]}):(0,rb.jsx)("div",{className:"p-4 text-center",children:"Cargando..."})}function fR(){const{chatId:e}=te(),{usuarioActivo:n}=(0,t.useContext)(ib),[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!1),f=(0,t.useRef)(null);(0,t.useEffect)(()=>{if(!e||null===n||void 0===n||!n.id)return;const t=rf(jh(Ud(Xy,"chats/".concat(e,"/mensajes")),Lh("timestamp","asc")),async t=>{const r=[],o=[];t.forEach(t=>{const i=t.data();if(r.push(Nt({id:t.id},i)),i.de!==n.id&&!(i.leidoPor||[]).includes(n.id)){const r=zd(Xy,"chats/".concat(e,"/mensajes/").concat(t.id));o.push(ef(r,{leidoPor:af(n.id)}))}}),i(r),o.length>0&&await Promise.all(o),setTimeout(()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},200)});return()=>t()},[e,null===n||void 0===n?void 0:n.id]),(0,t.useEffect)(()=>{e&&null!==n&&void 0!==n&&n.id&&(async()=>{try{const t=await Xh(zd(Xy,"ofertas",e));if(t.exists()&&"aceptada"!==t.data().estado)return alert("Esta oferta a\xfan no ha sido aceptada"),void(window.location.href="/ofertas");const r=(await Xh(zd(Xy,"chats",e))).data();if(null===r||void 0===r||!r.participantes)return alert("Chat no encontrado"),void(window.location.href="/ofertas");if(!r.participantes.includes(n.id))return alert("No tienes permiso para acceder a este chat"),void(window.location.href="/ofertas");const i=r.participantes.find(e=>e!==n.id),o=await Xh(zd(Xy,"usuarios",i));o.exists()&&l(o.data())}catch(t){console.error("Error al cargar el chat:",t),alert("Error al cargar el chat"),window.location.href="/ofertas"}})()},[e,null===n||void 0===n?void 0:n.id]),(0,t.useEffect)(()=>{const t=rf(zd(Xy,"chats",e,"status","escribiendo"),e=>{const t=e.data();(null===t||void 0===t?void 0:t.id)!==n.id&&h((null===t||void 0===t?void 0:t.activo)||!1)});return()=>t()},[e,null===n||void 0===n?void 0:n.id]),(0,t.useEffect)(()=>{const t=zd(Xy,"chats",e,"status","escribiendo"),r=setTimeout(()=>{Zh(t,{id:n.id,activo:!!o},{merge:!0})},300);return()=>clearTimeout(r)},[o,e,n.id]);return(0,rb.jsx)("div",{className:"w-full h-screen bg-[#fdf6ec] flex justify-center overflow-hidden",children:(0,rb.jsxs)("div",{className:"flex flex-col w-full h-full sm:max-w-[600px] sm:h-[90vh] sm:mt-4 sm:rounded-xl sm:shadow-lg relative bg-[#fdf6ec]",children:[(0,rb.jsxs)("div",{className:"bg-black text-white px-4 py-3 flex items-center gap-3 shadow-md z-20 sticky top-0",children:[(null===a||void 0===a?void 0:a.avatar)&&(0,rb.jsx)("img",{src:a.avatar,alt:"avatar",className:"w-9 h-9 rounded-full border border-white object-cover"}),(0,rb.jsxs)("div",{className:"flex flex-col truncate",children:[(0,rb.jsx)("span",{className:"font-semibold text-base text-[#f7b22a] truncate",children:(null===a||void 0===a?void 0:a.nombre)||"Usuario"}),d&&(0,rb.jsx)("span",{className:"text-xs text-gray-400 animate-pulse",children:"escribiendo..."})]})]}),(0,rb.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 pt-3 pb-2 space-y-2 scroll-smooth",children:[r.map(e=>{var t;return(0,rb.jsxs)("div",{className:"max-w-[80%] px-3 py-2 rounded-xl text-sm shadow-sm ".concat(e.de===n.id?"ml-auto bg-[#f7b22a] text-black":"mr-auto bg-white text-[#111]"),children:[e.imagen&&(0,rb.jsx)("img",{src:e.imagen,alt:"Imagen",className:"max-h-48 rounded mb-1"}),e.texto&&(0,rb.jsx)("p",{children:e.texto}),(0,rb.jsx)("p",{className:"text-[10px] text-right text-gray-500 mt-1",children:null===(t=e.timestamp)||void 0===t?void 0:t.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},e.id)}),(0,rb.jsx)("div",{ref:f})]}),(0,rb.jsxs)("div",{className:"bg-white px-3 py-2 border-t border-gray-300",children:[c&&(0,rb.jsxs)("div",{className:"relative w-full max-w-xs mx-auto mb-2",children:[(0,rb.jsx)("img",{src:c,alt:"preview",className:"rounded max-h-40"}),(0,rb.jsx)("button",{onClick:()=>u(null),className:"absolute top-1 right-1 bg-white p-1 rounded-full shadow text-red-600",children:(0,rb.jsx)(Cw,{})})]}),(0,rb.jsxs)("div",{className:"flex items-center gap-2",children:[(0,rb.jsx)("input",{type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"Escrib\xed un mensaje...",className:"flex-1 border border-gray-300 rounded-full px-4 py-2 text-sm focus:outline-none"}),(0,rb.jsxs)("label",{className:"cursor-pointer text-gray-600 hover:text-gray-800",children:[(0,rb.jsx)(cw,{className:"text-xl"}),(0,rb.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onloadend=()=>u(n.result),n.readAsDataURL(t)},className:"hidden"})]}),(0,rb.jsx)("button",{onClick:async()=>{(o.trim()||c)&&(await nf(Ud(Xy,"chats",e,"mensajes"),{de:n.id,texto:o,imagen:c,timestamp:oi.now(),tipo:"usuario"}),s(""),u(null))},className:"bg-[#f7b22a] text-black rounded-full p-2 hover:bg-yellow-400",children:(0,rb.jsx)(bw,{})})]})]})]})})}var pR=n(751);function mR(){const{usuarioActivo:e}=(0,t.useContext)(ib),[n,r]=(0,t.useState)(0),[i,o]=(0,t.useState)([]),[s,a]=(0,t.useState)(""),[l,c]=(0,t.useState)("");(0,t.useEffect)(()=>{if(null===e||void 0===e||!e.id)return;const t=rf(zd(Xy,"usuarios",e.id),e=>{if(e.exists()){const t=e.data();r(t.saldoTokens||0)}},e=>{console.error("Error fetching user data:",e)}),n=rf(jh(Ud(Xy,"recargas"),Ph("id","==",e.id)),e=>{const t=e.docs.map(e=>{var t;const n=e.data();return{tipo:n.tipo,monto:n.monto,fecha:(null===(t=n.fecha)||void 0===t?void 0:t.toDate().toLocaleString())||"Fecha desconocida",destino:n.destino||null,origen:n.origen||null,nombreDestino:n.nombreDestino||null,nombreOrigen:n.nombreOrigen||null}});o(t)},e=>{console.error("Error fetching transactions:",e)});return()=>{t(),n()}},[null===e||void 0===e?void 0:e.id]);return(0,rb.jsxs)("div",{className:"p-4 max-w-2xl mx-auto text-white",children:[(0,rb.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-[#f7b22a]",children:[(0,rb.jsx)(_b,{})," Mi billetera"]}),(0,rb.jsxs)("div",{className:"bg-zinc-800 shadow-md rounded-xl p-4 flex items-center justify-between mb-6",children:[(0,rb.jsxs)("div",{children:[(0,rb.jsx)("p",{className:"text-gray-400 text-sm",children:"Saldo disponible"}),(0,rb.jsxs)("p",{className:"text-3xl font-bold text-[#f7b22a]",children:[(0,rb.jsx)(pR.Ay,{end:n,duration:1.5})," BUKK"]})]}),(0,rb.jsxs)("button",{onClick:()=>Ox.info("Recarga manual desactivada"),className:"bg-[#f7b22a] hover:bg-yellow-300 text-black px-4 py-2 rounded-full text-sm flex items-center gap-2 font-semibold transition",children:[(0,rb.jsx)(Pb,{})," Recargar"]})]}),(0,rb.jsxs)("div",{className:"bg-zinc-800 p-4 rounded-xl mb-6 shadow-md",children:[(0,rb.jsx)("h3",{className:"font-semibold mb-2 text-white",children:"Transferir BUKK"}),(0,rb.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:[(0,rb.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"Alias del receptor",className:"flex-1 px-3 py-1.5 rounded border border-zinc-600 bg-zinc-900 text-white placeholder-gray-400"}),(0,rb.jsx)("input",{type:"number",value:l,onChange:e=>c(e.target.value),placeholder:"Monto",className:"w-24 px-3 py-1.5 rounded border border-zinc-600 bg-zinc-900 text-white placeholder-gray-400"}),(0,rb.jsxs)("button",{onClick:async()=>{if(!s||!l||isNaN(l))return void Ox.error("Alias o monto inv\xe1lido");const t=parseInt(l);if(t<=0||t>n)Ox.error("Saldo insuficiente o monto inv\xe1lido");else try{const r=jh(Ud(Xy,"usuarios"),Ph("alias","==",s)),i=await Jh(r);if(i.empty)return void Ox.error("Alias no encontrado");const o=i.docs[0],l=o.data(),u=l.saldoTokens||0;await ef(zd(Xy,"usuarios",e.id),{saldoTokens:n-t}),await ef(zd(Xy,"usuarios",o.id),{saldoTokens:u+t}),await nf(Ud(Xy,"recargas"),{id:e.id,alias:e.alias,nombreOrigen:e.nombre,tipo:"transferencia",destino:l.alias,nombreDestino:l.nombre,monto:t,fecha:oi.now()}),await nf(Ud(Xy,"recargas"),{id:o.id,alias:l.alias,nombreDestino:l.nombre,tipo:"recibido",origen:e.alias,nombreOrigen:e.nombre,monto:t,fecha:oi.now()}),Ox.success("Transferencia enviada a ".concat(l.nombre)),a(""),c("")}catch(r){console.error("Error al transferir:",r),Ox.error("Error al procesar la transferencia")}},className:"bg-[#f7b22a] hover:bg-yellow-300 text-black px-4 py-1.5 rounded-full text-sm flex items-center gap-2 font-semibold transition",children:[(0,rb.jsx)(Cb,{})," Enviar"]})]})]}),(0,rb.jsx)("h3",{className:"font-semibold text-lg mb-2 text-black",children:"Movimientos"}),(0,rb.jsxs)("ul",{className:"space-y-2 text-sm",children:[0===i.length&&(0,rb.jsx)("li",{className:"text-gray-400",children:"No hay movimientos a\xfan."}),i.map((e,t)=>(0,rb.jsxs)("li",{className:"flex items-center justify-between bg-zinc-800 p-3 rounded-xl shadow-sm",children:[(0,rb.jsxs)("div",{className:"flex items-center gap-2",children:["recarga"===e.tipo&&(0,rb.jsx)(bb,{className:"text-green-400"}),"transferencia"===e.tipo&&(0,rb.jsx)(xb,{className:"text-red-400"}),"recibido"===e.tipo&&(0,rb.jsx)(bb,{className:"text-blue-400"}),(0,rb.jsx)("span",{className:"capitalize text-gray-200",children:"transferencia"===e.tipo?"Transferido a ".concat(e.nombreDestino||e.destino):"recibido"===e.tipo?"Recibido de ".concat(e.nombreOrigen||e.origen):"Recarga manual"})]}),(0,rb.jsxs)("div",{className:"text-right",children:[(0,rb.jsxs)("span",{className:"font-bold text-white",children:["transferencia"===e.tipo?"-":"+",e.monto," BUKK"]}),(0,rb.jsx)("p",{className:"text-xs text-gray-400",children:e.fecha})]})]},t))]})]})}function gR(){const[e,n]=(0,t.useState)(0),[r,i]=(0,t.useState)([]);return(0,t.useEffect)(()=>{n(0),i([])},[]),(0,rb.jsx)("div",{className:"p-4",children:(0,rb.jsx)(mR,{saldo:e,movimientos:r})})}const vR=(0,t.createContext)(),yR=e=>{let{children:n}=e;const{usuarioActivo:r}=(0,t.useContext)(ib),[i,o]=(0,t.useState)(0),[s,a]=(0,t.useState)({});return(0,t.useEffect)(()=>{if(null===r||void 0===r||!r.id)return;const e=rf(jh(Ud(Xy,"chats"),Ph("participantes","array-contains",r.id)),e=>{const t=e.docs.map(e=>e.id),n=[];return t.forEach(e=>{const t=rf(Ud(Xy,"chats/".concat(e,"/mensajes")),t=>{a(n=>{const i=t.docs.filter(e=>{var t;return e.data().de!==r.id&&!(null!==(t=e.data().leidoPor)&&void 0!==t&&t.includes(r.id))}).length,s=Nt(Nt({},n),{},{[e]:i}),a=Object.values(s).reduce((e,t)=>e+t,0);return o(a),s})});n.push(t)}),()=>n.forEach(e=>e())});return()=>e()},[null===r||void 0===r?void 0:r.id]),(0,rb.jsx)(vR.Provider,{value:{totalNoLeidos:i,noLeidosPorChat:s},children:n})};function bR(){const{usuarioActivo:e}=(0,t.useContext)(ib),[n,r]=(0,t.useState)([]),[i,o]=(0,t.useState)(1),{noLeidosPorChat:s}=(0,t.useContext)(vR);(0,t.useEffect)(()=>{(async()=>{if(null!==e&&void 0!==e&&e.id)try{const n=jh(Ud(Xy,"chats"),Ph("participantes","array-contains",e.id)),i=await Jh(n),o=[];for(const r of i.docs){var t;const n=r.data(),i=n.participantes.find(t=>t!==e.id);let s={};if(i){const e=await Xh(zd(Xy,"usuarios",i));e.exists()&&(s=e.data())}o.push({id:r.id,nombre:s.nombre||"Usuario",avatar:s.avatar||"/default-avatar.png",libroId:n.libroId||"",creado:(null===(t=n.creado)||void 0===t?void 0:t.toDate())||null})}o.sort((e,t)=>t.creado-e.creado),r(o)}catch(n){console.error("Error al obtener chats:",n)}})()},[null===e||void 0===e?void 0:e.id]);const a=Math.ceil(n.length/10),l=n.slice(10*(i-1),10*i);return(0,rb.jsxs)("div",{className:"max-w-3xl mx-auto p-4 bg-[#fdf6ec] min-h-screen",children:[(0,rb.jsxs)("h1",{className:"text-xl font-bold mb-6 text-[#111] flex items-center gap-2",children:[(0,rb.jsx)(pw,{className:"text-[#f7b22a]"}),"Mis conversaciones"]}),0===n.length?(0,rb.jsx)("p",{className:"text-gray-500",children:"No ten\xe9s chats todav\xeda."}):(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsx)("ul",{className:"space-y-4",children:l.map(e=>(0,rb.jsxs)("li",{className:"relative group",children:[(0,rb.jsxs)(Ne,{to:"/chat/".concat(e.id),className:"flex items-center gap-4 bg-white border border-gray-200 hover:border-[#f7b22a] shadow-sm p-3 rounded-xl transition relative",children:[(0,rb.jsx)("img",{src:e.avatar,alt:e.nombre,className:"w-12 h-12 rounded-full object-cover border border-gray-300"}),(0,rb.jsxs)("div",{className:"flex-1",children:[(0,rb.jsx)("p",{className:"font-semibold text-[#111] text-base",children:e.nombre}),e.creado?(0,rb.jsxs)("p",{className:"text-sm text-gray-500",children:["\xdaltimo mensaje: ",e.creado.toLocaleDateString()," ",e.creado.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}):(0,rb.jsx)("p",{className:"text-sm text-gray-400",children:"Sin fecha registrada"})]}),s[e.id]>0&&(0,rb.jsx)("span",{className:"absolute top-2 right-3 bg-red-500 text-white text-xs font-bold rounded-full px-2 py-0.5",children:s[e.id]})]}),(0,rb.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEliminar esta conversaci\xf3n?"))try{const t=Ud(Xy,"chats",e,"mensajes"),n=(await Jh(t)).docs.map(e=>tf(e.ref));await Promise.all(n),await tf(zd(Xy,"chats",e)),r(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Error al eliminar chat y mensajes:",t)}})(e.id),className:"absolute top-2 right-2 text-gray-400 hover:text-red-600 p-1",title:"Eliminar chat",children:(0,rb.jsx)(Ew,{})})]},e.id))}),a>1&&(0,rb.jsx)("div",{className:"flex justify-center mt-6 gap-2",children:Array.from({length:a},(e,t)=>(0,rb.jsx)("button",{onClick:()=>o(t+1),className:"px-3 py-1 rounded-full text-sm font-semibold border ".concat(i===t+1?"bg-[#f7b22a] text-black border-[#f7b22a]":"bg-white text-gray-700 border-gray-300 hover:bg-gray-100"),children:t+1},t))})]})]})}function wR(){const[e,n]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{const e="true"===localStorage.getItem("pwaInstruccionMostrada");!/iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())||"standalone"in window.navigator&&window.navigator.standalone||e||setTimeout(()=>{n(!0),localStorage.setItem("pwaInstruccionMostrada","true")},2500)},[]),e?(0,rb.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center px-4",children:(0,rb.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-lg text-center",children:[(0,rb.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"\ud83d\udcf2 Instal\xe1 BUKKUS en tu iPhone"}),(0,rb.jsxs)("div",{className:"text-sm text-gray-700 space-y-3 text-left",children:[(0,rb.jsxs)("p",{children:["1\ufe0f\u20e3 Toc\xe1 el bot\xf3n ",(0,rb.jsx)("strong",{children:"\u201cCompartir\u201d"})," ",(0,rb.jsx)("span",{className:"inline-block",children:"\ud83d\udce4"})," en la parte inferior de Safari."]}),(0,rb.jsxs)("p",{children:["2\ufe0f\u20e3 Desliz\xe1 hacia abajo y seleccion\xe1 ",(0,rb.jsx)("strong",{children:"\u201cAgregar a inicio\u201d"})," \ud83c\udfe0"]}),(0,rb.jsx)("p",{children:"3\ufe0f\u20e3 \xa1Listo! Vas a poder usar BUKKUS como una app desde el escritorio."})]}),(0,rb.jsx)("button",{onClick:()=>n(!1),className:"mt-6 bg-oliva text-white px-6 py-2 rounded-full text-sm",children:"\xa1Entendido!"})]})}):null}const xR=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},SR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var ER={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kR=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],_R=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c}=e,u=$w(e,kR);return(0,t.createElement)("svg",Nt(Nt(Nt({ref:n},ER),{},{width:i,height:i,stroke:r,strokeWidth:s?24*Number(o)/Number(i):o,className:SR("lucide",a)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...c.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(l)?l:[l]])}),TR=["className"],CR=(e,n)=>{const r=(0,t.forwardRef)((r,i)=>{let{className:o}=r,s=$w(r,TR);return(0,t.createElement)(_R,Nt({ref:i,iconNode:n,className:SR("lucide-".concat((a=xR(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),o)},s));var a});return r.displayName=xR(e),r},NR=CR("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),IR=CR("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),jR=CR("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),OR=CR("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),PR=CR("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),AR=CR("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);class RR extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=yA(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function LR(e){let{children:n,isPresent:r,anchorX:i,root:o}=e;const s=(0,t.useId)(),a=(0,t.useRef)(null),l=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,t.useContext)(RN);return(0,t.useInsertionEffect)(()=>{const{width:e,height:t,top:n,left:u,right:d}=l.current;if(r||!a.current||!e||!t)return;const h="left"===i?"left: ".concat(u):"right: ".concat(d);a.current.dataset.motionPopId=s;const f=document.createElement("style");c&&(f.nonce=c);const p=null!==o&&void 0!==o?o:document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(h,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{p.removeChild(f),p.contains(f)&&p.removeChild(f)}},[r]),(0,rb.jsx)(RR,{isPresent:r,childRef:a,sizeRef:l,children:t.cloneElement(n,{ref:a})})}const DR=e=>{let{children:n,initial:r,isPresent:i,onExitComplete:o,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c,root:u}=e;const d=XN(MR),h=(0,t.useId)();let f=!0,p=(0,t.useMemo)(()=>(f=!1,{id:h,initial:r,isPresent:i,custom:s,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;o&&o()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[i,d,o]);return a&&f&&(p=Nt({},p)),(0,t.useMemo)(()=>{d.forEach((e,t)=>d.set(t,!1))},[i]),t.useEffect(()=>{!i&&!d.size&&o&&o()},[i]),"popLayout"===l&&(n=(0,rb.jsx)(LR,{isPresent:i,anchorX:c,root:u,children:n})),(0,rb.jsx)(YN.Provider,{value:p,children:n})};function MR(){return new Map}const FR=e=>e.key||"";function VR(e){const n=[];return t.Children.forEach(e,e=>{(0,t.isValidElement)(e)&&n.push(e)}),n}const UR=e=>{let{children:n,custom:r,initial:i=!0,onExitComplete:o,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:u}=e;const[d,h]=ZO(l),f=(0,t.useMemo)(()=>VR(n),[n]),p=l&&!d?[]:f.map(FR),m=(0,t.useRef)(!0),g=(0,t.useRef)(f),v=XN(()=>new Map),[y,b]=(0,t.useState)(f),[w,x]=(0,t.useState)(f);lI(()=>{m.current=!1,g.current=f;for(let e=0;e<w.length;e++){const t=FR(w[e]);p.includes(t)?v.delete(t):!0!==v.get(t)&&v.set(t,!1)}},[w,p.length,p.join("-")]);const S=[];if(f!==y){let e=[...f];for(let t=0;t<w.length;t++){const n=w[t],r=FR(n);p.includes(r)||(e.splice(t,0,n),S.push(n))}return"wait"===a&&S.length&&(e=S),x(VR(e)),b(f),null}const{forceRender:E}=(0,t.useContext)(PN);return(0,rb.jsx)(rb.Fragment,{children:w.map(e=>{const t=FR(e),n=!(l&&!d)&&(f===w||p.includes(t));return(0,rb.jsx)(DR,{isPresent:n,initial:!(m.current&&!i)&&void 0,custom:r,presenceAffectsLayout:s,mode:a,root:u,onExitComplete:n?void 0:()=>{if(!v.has(t))return;v.set(t,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(null===E||void 0===E||E(),x(g.current),l&&(null===h||void 0===h||h()),o&&o())},anchorX:c,children:e},t)})})};function zR(){const{usuarioActivo:e}=(0,t.useContext)(ib),{totalNoLeidos:n}=(0,t.useContext)(vR),r=J().pathname,[i,o]=(0,t.useState)(0),[s,a]=(0,t.useState)({time:0,target:null});(0,t.useEffect)(()=>{if(null===e||void 0===e||!e.id)return;const t=rf(jh(Ud(Xy,"ofertas"),Ph("para","==",e.id),Ph("estado","==","pendiente")),e=>{o(e.size),e.size>0&&"hidden"===document.visibilityState&&(document.title="(".concat(e.size,") Nuevas ofertas - Bukkus"))}),n=()=>{"visible"===document.visibilityState&&(document.title="Bukkus - Trueque de Libros")};return document.addEventListener("visibilitychange",n),()=>{t(),document.removeEventListener("visibilitychange",n)}},[null===e||void 0===e?void 0:e.id]);const l=[{icon:NR,path:"/",label:"Inicio",tourKey:"tour-inicio"},{icon:IR,path:"/billetera",label:"Billetera",tourKey:"tour-billetera"},{icon:jR,path:"/publicar",label:"Publicar",tourKey:"tour-publicar"},{icon:OR,path:"/ofertas",label:"Ofertas",badge:i,badgeColor:"bg-red-500",tourKey:"tour-ofertas"},{icon:PR,path:"/mis-chats",label:"Chats",badge:n,badgeColor:"bg-green-500",tourKey:"tour-chat"},{icon:AR,path:"/perfil",label:"Perfil",tourKey:"tour-perfil"}],c={active:{opacity:1,scale:1},inactive:{opacity:0,scale:.8}};return(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-40 md:hidden",style:{width:"100%",transform:"translateZ(0)",willChange:"transform",zIndex:40},children:[(0,rb.jsx)("nav",{className:"w-full bg-zinc-900 border-t border-zinc-700 shadow-lg backdrop-blur-sm bg-opacity-95",children:(0,rb.jsx)("div",{className:"flex justify-evenly items-center h-16 text-xs font-medium",children:l.map(e=>{const t=(n=e.path,r===n);var n;const i=e.icon;return(0,rb.jsxs)(Ne,{to:e.path,onClick:n=>{t&&(n.preventDefault(),((e,t)=>{const n=(new Date).getTime(),r=n-s.time;s.target===t&&r<300&&(window.scrollTo({top:0,behavior:"smooth"}),Ox.dismiss(),Ox.info("\xa1Volviste al inicio!",{position:"bottom-center",autoClose:1e3,hideProgressBar:!0})),a({time:n,target:t})})(0,e.path))},className:"relative flex flex-col items-center justify-center flex-1 h-full ".concat(t?"text-yellow-500":"text-gray-400 hover:text-yellow-500"," transition-colors duration-200 active:bg-zinc-800 active:bg-opacity-50 rounded-t-lg"),"aria-label":e.label,children:[(0,rb.jsxs)("div",{className:"relative w-full h-full flex flex-col items-center justify-center",children:[(0,rb.jsxs)("div",{className:"relative",children:[(0,rb.jsx)(i,{className:"h-6 w-6 transition-transform duration-200 mx-auto ".concat(t?"scale-110 text-yellow-500":"scale-100 text-gray-400"),strokeWidth:t?2.5:2,"aria-hidden":"true"}),e.badge>0&&(0,rb.jsx)("span",{className:"absolute -top-1 -right-2 ".concat(e.badgeColor," text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center border border-zinc-900"),"aria-hidden":"true",children:e.badge>9?"9+":e.badge})]}),(0,rb.jsx)(UR,{children:t&&(0,rb.jsx)(DA.div,{className:"absolute -bottom-1 w-1.5 h-1.5 bg-yellow-500 rounded-full",initial:"inactive",animate:"active",exit:"inactive",variants:c,transition:{type:"spring",stiffness:500,damping:30}})})]}),(0,rb.jsx)("span",{className:"sr-only",children:e.label})]},e.path)})})}),(0,rb.jsx)("div",{className:"w-full bg-zinc-900",style:{height:"env(safe-area-inset-bottom, 0px)",minHeight:"env(safe-area-inset-bottom, 0px)",paddingBottom:"env(safe-area-inset-bottom, 0px)"}})]}),(0,rb.jsx)("div",{className:"h-16 md:h-0 w-full"})]})}var BR=n(536);const WR=n.p+"static/media/icon_bukkus_yellow.8bc4d5acf47fa1e244d2.png";function HR(e){let{setBusqueda:n}=e;const{usuarioActivo:r,setUsuarioActivo:i}=(0,t.useContext)(ib),{totalNoLeidos:o}=(0,t.useContext)(vR),[s,a]=(0,t.useState)({}),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(0),[p,m]=(0,t.useState)(0),[g,v]=(0,t.useState)(!1),[y]=Oe(),b=ee(),w=(0,t.useRef)(null),x=J();(0,t.useEffect)(()=>{const e=w.current;function t(t){e&&!e.contains(t.target)&&v(!1)}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[w]),(0,t.useEffect)(()=>{v(!1)},[x]),(0,t.useEffect)(()=>{const e=y.get("q");e&&(c(e),n&&n(e))},[y,n]);const S=(0,t.useCallback)((0,BR.debounce)(e=>{if(n){n(e);const t=new URLSearchParams(x.search);e?t.set("q",e):t.delete("q"),b("?".concat(t.toString()),{replace:!0})}},300),[n,x.search,b]);(0,t.useEffect)(()=>()=>{S.cancel()},[S]);const E=e=>{const t=e.target.value;c(t),S(t)},k=()=>{c(""),n&&n("");const e=new URLSearchParams(x.search);e.delete("q"),b("?".concat(e.toString()),{replace:!0})};(0,t.useEffect)(()=>{const e=()=>m(window.scrollY);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.useEffect)(()=>{const e=(null===r||void 0===r?void 0:r.uid)||(null===r||void 0===r?void 0:r.id);if(!e)return;const t=rf(zd(Xy,"usuarios",e),e=>{e.exists()&&a(e.data())});return()=>t()},[r]),(0,t.useEffect)(()=>{if(null===r||void 0===r||!r.id)return;const e=rf(jh(Ud(Xy,"ofertas"),Ph("para","==",r.id),Ph("estado","==","pendiente")),e=>{f(e.size)});return()=>e()},[r]),(0,t.useEffect)(()=>{null!==s&&void 0!==s&&s.ciudad||!("geolocation"in navigator)||navigator.geolocation.getCurrentPosition(async e=>{const{latitude:t,longitude:n}=e.coords;try{var i,o,s,l;const e=await fetch("https://nominatim.openstreetmap.org/reverse?lat=".concat(t,"&lon=").concat(n,"&format=json")),c=await e.json(),u=(null===(i=c.address)||void 0===i?void 0:i.city)||(null===(o=c.address)||void 0===o?void 0:o.town)||(null===(s=c.address)||void 0===s?void 0:s.village)||(null===(l=c.address)||void 0===l?void 0:l.state);if(u){a(e=>Nt(Nt({},e),{},{ciudad:u}));const e=(null===r||void 0===r?void 0:r.uid)||(null===r||void 0===r?void 0:r.id);e&&await ef(zd(Xy,"usuarios",e),{ciudad:u})}}catch(c){console.error("Error al detectar ciudad:",c)}})},[null===s||void 0===s?void 0:s.ciudad,r]);const _=p>40?"text-[16px]":"text-[20px]",T=p>40?"24px":"32px",C=()=>{v(!g)};return(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsxs)("header",{className:"bg-white shadow-md px-4 py-2 flex flex-wrap sm:flex-nowrap sm:justify-between sm:items-center gap-2 w-full fixed top-0 z-50 h-auto sm:h-16",children:[(0,rb.jsx)("div",{className:"flex items-center sm:hidden",children:(0,rb.jsx)(Ne,{to:"/",className:"tour-home flex items-center gap-2 transition-all",children:(0,rb.jsx)("h1",{className:"flex items-center font-bold text-black leading-[1] text-[18px]",children:(0,rb.jsx)("img",{src:WR,alt:"BuKKus logo",className:"h-7 w-7 object-contain"})})})}),(0,rb.jsx)("div",{className:"flex items-center sm:hidden",children:(null===s||void 0===s?void 0:s.ciudad)&&(0,rb.jsxs)("div",{className:"flex items-center text-xs text-gray-600 bg-gray-100 rounded-full px-3 py-1",children:[(0,rb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,rb.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),s.ciudad]})}),(0,rb.jsx)("div",{className:"flex-1 sm:hidden ml-2",children:(0,rb.jsxs)("div",{className:"relative",children:[(0,rb.jsx)(Ab,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"}),(0,rb.jsx)("input",{type:"text",placeholder:"Buscar libros...",value:l,onChange:E,className:"w-full pl-9 pr-9 py-1.5 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 text-sm"}),l&&(0,rb.jsx)("button",{type:"button",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:k,"aria-label":"Limpiar b\xfasqueda",children:(0,rb.jsx)(Ub,{className:"h-4 w-4"})})]})}),(0,rb.jsx)("div",{className:"hidden sm:flex items-center",children:(0,rb.jsx)(Ne,{to:"/",className:"tour-home flex items-center gap-2 transition-all",children:(0,rb.jsxs)("h1",{className:"flex items-center font-bold text-black leading-[1] transition-all ".concat(_),children:["BU",(0,rb.jsx)("img",{src:WR,alt:"BuKKus logo",className:"mx-1 inline-block object-contain translate-y-[1px]",style:{width:T,height:T}}),"US"]})})}),(0,rb.jsx)("div",{className:"hidden sm:flex flex-1 max-w-2xl mx-4",children:(0,rb.jsxs)("div",{className:"relative w-full",children:[(0,rb.jsx)(Ab,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"}),(0,rb.jsx)("input",{type:"text",placeholder:"Buscar libros...",value:l,onChange:E,className:"w-full pl-9 pr-9 py-1.5 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 text-sm"}),l&&(0,rb.jsx)("button",{type:"button",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:k,"aria-label":"Limpiar b\xfasqueda",children:(0,rb.jsx)(Ub,{className:"h-4 w-4"})})]})}),(0,rb.jsx)("div",{className:"hidden sm:flex items-center gap-4",children:r?(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsxs)(Ne,{to:"/billetera",className:"tour-billetera flex items-center gap-1 text-sm text-gray-600 hover:text-yellow-500 transition",children:[(0,rb.jsx)(_b,{className:"text-lg"}),(0,rb.jsx)("span",{children:void 0!==(null===s||void 0===s?void 0:s.saldoTokens)?"".concat(s.saldoTokens," BUKK"):"0 BUKK"})]}),(0,rb.jsxs)(Ne,{to:"/perfil",className:"tour-perfil flex items-center gap-1 text-sm text-gray-600 hover:text-yellow-500 transition",children:[(0,rb.jsx)(Bb,{className:"text-lg"}),(0,rb.jsx)("span",{children:(null===s||void 0===s?void 0:s.nombre)||"Perfil"})]}),(0,rb.jsxs)(Ne,{to:"/ofertas",className:"tour-ofertas relative p-1 text-gray-600 hover:text-yellow-500",children:[(0,rb.jsx)(Sb,{className:"h-5 w-5"}),h>0&&(0,rb.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:h})]}),(0,rb.jsxs)(Ne,{to:"/mis-chats",className:"tour-chat relative p-1 text-gray-600 hover:text-yellow-500",children:[(0,rb.jsx)(pw,{className:"h-5 w-5"}),o>0&&(0,rb.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:o})]}),(0,rb.jsxs)(Ne,{to:"/publicar",className:"tour-publicar hidden md:flex items-center gap-1 px-3 py-1.5 bg-gradient-to-r from-yellow-500 to-yellow-600 text-white text-sm font-medium rounded-full hover:from-yellow-600 hover:to-yellow-700 shadow-md transition-all hover:shadow-lg hover:-translate-y-0.5",children:[(0,rb.jsx)("span",{children:"Publicar"}),(0,rb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,rb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})]}),(0,rb.jsx)("button",{onClick:()=>d(!0),className:"text-gray-600 hover:text-red-500 transition-colors","aria-label":"Cerrar sesi\xf3n",children:(0,rb.jsx)(Db,{className:"h-5 w-5"})})]}):(0,rb.jsx)("button",{onClick:()=>window.dispatchEvent(new Event("abrirLogin")),className:"text-gray-600 hover:text-yellow-500 transition-colors","aria-label":"Iniciar sesi\xf3n",children:(0,rb.jsx)(Lb,{className:"h-5 w-5"})})})]}),(0,rb.jsx)(UR,{children:g&&(0,rb.jsx)(DA.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"sm:hidden bg-white border-t border-gray-200",children:(0,rb.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:r?(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsx)(Ne,{to:"/publicar",className:"block px-3 py-2.5 rounded-md text-base font-medium text-white bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 mb-2 text-center shadow-md",onClick:C,children:"Publicar Libro"}),(0,rb.jsx)(Ne,{to:"/perfil",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-yellow-500 hover:bg-gray-50",onClick:C,children:"Mi perfil"}),(0,rb.jsx)(Ne,{to:"/billetera",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-yellow-500 hover:bg-gray-50",onClick:C,children:"Mi billetera"}),(0,rb.jsxs)(Ne,{to:"/ofertas",className:"relative block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-yellow-500 hover:bg-gray-50",onClick:C,children:["Ofertas",h>0&&(0,rb.jsxs)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[h," nuevas"]})]}),(0,rb.jsxs)(Ne,{to:"/mis-chats",className:"relative block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-yellow-500 hover:bg-gray-50",onClick:C,children:["Chats",o>0&&(0,rb.jsxs)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o," sin leer"]})]}),(0,rb.jsx)("button",{onClick:()=>{d(!0),v(!1)},className:"w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-600 hover:bg-red-50",children:"Cerrar sesi\xf3n"})]}):(0,rb.jsx)("button",{onClick:()=>{v(!1),window.dispatchEvent(new Event("abrirLogin"))},className:"w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-yellow-500",children:"Iniciar sesi\xf3n"})})})}),(0,rb.jsx)(Xw,{isOpen:u,onClose:()=>d(!1),children:(0,rb.jsxs)("div",{className:"text-center p-4",children:[(0,rb.jsx)("h2",{className:"text-lg font-bold mb-3 text-red-600",children:"\xbfCerrar sesi\xf3n?"}),(0,rb.jsx)("p",{className:"text-xl text-gray-700 mb-4",children:"Est\xe1s por cerrar tu cuenta en BuKKus. \xbfEst\xe1s seguro?"}),(0,rb.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,rb.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-1.5 rounded-full bg-gray-200 hover:bg-gray-300 text-sm",children:"Cancelar"}),(0,rb.jsx)("button",{onClick:async()=>{try{await pm(Lg()),i(null),localStorage.clear(),Ox.success("Sesi\xf3n cerrada correctamente",{position:"top-center",autoClose:2e3,hideProgressBar:!0}),Ox.success("Sesi\xf3n cerrada correctamente"),b("/")}catch(e){console.error("Error al cerrar sesi\xf3n:",e),Ox.error("Error al cerrar sesi\xf3n")}finally{d(!1)}},className:"px-4 py-1.5 rounded-full bg-red-500 hover:bg-red-600 text-white text-sm",children:"Cerrar sesi\xf3n"})]})]})})]})}function qR(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(null),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)("");return(0,rb.jsxs)("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded shadow",children:[(0,rb.jsx)("h2",{className:"text-xl font-bold mb-4 text-center",children:"Firebase Auth Test"}),o?(0,rb.jsxs)(rb.Fragment,{children:[(0,rb.jsxs)("div",{className:"mb-4 text-center",children:[(0,rb.jsx)("p",{className:"text-green-700 font-semibold",children:"\xa1Sesi\xf3n iniciada!"}),(0,rb.jsxs)("p",{className:"text-sm",children:["Email: ",o.email]})]}),(0,rb.jsx)("button",{onClick:async()=>{l(!0),u("");try{await pm($y),s(null)}catch(QR){u(QR.message)}finally{l(!1)}},className:"w-full bg-red-500 text-white py-2 rounded mt-2",disabled:a,children:a?"Cerrando sesi\xf3n...":"Cerrar sesi\xf3n"})]}):(0,rb.jsxs)("form",{className:"space-y-4",children:[(0,rb.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>n(e.target.value),className:"w-full border px-3 py-2 rounded"}),(0,rb.jsx)("input",{type:"password",placeholder:"Contrase\xf1a",value:r,onChange:e=>i(e.target.value),className:"w-full border px-3 py-2 rounded"}),(0,rb.jsxs)("div",{className:"flex gap-2",children:[(0,rb.jsx)("button",{onClick:async t=>{t.preventDefault(),l(!0),u("");try{const t=await((e,t)=>hm($y,e,t).then(e=>e.user))(e,r);s(t)}catch(t){u(t.message)}finally{l(!1)}},type:"button",className:"flex-1 bg-oliva text-white py-2 rounded",disabled:a,children:a?"Ingresando...":"Iniciar sesi\xf3n"}),(0,rb.jsx)("button",{onClick:async t=>{t.preventDefault(),l(!0),u("");try{const t=await(async(e,t)=>{const n=(await dm($y,e,t)).user;return await Zh(zd(Xy,"usuarios",n.uid),{nombre:n.displayName||e,email:n.email,avatar:n.photoURL||"https://i.pravatar.cc/29?=default",telefono:"",ciudad:"",bio:"",genero:"",mision:"",fechaRegistro:(new Date).toISOString(),tipoCuenta:"free"}),n})(e,r);s(t)}catch(t){"auth/email-already-in-use"===t.code?u("El email ya est\xe1 registrado. Prueba iniciar sesi\xf3n o usar otro email."):"auth/invalid-email"===t.code?u("El email no es v\xe1lido."):"auth/weak-password"===t.code?u("La contrase\xf1a debe tener al menos 6 caracteres."):t.message&&t.message.includes("400")?u("Error en el registro. Verifica email y contrase\xf1a."):u(t.message||"Error desconocido al registrar.")}finally{l(!1)}},type:"button",className:"flex-1 bg-blue-500 text-white py-2 rounded",disabled:a,children:a?"Registrando...":"Registrarse"})]})]}),c&&(0,rb.jsx)("p",{className:"text-red-600 mt-4 text-center",children:c})]})}function KR(){const{tabActivo:e,setTabActivo:n,busqueda:r,setBusqueda:i}=(0,t.useContext)(ib),o=J(),s=function(){const[e,n]=(0,t.useState)(window.innerWidth<768);return(0,t.useEffect)(()=>{const e=()=>n(window.innerWidth<768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}(),a=o.pathname.startsWith("/chat/")&&s,l=function(){const[e,n]=(0,t.useState)(0);return(0,t.useEffect)(()=>{const e=document.querySelector("header");if(e){const t=()=>{const t=e.offsetHeight;document.documentElement.style.setProperty("--topnav-height","".concat(t,"px")),n(t)},r=new ResizeObserver(t);return r.observe(e),t(),()=>r.disconnect()}},[]),e}(),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(0),[f,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>u(!0);return window.addEventListener("abrirAuthFirebase",e),()=>window.removeEventListener("abrirAuthFirebase",e)},[]),(0,t.useEffect)(()=>{function e(e){if(void 0!==(null===e||void 0===e?void 0:e.detail))h(e.detail);else{const e=localStorage.getItem("usuarioActivoId");e&&h(parseInt(localStorage.getItem("notificaciones_".concat(e)))||0)}}return window.addEventListener("notificacionesUpdate",e),e(),()=>window.removeEventListener("notificacionesUpdate",e)},[]),(0,t.useEffect)(()=>{const e=Qy(Zy,e=>{const{title:t,body:n}=e.notification||{};t&&n&&Ox.info("".concat(t,": ").concat(n),{icon:"\ud83d\udcda"})});return()=>e()},[]),(0,t.useEffect)(()=>{(async()=>{try{if("granted"===(await Pe.requestPermissions()).location){const n=await Pe.getCurrentPosition(),{latitude:r,longitude:i}=n.coords,o=await fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(r,",").concat(i,"&key=AIzaSyC9QoUe73KtgnSyGra7DAHC--DEshWsfUk")),s=await o.json();if(s.results.length>0){var e,t;const n=(null===(e=s.results.find(e=>e.types.includes("locality")||e.types.includes("administrative_area_level_2")))||void 0===e||null===(t=e.address_components[0])||void 0===t?void 0:t.long_name)||"Desconocida";if(n&&!localStorage.getItem("ciudadGuardada")){const e=localStorage.getItem("usuarioActivoId");if(e){const t=zd(Xy,"usuarios",e);await ef(t,{ciudad:n}),localStorage.setItem("ciudadGuardada",n),console.log("\u2705 Ciudad guardada:",n),Ox.success("\ud83d\udccd Ciudad detectada: ".concat(n))}}}}}catch(n){console.error("\u274c Error al obtener ubicaci\xf3n:",n)}})()},[]);return(0,rb.jsxs)("div",{id:"scrollableContent",className:"min-h-screen overflow-y-auto no-scrollbar w-full bg-cream text-gray-800 safe-area",children:[!a&&(0,rb.jsx)(HR,{notificaciones:d,tabActivo:e,setTabActivo:n,setBusqueda:i,setMostrarInstrucciones:p,limpiarDatos:()=>{localStorage.clear(),window.location.reload()}}),(0,rb.jsx)(Xw,{isOpen:c,onClose:()=>u(!1),children:(0,rb.jsx)(qR,{})}),(0,rb.jsx)("main",{className:"w-full max-w-5xl mx-auto px-4 pb-[88px] bg-cream",style:{paddingTop:l,minHeight:"100vh"},children:(0,rb.jsxs)(ye,{children:[(0,rb.jsx)(ge,{path:"/",element:(0,rb.jsx)(L_,{tabActivo:e,busqueda:r})}),(0,rb.jsx)(ge,{path:"/publicar",element:(0,rb.jsx)($A,{})}),(0,rb.jsx)(ge,{path:"/perfil",element:(0,rb.jsx)(cR,{})}),(0,rb.jsx)(ge,{path:"/billetera",element:(0,rb.jsx)(gR,{})}),(0,rb.jsx)(ge,{path:"/ofertas",element:(0,rb.jsx)(uR,{})}),(0,rb.jsx)(ge,{path:"/propuesta/:libroId",element:(0,rb.jsx)(hR,{})}),(0,rb.jsx)(ge,{path:"/chat/:chatId",element:(0,rb.jsx)(fR,{})}),(0,rb.jsx)(ge,{path:"/mis-chats",element:(0,rb.jsx)(bR,{})}),(0,rb.jsx)(ge,{path:"/admin",element:(0,rb.jsx)($b,{})}),(0,rb.jsx)(ge,{path:"/registrar-admin",element:(0,rb.jsx)(Jb,{})})]})}),(0,rb.jsx)(zR,{notificaciones:d}),(0,rb.jsx)(xx,{position:"top-center",autoClose:3e3,theme:"colored",toastClassName:"mt-[env(safe-area-inset-top)]"}),f&&(0,rb.jsx)("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center pt-[env(safe-area-inset-top)]",children:(0,rb.jsxs)("div",{className:"bg-cream rounded-xl p-6 w-[90%] max-w-md shadow-lg overflow-y-auto max-h-[90vh]",children:[(0,rb.jsx)("h2",{className:"text-lg font-bold text-[#f7b22a] text-center mb-4",children:"\xbfC\xf3mo funciona BuKKus?"}),(0,rb.jsxs)("ul",{className:"text-sm text-gray-700 space-y-2 list-disc pl-5 text-left",children:[(0,rb.jsx)("li",{children:"Public\xe1 un libro que quieras intercambiar o regalar."}),(0,rb.jsxs)("li",{children:["Indic\xe1 qu\xe9 tipo de libros te interesan a cambio, o si acept\xe1s ",(0,rb.jsx)("strong",{children:"BUKKcoins"}),"."]}),(0,rb.jsx)("li",{children:"Explor\xe1 publicaciones y hac\xe9 ofertas a otros usuarios desde la secci\xf3n principal."}),(0,rb.jsxs)("li",{children:["Pod\xe9s enviar hasta ",(0,rb.jsx)("strong",{children:"3 ofertas activas"})," si sos Free o ",(0,rb.jsx)("strong",{children:"10"})," si sos Pro."]}),(0,rb.jsx)("li",{children:"Si tu oferta es aceptada, se abre un chat cifrado para coordinar el intercambio."}),(0,rb.jsx)("li",{children:"Desde tu Billetera pod\xe9s ver tu saldo en BUKKcoins, enviar o recibir monedas, y generar tu alias."}),(0,rb.jsxs)("li",{children:["Pod\xe9s ",(0,rb.jsx)("strong",{children:"canjear libros directamente con BUKKcoins"})," si el due\xf1o lo habilit\xf3."]}),(0,rb.jsx)("li",{children:"Tu misi\xf3n personal se completa con cada intercambio o canje exitoso."}),(0,rb.jsx)("li",{children:"Los usuarios Pro acceden a m\xe1s publicaciones, posiciones destacadas y funciones exclusivas."})]}),(0,rb.jsx)("div",{className:"text-center pt-5",children:(0,rb.jsx)("button",{onClick:()=>p(!1),className:"mt-2 bg-[#f7b22a] hover:bg-yellow-400 text-black py-1.5 px-6 rounded-full text-sm",children:"\xa1Entendido!"})})]})}),(0,rb.jsx)(wR,{})]})}const GR=function(){return(0,rb.jsx)(_e,{children:(0,rb.jsx)(ob,{children:(0,rb.jsxs)(yR,{children:[(0,rb.jsx)(eb,{}),(0,rb.jsx)(KR,{})]})})})};"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(e=>{console.log("\u2705 Service Worker de FCM registrado correctamente:",e)}).catch(e=>{console.error("\u274c Error registrando el Service Worker de FCM:",e)});i.createRoot(document.getElementById("root")).render((0,rb.jsx)(GR,{}))})()})();
//# sourceMappingURL=main.0b98ad56.js.map